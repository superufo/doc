window.__require=function e(t,n,r){function i(s,a){if(!n[s]){if(!t[s]){var c=s.split("/");if(c=c[c.length-1],!t[c]){var l="function"==typeof __require&&__require;if(!a&&l)return l(c,!0);if(o)return o(c,!0);throw new Error("Cannot find module '"+s+"'")}s=c}var u=n[s]={exports:{}};t[s][0].call(u.exports,function(e){return i(t[s][1][e]||e)},u,u.exports,e,t,n,r)}return n[s].exports}for(var o="function"==typeof __require&&__require,s=0;s<r.length;s++)i(r[s]);return i}({1:[function(e,t,n){(function(e){function t(e,t){for(var n=0,r=e.length-1;r>=0;r--){var i=e[r];"."===i?e.splice(r,1):".."===i?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}function r(e){"string"!=typeof e&&(e+="");var t,n=0,r=-1,i=!0;for(t=e.length-1;t>=0;--t)if(47===e.charCodeAt(t)){if(!i){n=t+1;break}}else-1===r&&(i=!1,r=t+1);return-1===r?"":e.slice(n,r)}function i(e,t){if(e.filter)return e.filter(t);for(var n=[],r=0;r<e.length;r++)t(e[r],r,e)&&n.push(e[r]);return n}n.resolve=function(){for(var n="",r=!1,o=arguments.length-1;o>=-1&&!r;o--){var s=o>=0?arguments[o]:e.cwd();if("string"!=typeof s)throw new TypeError("Arguments to path.resolve must be strings");s&&(n=s+"/"+n,r="/"===s.charAt(0))}return(r?"/":"")+(n=t(i(n.split("/"),function(e){return!!e}),!r).join("/"))||"."},n.normalize=function(e){var r=n.isAbsolute(e),s="/"===o(e,-1);return(e=t(i(e.split("/"),function(e){return!!e}),!r).join("/"))||r||(e="."),e&&s&&(e+="/"),(r?"/":"")+e},n.isAbsolute=function(e){return"/"===e.charAt(0)},n.join=function(){var e=Array.prototype.slice.call(arguments,0);return n.normalize(i(e,function(e){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e}).join("/"))},n.relative=function(e,t){function r(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}e=n.resolve(e).substr(1),t=n.resolve(t).substr(1);for(var i=r(e.split("/")),o=r(t.split("/")),s=Math.min(i.length,o.length),a=s,c=0;c<s;c++)if(i[c]!==o[c]){a=c;break}var l=[];for(c=a;c<i.length;c++)l.push("..");return(l=l.concat(o.slice(a))).join("/")},n.sep="/",n.delimiter=":",n.dirname=function(e){if("string"!=typeof e&&(e+=""),0===e.length)return".";for(var t=e.charCodeAt(0),n=47===t,r=-1,i=!0,o=e.length-1;o>=1;--o)if(47===(t=e.charCodeAt(o))){if(!i){r=o;break}}else i=!1;return-1===r?n?"/":".":n&&1===r?"/":e.slice(0,r)},n.basename=function(e,t){var n=r(e);return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},n.extname=function(e){"string"!=typeof e&&(e+="");for(var t=-1,n=0,r=-1,i=!0,o=0,s=e.length-1;s>=0;--s){var a=e.charCodeAt(s);if(47!==a)-1===r&&(i=!1,r=s+1),46===a?-1===t?t=s:1!==o&&(o=1):-1!==t&&(o=-1);else if(!i){n=s+1;break}}return-1===t||-1===r||0===o||1===o&&t===r-1&&t===n+1?"":e.slice(t,r)};var o="b"==="ab".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return t<0&&(t=e.length+t),e.substr(t,n)}}).call(this,e("_process"))},{_process:2}],2:[function(e,t){var n,r,i=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}function c(e){if(r===clearTimeout)return clearTimeout(e);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{return r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{r="function"==typeof clearTimeout?clearTimeout:s}catch(e){r=s}})();var l,u=[],f=!1,h=-1;function p(){f&&l&&(f=!1,l.length?u=l.concat(u):h=-1,u.length&&d())}function d(){if(!f){var e=a(p);f=!0;for(var t=u.length;t;){for(l=u,u=[];++h<t;)l&&l[h].run();h=-1,t=u.length}l=null,f=!1,c(e)}}function g(e,t){this.fun=e,this.array=t}function y(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new g(e,t)),1!==u.length||f||a(d)},g.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=y,i.addListener=y,i.once=y,i.off=y,i.removeListener=y,i.removeAllListeners=y,i.emit=y,i.prependListener=y,i.prependOnceListener=y,i.listeners=function(){return[]},i.binding=function(){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},{}],AES:[function(e,t,n){"use strict";cc._RF.push(t,"a3555dSTZ5M+I67+B3K93HR","AES"),Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(){}return e.encrypt=function(e){var t=CryptoJS.enc.Utf8.parse(this.aes_key),n=CryptoJS.enc.Utf8.parse(this.aes_iv),r=CryptoJS.AES.encrypt(e,t,{iv:n,mode:CryptoJS.mode.CBC,padding:CryptoJS.pad.Pkcs7});return CryptoJS.format.OpenSSL.stringify(r)},e.decrypt=function(e){var t=(e=CryptoJS.format.OpenSSL.parse(e)).ciphertext.toString(),n=CryptoJS.enc.Hex.parse(t),r=CryptoJS.enc.Base64.stringify(n),i=CryptoJS.enc.Utf8.parse(this.aes_key),o=CryptoJS.enc.Utf8.parse(this.aes_iv);return CryptoJS.AES.decrypt(r,i,{iv:o,mode:CryptoJS.mode.CBC,padding:CryptoJS.pad.Pkcs7}).toString(CryptoJS.enc.Utf8)},e.aes_iv="GEqDJ9afpSi0wUCr",e.aes_key="FQgGprarat#b98FW",e}();n.default=r,cc._RF.pop()},{}],AudioMgr:[function(e,t,n){"use strict";cc._RF.push(t,"5630cG61yZKWIc7+n553DQZ","AudioMgr"),Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(){}return e.init=function(){var e=cc.sys.localStorage.getItem("fMusicVoice")||1,t=cc.sys.localStorage.getItem("fSoundVoice")||1;this.fMusicValue=+e,this.fSoundVlaue=+t},e.play=function(e,t,n){var r=this;void 0===n&&(n=.65),cc.resources.load(e,cc.AudioClip,function(i,o){if(i)return console.warn(" "+e+" not found!");t?(r.bAudioPlaying&&cc.audioEngine.stopAll(),r.bAudioPlaying=!0,r.nMusicID=cc.audioEngine.play(o,!0,r.fMusicValue*n)):r.fSoundVlaue>0&&(r.getState(r.nSoundID),r.nSoundID=cc.audioEngine.play(o,!1,r.fSoundVlaue))})},e.stopBgMusic=function(){this.stopAudioID(this.nMusicID)},e.setSoundValue=function(e){this.fSoundVlaue=e},e.setMusicValue=function(e){this.fMusicValue=e},e.getMusicValue=function(){return this.fMusicValue},e.chanageVolume=function(){cc.audioEngine.setVolume(this.nSoundID,this.fSoundVlaue),cc.audioEngine.setVolume(this.nMusicID,this.fMusicValue)},e.pauseAudioID=function(e){cc.audioEngine.pause(e)},e.pauseAll=function(){cc.audioEngine.pauseAll()},e.resumeAudioID=function(e){cc.audioEngine.resume(e)},e.resumeAll=function(){cc.audioEngine.resumeAll()},e.stopAudioID=function(e){cc.audioEngine.stop(e)},e.stopAll=function(){cc.audioEngine.stopAll()},e.stopEffect=function(e){cc.audioEngine.stopEffect(e)},e.getState=function(e){return cc.audioEngine.getState(e)},e.nSoundID=65535,e.nMusicID=65535,e.fSoundVlaue=1,e.fMusicValue=1,e.bAudioPlaying=!1,e}();n.default=r,r.init(),cc._RF.pop()},{}],CBase:[function(e,t,n){"use strict";cc._RF.push(t,"ed191GUdutMYKeBl4V/iB5Q","CBase");var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=e("../common/EventMgr"),a=cc._decorator,c=a.ccclass,l=(a.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.onButtonRemoveSelf=function(){this.node.removeFromParent()},t.prototype.onDestroy=function(){s.default.removeTarget(this)},o([c],t)}(cc.Component));n.default=l,cc._RF.pop()},{"../common/EventMgr":"EventMgr"}],CFrame:[function(e,t,n){"use strict";cc._RF.push(t,"084801UOrNInrsgsRpt5sqZ","CFrame");var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},s=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{c(r.next(e))}catch(t){o(t)}}function a(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,a)}c((r=r.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(e){return function(t){return c([e,t])}}function c(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=e("../app/Define"),l=e("./SceneMgr"),u=cc._decorator,f=u.ccclass,h=(u.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.showGameHelp=function(e){return l.default.loadPrefab(c.GameFrameURL.GAME_HELP_URL,e)},t.showGameSet=function(e){return l.default.loadPrefab(c.GameFrameURL.GAME_SET_URL,e)},t.showLanguageSet=function(e){return l.default.loadPrefab(c.GameFrameURL.GAME_LANGUAGE_URL,e)},t.showGameRecord=function(e){return l.default.loadPrefab(c.GameFrameURL.GAME_RECORD_URL,e)},t.showFeedback=function(e){return l.default.loadPrefab(c.GameFrameURL.GAME_FEEDBACK_URL,e)},t.showOnlineUser=function(e){return l.default.loadPrefab(c.GameFrameURL.GAME_ONLINEUSER_URL,e)},t.showText=function(e,t){return s(this,void 0,Promise,function(){var n,r;return a(this,function(i){switch(i.label){case 0:return[4,l.default.loadPrefab(c.GameFrameURL.GAME_TEXTHINT_URL,t)];case 1:return n=i.sent(),(r=n.getComponent("tsTextHint")).init(e),[2,Promise.resolve(r)]}})})},t.showGameAlert=function(e,t){return s(this,void 0,Promise,function(){var e,n;return a(this,function(r){switch(r.label){case 0:return[4,l.default.loadPrefab(c.GameFrameURL.GAME_GAMEALERT_URL)];case 1:return e=r.sent(),(n=e.getComponent("tsGameAlert")).callback=t,[2,Promise.resolve(n)]}})})},o([f],t)}(cc.Component));n.default=h,cc._RF.pop()},{"../app/Define":"Define","./SceneMgr":"SceneMgr"}],CMD:[function(e,t,n){"use strict";cc._RF.push(t,"abe77BHU+FEyI7s1oqop/8L","CMD"),Object.defineProperty(n,"__esModule",{value:!0}),n.default={ERROR:1001,NOTICE_MSG:1004,USER:1005,USER_INFO:1006,GAME_CONFIG:2001,GET_PER_ROUND_INFO:2002,ENTER_GAME:2003,LEAVE_GAME:2004,GAME_1_DESK:3002,GAME_1_BETS:3005,GAME_1_CHANGE_STATE:3006,GAME_1_END_RESULT:3007,GAME_1_START_NEW_BETS:3008,GAME_1_END_AWARD:3009,HEART_BIT:3001,ACCOUNT_INIT:3003,LOGIN:3004,SERVER_LIST:3016},cc._RF.pop()},{}],CNodePool:[function(e,t,n){"use strict";cc._RF.push(t,"fb279mbvExNQrE0oSYVuhoG","CNodePool"),Object.defineProperty(n,"__esModule",{value:!0}),n.CNodePool=void 0;var r=function(){function e(e,t){this.pfBaseItem=e,this.compName=t,this.nodePool=null,this.nodePool=new cc.NodePool}return e.prototype.create=function(){},e.prototype.get=function(){return this.nodePool.size()>0?this.nodePool.get():cc.instantiate(this.pfBaseItem)},e.prototype.put=function(e){var t=e.getComponent(this.compName);t?t.init&&t.init():console.warn("CNodePool \u672a\u627e\u5230\u811a\u672c:"+this.compName),this.nodePool.put(e)},e.prototype.clear=function(){this.nodePool.clear()},e}();n.CNodePool=r,cc._RF.pop()},{}],CRC16:[function(e,t,n){"use strict";cc._RF.push(t,"6e34b2hL1VLI44tiaBytFBe","CRC16"),Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(){}return e.xcrc=function(e,t){var n,r;return n=e<<8,r=255&e>>8^255&t,this.crctab[r]^n},e.ConCRCBuf=function(e,t){var n=0;e=new Uint8Array(e);for(var r=0;r<t;r++)n=this.xcrc(n,e[r]);var i=new ArrayBuffer(2);return new DataView(i).setInt16(0,n,!1),i},e.crctab=[0,4129,8258,12387,16516,20645,24774,28903,33032,37161,41290,45419,49548,53677,57806,61935,4657,528,12915,8786,21173,17044,29431,25302,37689,33560,45947,41818,54205,50076,62463,58334,9314,13379,1056,5121,25830,29895,17572,21637,42346,46411,34088,38153,58862,62927,50604,54669,13907,9842,5649,1584,30423,26358,22165,18100,46939,42874,38681,34616,63455,59390,55197,51132,18628,22757,26758,30887,2112,6241,10242,14371,51660,55789,59790,63919,35144,39273,43274,47403,23285,19156,31415,27286,6769,2640,14899,10770,56317,52188,64447,60318,39801,35672,47931,43802,27814,31879,19684,23749,11298,15363,3168,7233,60846,64911,52716,56781,44330,48395,36200,40265,32407,28342,24277,20212,15891,11826,7761,3696,65439,61374,57309,53244,48923,44858,40793,36728,37256,33193,45514,41451,53516,49453,61774,57711,4224,161,12482,8419,20484,16421,28742,24679,33721,37784,41979,46042,49981,54044,58239,62302,689,4752,8947,13010,16949,21012,25207,29270,46570,42443,38312,34185,62830,58703,54572,50445,13538,9411,5280,1153,29798,25671,21540,17413,42971,47098,34713,38840,59231,63358,50973,55100,9939,14066,1681,5808,26199,30326,17941,22068,55628,51565,63758,59695,39368,35305,47498,43435,22596,18533,30726,26663,6336,2273,14466,10403,52093,56156,60223,64286,35833,39896,43963,48026,19061,23124,27191,31254,2801,6864,10931,14994,64814,60687,56684,52557,48554,44427,40424,36297,31782,27655,23652,19525,15522,11395,7392,3265,61215,65342,53085,57212,44955,49082,36825,40952,28183,32310,20053,24180,11923,16050,3793,7920],e}();n.default=r,cc._RF.pop()},{}],ChipControl:[function(e,t,n){"use strict";cc._RF.push(t,"6adadySQcxL4LwCQVFTeTGq","ChipControl");var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=e("../app/Utils"),a=e("../common/AudioMgr"),c=e("./CNodePool"),l=cc._decorator,u=l.ccclass,f=l.property,h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ChipPool=null,t.nodeOtherUser=null,t.nodeSelf=null,t.listNodeArea=[],t.listNodeTarger=[],t.pfGameChip=null,t.listChipData=[],t}return i(t,e),t.prototype.onLoad=function(){this.ChipPool=new c.CNodePool(this.pfGameChip,"GameChip")},t.prototype.setChipData=function(e){this.listChipData=e},t.prototype.getChipIndex=function(e){var t=e/1e4,n=this.listChipData.findIndex(function(e){return e==Number(t)});return-1==n?0:n},t.prototype.getOffset=function(e,t){var n=s.default.getRandomInt(5,e/3),r=s.default.getRandomInt(5,t/3.5);return Math.random()>.5&&(n=-n),Math.random()>.5&&(r=-r),{offsetX:n,offsetY:r}},t.prototype.reconnectCreateChip=function(e,t){for(var n=0;n<e;n++)for(var r=s.default.getRandomInt(15,50),i=0;i<r;i++){var o=this.listNodeArea[n],a=o.width,c=o.height,l=this.node.convertToNodeSpaceAR(this.listNodeArea[n].convertToWorldSpaceAR(cc.v2(0,0))),u=s.default.getRandomInt(0,t.length),f=this.ChipPool.get();f.getComponent("GameChip").setSpriteFrame(u);var h=this.getOffset(a,c),p=h.offsetX,d=h.offsetY;l.x+=p,l.y+=d,f.setPosition(l),this.node.addChild(f)}},t.prototype.execUserBet=function(e,t,n,r){var i;i=r?s.default.getRandomInt(0,5):this.getChipIndex(n);var o=this.listNodeArea[t],a=o.width,c=o.height,l=this.node.convertToNodeSpaceAR(this.listNodeArea[t].convertToWorldSpaceAR(cc.v2(0,0))),u=0==e?this.nodeSelf:this.nodeOtherUser,f=this.node.convertToNodeSpaceAR(u.convertToWorldSpaceAR(cc.v2(0,0))),h=this.ChipPool.get();h.setPosition(f);var p=h.getComponent("GameChip");p.setSpriteFrame(i);var d=this.getOffset(a,c),g=d.offsetX,y=d.offsetY;l.x+=g,l.y+=y,p.moveTo(l),this.node.addChild(h)},t.prototype.execChipAnim=function(e,t,n){var r=this;return this.moveToMaxPoker(n).then(function(){return console.warn("move to max poker"),r.moveToWinArea(e,n)}).then(function(){return console.warn("move to win area"),r.moveToWinUser(t)})},t.prototype.moveToMaxPoker=function(e){var t=this;return a.default.play("audio/game/1/jiesuan"),new Promise(function(n){for(var r=t.node.childrenCount,i=0;i<r;i++){var o=t.node.children[i],s=t.node.convertToNodeSpaceAR(t.listNodeTarger[e].convertToWorldSpaceAR(cc.v2(0,0))),a=o.getComponent("GameChip");a.tsChipControl=t,a.moveTo(s,!0)}setTimeout(n,1e3)})},t.prototype.moveToWinArea=function(e,t){var n=this;return a.default.play("audio/game/1/jiesuan"),new Promise(function(r){for(var i=s.default.getRandomInt(30,60),o=0;o<i;o++){var a=n.listNodeArea[e],c=a.width,l=a.height,u=n.node.convertToNodeSpaceAR(n.listNodeArea[e].convertToWorldSpaceAR(cc.v2(0,0))),f=n.listNodeTarger[t],h=n.node.convertToNodeSpaceAR(f.convertToWorldSpaceAR(cc.v2(0,0))),p=n.ChipPool.get();p.setPosition(h);var d=p.getComponent("GameChip"),g=s.default.getRandomInt(0,5);d.setSpriteFrame(g);var y=n.getOffset(c,l),v=y.offsetX,m=y.offsetY;u.x+=v,u.y+=m,d.moveTo(u),n.node.addChild(p)}setTimeout(r,1e3)})},t.prototype.moveToWinUser=function(e){var t=this;return a.default.play("audio/game/1/jiesuan"),new Promise(function(n){for(var r=t.node.childrenCount,i=0;i<r;i++){var o=t.node.children[i],s=null;s=e<=0?t.nodeOtherUser:i<r/2?t.nodeSelf:t.nodeOtherUser;var a=t.node.convertToNodeSpaceAR(s.convertToWorldSpaceAR(cc.v2(0,0))),c=o.getComponent("GameChip");c.tsChipControl=t,c.moveTo(a,!0),cc.tween(t.nodeOtherUser).by(.1,{position:cc.v3(5,10)}).by(.1,{position:cc.v3(-5,-10)}).union().repeat(5).start()}setTimeout(n,1e3)})},t.prototype.onDestroy=function(){this.ChipPool.clear(),this.ChipPool=null},o([f(cc.Node)],t.prototype,"nodeOtherUser",void 0),o([f(cc.Node)],t.prototype,"nodeSelf",void 0),o([f([cc.Node])],t.prototype,"listNodeArea",void 0),o([f([cc.Node])],t.prototype,"listNodeTarger",void 0),o([f(cc.Prefab)],t.prototype,"pfGameChip",void 0),o([u],t)}(cc.Component);n.default=h,cc._RF.pop()},{"../app/Utils":"Utils","../common/AudioMgr":"AudioMgr","./CNodePool":"CNodePool"}],Client:[function(e,t,n){"use strict";cc._RF.push(t,"ae08c7wUzxPOb4hWlrbkDCm","Client"),Object.defineProperty(n,"__esModule",{value:!0});var r,i=e("../common/AudioMgr"),o=e("../common/Data"),s=e("../i18n/I18nMgr");(function(){var e=localStorage.getItem("client_language")||"en";o.default.language=e,s.default.initDta();var t=cc.Button.prototype;t.touchEndClone=t._onTouchEnded,t._onTouchEnded=function(e){this.touchEndClone(e),-1==e.target.name.search("No_")&&i.default.play("audio/common/btnClick")};var n=cc.Node.prototype;n._init=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=null,i=0;i<this._components.length;i++)if(this._components[i].init){r=this._components[i];break}if(!r){var o=this._components.length;r=this._components[o-1]}return r?(r._init=function(e,t){return r.init&&r.init(e,t),r},r&&r._init(e,t)):(cc.warn("The component has no script or the node script init function is undefined!"),null)},n._tag=-1,setInterval(function(){console.clear()},18e4)})(),r=null,cc.game.on(cc.game.EVENT_SHOW,function(){console.warn("<<<--- event show --- >>>"),cc.audioEngine.resumeAll(),r.terminate()}),cc.game.on(cc.game.EVENT_HIDE,function(){if(cc.audioEngine.pauseAll(),console.warn("<<<--- event hide --- >>>"),cc.sys.isBrowser){console.warn("isBrowser? ture");var e=new Blob(["function workerThread (){\n                const timer = function() {\n                    self.postMessage('t'); \n                }\n\n                setInterval(timer, 1000 / 60);\n            } ;workerThread();"],{type:"text/javascript"}),t=window.URL.createObjectURL(e);(r=new Worker(t)).onmessage=function(){cc.director.mainLoop()}}}),cc._RF.pop()},{"../common/AudioMgr":"AudioMgr","../common/Data":"Data","../i18n/I18nMgr":"I18nMgr"}],Consts:[function(e,t,n){"use strict";cc._RF.push(t,"2ada3TJrs9KlIPv3bqMB/0J","Consts"),Object.defineProperty(n,"__esModule",{value:!0}),n.EStateLabel=n.EGameState=n.Config=void 0,n.Config={debug:!0,chip_par_value:["1","10","100","1000","10k","100k","1000k"],chip_type:[0,0,0,0,0,0,0],chip_count:10,game_state_time:[5,15,10]},function(e){e[e.WAIT_STATE=0]="WAIT_STATE",e[e.CHIP_IN_STATE=1]="CHIP_IN_STATE",e[e.STOP_CHIP_IN=2]="STOP_CHIP_IN"}(n.EGameState||(n.EGameState={})),function(e){e.WAIT_LABEL="\u65b0\u7684\u5bf9\u5c40\u9a6c\u4e0a\u5f00\u59cb",e.CHIP_IN_LABEL="\u5f00\u59cb\u4e0b\u6ce8\uff01\uff01",e.STOP_CHIP_IN_LABEL="\u505c\u6b62\u4e0b\u6ce8\uff01\uff01"}(n.EStateLabel||(n.EStateLabel={})),cc._RF.pop()},{}],Data:[function(e,t,n){"use strict";cc._RF.push(t,"55264n5b9VPXrObSxI+MIBp","Data"),Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(){}return e.LoginServerInfo={addr:"",port:""},e.language="",e.gameList=null,e.currentGame=1,e.currentRoom=1,e.currentDesk=0,e.userGold=0,e}();n.default=r,cc._RF.pop()},{}],Define:[function(e,t,n){"use strict";cc._RF.push(t,"249ddDNClNEj5JsT7fwgKKF","Define"),Object.defineProperty(n,"__esModule",{value:!0}),n.GameFrameURLName=n.GameFrameURL=n.OS_TAG=void 0,n.OS_TAG="",n.GameFrameURL={GAME_HELP_URL:"prefabs/pfHelp",GAME_SET_URL:"prefabs/pfSet",GAME_RECORD_URL:"prefabs/pfRecord",GAME_FEEDBACK_URL:"prefabs/pfFeedback",GAME_ONLINEUSER_URL:"prefabs/pfOnlineUser",GAME_GAMEALERT_URL:"prefabs/pfGameAlert",GAME_TEXTHINT_URL:"prefabs/pfTextHint",GAME_LANGUAGE_URL:"prefabs/pfLanguage"},n.GameFrameURLName={GAME_HELP_URL:"pfHelp",GAME_SET_URL:"pfSet",GAME_RECORD_URL:"pfRecord",GAME_FEEDBACK_URL:"pfFeedback",GAME_ONLINEUSER_URL:"pfOnlineUser",GAME_GAMEALERT_URL:"pfGameAlert",GAME_TEXTHINT_URL:"pfTextHint",GAME_LANGUAGE_URL:"pfLanguage"},cc._RF.pop()},{}],Dispatch:[function(e,t,n){"use strict";cc._RF.push(t,"c1f5dDVQIlGx6xOKQiCIMud","Dispatch"),Object.defineProperty(n,"__esModule",{value:!0}),n.getMsgType=n.SERVER_MSG_TYPE=void 0;var r,i=e("./PDAdapter");(function(e){e[e.MSG_GAME=1]="MSG_GAME",e[e.MSG_LOGIN=2]="MSG_LOGIN",e[e.MSG_GAME_COMMON=3]="MSG_GAME_COMMON",e[e.MSG_COMMON=4]="MSG_COMMON"})(r=n.SERVER_MSG_TYPE||(n.SERVER_MSG_TYPE={})),n.getMsgType=function(e){var t=i.default[e],n=0;if(!t)return console.warn("getNsgType--cmd: "+e+" not found"),0;switch(t.pb){case"pb_game_1_long_hu_dou":n=r.MSG_GAME;break;case"pb_login":n=r.MSG_LOGIN;break;case"pb_game_all":n=r.MSG_GAME_COMMON;break;case"pb_common":n=r.MSG_COMMON}return n},cc._RF.pop()},{"./PDAdapter":"PDAdapter"}],EventMgr:[function(e,t,n){"use strict";cc._RF.push(t,"200f74WyxFCJLcwr99DkJ9x","EventMgr"),Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(){}return e.addEventListener=function(e,t,n){var r=this._listeners;void 0===r[e]&&(r[e]=[]),this.hasEventListener(e,t,n)||r[e].push({callback:t,eventTarget:n})},e.hasEventListener=function(e,t,n){var r=this._listeners;if(void 0!==r[e])for(var i=r[e],o=0,s=i.length;o<s;o++){var a=i[o];if(a.callback===t&&a.eventTarget===n)return!0}return!1},e.removeEventListener=function(e,t,n){var r=this._listeners[e];if(void 0!==r)for(var i=0;i<r.length;){var o=r[i];o.eventTarget===n&&o.callback===t?r.splice(i,1):i++}},e.removeEventTarget=function(e,t){var n=this._listeners[e];if(void 0!==n)for(var r=0;r<n.length;)n[r].eventTarget===t?n.splice(r,1):r++},e.removeTarget=function(e){var t=this._listeners;for(var n in t)this.removeEventTarget(n,e)},e.dispatchEvent=function(e,t){var n=this._listeners[e];if(void 0!==n)for(var r=n.slice(0),i=0;i<r.length;i++)r[i].callback.call(r[i].eventTarget,t)},e._listeners={},e}();n.default=r,cc._RF.pop()},{}],GameChip:[function(e,t,n){"use strict";cc._RF.push(t,"8da25Xr6XtA/7lJJhKpVYDP","GameChip");var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=e("../app/Utils"),a=cc._decorator,c=a.ccclass,l=a.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.label=null,t.listChipColor=[],t.tsChipControl=null,t}return i(t,e),t.prototype.init=function(){this.node.x=0,this.node.y=0,this.label.string=""},t.prototype.setGold=function(e){this.label.string=s.default.converChip(e)},t.prototype.setSpriteFrame=function(e){if(e<0||e>=this.listChipColor.length)return console.warn(" error! index:",e);this.node.getComponent(cc.Sprite).spriteFrame=this.listChipColor[e]},t.prototype.moveTo=function(e,t){var n=this;void 0===t&&(t=!1);var r=s.default.getRandomInt(2,8)/10;cc.tween(this.node).to(r,{position:cc.v3(e)},{easing:"quadOut"}).call(function(){var e,r;t&&(null===(r=null===(e=n.tsChipControl)||void 0===e?void 0:e.ChipPool)||void 0===r||r.put(n.node))}).start()},o([l(cc.Label)],t.prototype,"label",void 0),o([l(cc.SpriteFrame)],t.prototype,"listChipColor",void 0),o([c],t)}(cc.Component);n.default=u,cc._RF.pop()},{"../app/Utils":"Utils"}],GameFrameEngine:[function(e,t,n){"use strict";cc._RF.push(t,"432ceUI8atKDpGn+G5Lx3oA","GameFrameEngine");var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=e("../frame/GameService"),a=e("./GameFrameVIew"),c=cc._decorator,l=c.ccclass,u=c.property,f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.nodeGameView=null,t}var n;return i(t,e),n=t,t.prototype.onLoad=function(){this.onFrameEngineLoad(),s.default.getIns().tsGameFrameEngine=this},t.prototype.start=function(){n.instance=this,this.onFrameEngineStart()},t.prototype.onFrameEventSceneMessage=function(e,t){this.onEventSceneMessage(e,t)},t.prototype.onFrameEventGameMessage=function(e,t){this.onEventGameMessage(e,t)},t.prototype.onFrameEventUserEnter=function(e,t){var n;null===(n=a.default.instance)||void 0===n||n.onFrameEventUserEnter(t)},t.prototype.onFrameEventUserLeave=function(e,t){var n;null===(n=a.default.instance)||void 0===n||n.onFrameEventUserLeave(t)},t.prototype.onFrameShowRecord=function(e,t){var n;null===(n=a.default.instance)||void 0===n||n.onFrameEventUserShowRecord(t)},t.prototype.sendData=function(e,t){s.default.getIns().sendData(e,t)},t.prototype.onButtonFrameExitGame=function(){s.default.getIns().sendData(1,{game_id:1,money_type:1,room:111,desk:1111})},t.prototype.onDisable=function(){n.instance=null},t.prototype.update=function(e){this.onFrameEngineUpdate(e)},t.prototype.onEventGameMessage=function(){},t.prototype.onEventSceneMessage=function(){},t.prototype.onFrameEngineLoad=function(){},t.prototype.onFrameEngineStart=function(){},t.prototype.onFrameEngineUpdate=function(){},t.instance=null,o([u(cc.Node)],t.prototype,"nodeGameView",void 0),n=o([l],t)}(cc.Component);n.default=f,cc._RF.pop()},{"../frame/GameService":"GameService","./GameFrameVIew":"GameFrameVIew"}],GameFrameVIew:[function(e,t,n){"use strict";cc._RF.push(t,"ae3eaTl2XRBhY89cvWfWO6B","GameFrameVIew");var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=e("../common/AudioMgr"),a=e("../common/CFrame"),c=e("../common/Data"),l=e("../common/PlayerMgr"),u=cc._decorator,f=u.ccclass,h=u.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.nodeViewUser=[],t.pfGamePoker=null,t.nodeChipLayer=null,t.tsChipControl=null,t.wGameStatus=0,t}var n;return i(t,e),n=t,t.prototype.onLoad=function(){n.instance=this,this.nodeChipLayer&&(this.tsChipControl=this.nodeChipLayer.getComponent("ChipControl")),this.onFrameViewLoad()},t.prototype.start=function(){this.nodeViewUser[0].getComponent("tsUserInfo").setUserGold(c.default.userGold),this.onFrameViewStart()},t.prototype.onFrameEventUserEnter=function(e){this.onEventUserEnter(e)},t.prototype.onFrameEventUserLeave=function(e){this.onEventUserLeave(e)},t.prototype.onFrameEventUserShowRecord=function(e){this.onEventUserShowRecord(e)},t.prototype.update=function(e){this.onFrameViewUpdate(e)},t.prototype.onDisable=function(){n.instance=null,s.default.stopAll()},t.prototype.getMeUserInfo=function(){return l.default.getMeUserInfo()},t.prototype.getMeUserGold=function(){return l.default.MeUserInfo.lUserGold},t.prototype.setMeUserGold=function(e){l.default.MeUserInfo.lUserGold=e},t.prototype.updateUserGold=function(){this.nodeViewUser[0].getComponent("tsUserInfo").setUserGold(c.default.userGold)},t.prototype.setUserGameID=function(e){this.nodeViewUser[0].getComponent("tsUserInfo").setUserGameID(e)},t.prototype.onFrameShowOnlineUser=function(e,t){void 0===e&&(e=20);var n={nickname:"self",gold:"888"};a.default.showOnlineUser().then(function(r){r.getComponent("tsOnlineUser").init(e,n,t)})},t.prototype.onEventUserEnter=function(){},t.prototype.onEventUserLeave=function(){},t.prototype.onEventUserShowRecord=function(){},t.prototype.onEventRobotBet=function(){},t.prototype.onFrameViewLoad=function(){},t.prototype.onFrameViewStart=function(){},t.prototype.onFrameViewUpdate=function(){},t.instance=null,o([h(cc.Node)],t.prototype,"nodeViewUser",void 0),o([h(cc.Prefab)],t.prototype,"pfGamePoker",void 0),o([h(cc.Node)],t.prototype,"nodeChipLayer",void 0),n=o([f],t)}(cc.Component);n.default=p,cc._RF.pop()},{"../common/AudioMgr":"AudioMgr","../common/CFrame":"CFrame","../common/Data":"Data","../common/PlayerMgr":"PlayerMgr"}],GameHelp:[function(e,t){"use strict";cc._RF.push(t,"41fe1Lv91xLxIiTgkUBrfsT","GameHelp"),cc._RF.pop()},{}],GameKind:[function(e,t,n){"use strict";cc._RF.push(t,"b8c25xbxZZMZ7ELUC+aQ8XS","GameKind");var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=e("../../../Script/common/Data"),a=e("../../../Script/common/EventMgr"),c=e("../../../Script/common/UIHelp"),l=e("../../../Script/i18n/I18nMgr"),u=cc._decorator,f=u.ccclass,h=u.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.nodeGameIcon=null,t.label_name=null,t.kindID=0,t.kindInfo=null,t}return i(t,e),t.prototype.init=function(e){console.warn("init======:",e),this.kindID=e.game_id,this.kindInfo=e;var t="game_name_"+e.game_id;this.label_name.string=l.default.getLabelString(t);var n="icon/gameIcon"+e.game_id;c.UIHelp.setNodeSpriteFrameByUrl(this.nodeGameIcon,n)},t.prototype.onButtonEvent=function(){var e={game_id:this.kindID,room:1,desk:0};s.default.currentGame=this.kindID,s.default.currentRoom=1,s.default.currentDesk=0,a.default.dispatchEvent("enter_game",e)},o([h(cc.Node)],t.prototype,"nodeGameIcon",void 0),o([h(cc.Label)],t.prototype,"label_name",void 0),o([f],t)}(cc.Component);n.default=p,cc._RF.pop()},{"../../../Script/common/Data":"Data","../../../Script/common/EventMgr":"EventMgr","../../../Script/common/UIHelp":"UIHelp","../../../Script/i18n/I18nMgr":"I18nMgr"}],GamePoker:[function(e,t,n){"use strict";cc._RF.push(t,"85438ULF/VJF6bdxX0aCLW3","GamePoker");var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=e("../common/AudioMgr"),a=e("../common/UIHelp"),c=cc._decorator,l=c.ccclass,u=c.property,f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.nodeLight=null,t.pokerData=0,t}return i(t,e),t.prototype.init=function(e){this.pokerData=e,this.setPokerSprite()},t.prototype.showLight=function(e){this.nodeLight.active=e,e&&this.nodeLight.getComponent(dragonBones.ArmatureDisplay).playAnimation("",0)},t.prototype.setPokerSprite=function(){var e="poker/"+this.getPokerColor()+"_"+this.getPokerValue();a.UIHelp.setNodeSpriteFrameByUrl(this.node,e)},t.prototype.setBackPokerTexture=function(e){void 0===e&&(e=0);var t="poker/0_"+e;a.UIHelp.setNodeSpriteFrameByUrl(this.node,t)},t.prototype.getPokerColor=function(){return this.pokerData%10},t.prototype.getPokerValue=function(){return~~(this.pokerData/100)},t.prototype.openCard=function(e){var t=this;s.default.play("audio/game/1/fanpai"),cc.tween(this.node).to(.1,{position:cc.v3(0,-10),scale:1.2}).to(.15,{scaleX:.1}).call(function(){t.init(e)}).to(.15,{scaleX:1.2}).to(.1,{position:cc.v3(0,0),scale:1}).start()},t.prototype.sendCard=function(){s.default.play("audio/game/1/fapai"),this.node.scale=.5,cc.tween(this.node).to(.15,{scale:1,position:cc.v3(0,0)}).start()},o([u(cc.Node)],t.prototype,"nodeLight",void 0),o([l],t)}(cc.Component);n.default=f,cc._RF.pop()},{"../common/AudioMgr":"AudioMgr","../common/UIHelp":"UIHelp"}],GameService:[function(e,t,n){"use strict";cc._RF.push(t,"29b3emA5wdMwLGvCpBwcxXR","GameService");var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var o=e("../common/CFrame"),s=e("../common/Data"),a=e("../common/EventMgr"),c=e("../i18n/I18nMgr"),l=e("../net/CMD"),u=e("../net/Dispatch"),f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.cbGameStatus=0,t.tsGameFrameEngine=null,t.serviceName="GameService",t.SERVER_EVENT_QUEUE=[],t.isReconnectStatus=!1,t.timerID=0,t}return i(t,e),t.getIns=function(){return this.instance||(this.instance=new t,cc.director.getScheduler().schedule(this.instance.onUpdate,this.instance,0,cc.macro.REPEAT_FOREVER,0,!1)),this.instance},t.prototype.initSocket=function(e,t){this.createWebSocket(e,t,this.serviceName,this)},t.prototype.onSocketRead=function(e,t){console.warn("GameService onSocketRead","wCmdID: "+e+",stData:"+JSON.stringify(t)),2001!=e&&1006!=e?this.SERVER_EVENT_QUEUE.push({wCmdID:e,stData:t}):this.onExecSokcetEvent(e,t)},t.prototype.onExecSokcetEvent=function(e,t){switch(u.getMsgType(e)){case u.SERVER_MSG_TYPE.MSG_COMMON:this.onSocketMainFrame(u.SERVER_MSG_TYPE.MSG_COMMON,e,t);break;case u.SERVER_MSG_TYPE.MSG_GAME_COMMON:this.onSocketMainUser(u.SERVER_MSG_TYPE.MSG_GAME_COMMON,e,t);break;case u.SERVER_MSG_TYPE.MSG_GAME:this.onSocketMainGame(u.SERVER_MSG_TYPE.MSG_GAME,e,t)}},t.prototype.onSocketMainFrame=function(e,t,n){switch(console.warn("\u6e38\u620f\u516c\u5171\u6d88\u606f:",n),t){case 1006:s.default.userGold=n.gold;break;case 1001:2==n.error_code&&o.default.showText(c.default.getLabelString("game_coins_notenough"))}},t.prototype.onSocketMainUser=function(e,t,n){switch(t){case 2001:this.onSocketSubGameList(e,t,n);break;case 2003:this.onSocketSubUserEnter(e,t,n);break;case 2004:this.onSocketSubUserLeave(e,t,n);break;case 2002:this.onSocketShowRecord(e,t,n)}},t.prototype.onSocketMainGame=function(e,t,n){var r;null===(r=this.tsGameFrameEngine)||void 0===r||r.onFrameEventGameMessage(t,n)},t.prototype.onSocketSubGameList=function(e,t,n){s.default.gameList=n,a.default.dispatchEvent("show_game_list")},t.prototype.onSocketSubUserEnter=function(e,t,n){var r;null===(r=this.tsGameFrameEngine)||void 0===r||r.onFrameEventUserEnter(t,n)},t.prototype.onSocketSubUserLeave=function(e,t,n){var r;null===(r=this.tsGameFrameEngine)||void 0===r||r.onFrameEventUserLeave(t,n)},t.prototype.onSocketShowRecord=function(e,t,n){var r;null===(r=this.tsGameFrameEngine)||void 0===r||r.onFrameShowRecord(t,n)},t.prototype.onSocketSubGameScene=function(e,t,n){var r;null===(r=this.tsGameFrameEngine)||void 0===r||r.onFrameEventSceneMessage(t,n)},t.prototype.onMissionOpen=function(n){if(e.prototype.onMissionOpen.call(this,n),this.reconnectCount=0,a.default.dispatchEvent("open_game_server"),this.isReconnectStatus){var r={game_id:s.default.currentGame,room:s.default.currentRoom,desk:s.default.currentDesk};t.getIns().sendData(l.default.ENTER_GAME,r),cc.director.loadScene("GameScene"+s.default.currentGame)}this.isReconnectStatus=!1},t.prototype.onMissionClosed=function(t,n){var r=this;e.prototype.onMissionClosed.call(this,t,n),this.isReconnect&&t?setTimeout(function(){console.warn("\u91cd\u8fde>>>>>>"),r.initSocket(r.address,r.port)},2e3):cc.director.getScheduler().unschedule(this.onUpdate,this)},t.prototype.onUpdate=function(){if(this.SERVER_EVENT_QUEUE.length>0&&this.tsGameFrameEngine){var e=this.SERVER_EVENT_QUEUE.shift(),t=e.wCmdID,n=e.stData;this.onExecSokcetEvent(t,n)}},t.prototype.sendGameData=function(e,t){this.sendData(e,t)},t.instance=null,t}(e("../net/SocketDelegate").default);n.default=f,cc._RF.pop()},{"../common/CFrame":"CFrame","../common/Data":"Data","../common/EventMgr":"EventMgr","../i18n/I18nMgr":"I18nMgr","../net/CMD":"CMD","../net/Dispatch":"Dispatch","../net/SocketDelegate":"SocketDelegate"}],GameSocket:[function(e,t,n){"use strict";cc._RF.push(t,"f681b0wT8tN4Jxy1Jyt5kwi","GameSocket");var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{c(r.next(e))}catch(t){o(t)}}function a(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,a)}c((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(e){return function(t){return c([e,t])}}function c(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var o,s=e("../app/Utils"),a=e("./CMD"),c=e("./Serializer");(function(e){e[e.CONNECTING=0]="CONNECTING",e[e.OPEN=1]="OPEN",e[e.CLOSING=2]="CLOSING",e[e.CLOSED=3]="CLOSED"})(o||(o={}));var l=function(){function e(){this._id=1313131,this.address="",this.port="",this.Socket=null,this.socketName=null,this.serverUrl=null,this.connectState=!1,this.socketDelegate=null,this.serverHeartTimer=0,this.detectCount=0,this.recvBuffer=[],this.bufferDataSize=0,this.ws_init_num=0,this.ws_add_num=0,this.ws_time=0,this.disconnectType=1,this.recvQueue=[],this.sendQueue=[]}return e.prototype.setSocketName=function(e){this.socketName=e},e.prototype.setDelegate=function(e){this.socketDelegate=e},e.prototype.createWebSocket=function(e,t){this.port=t,this.address=e;var n="ws://"+e+":"+t;console.warn("init websocket:"+n);try{this.Socket=new WebSocket(n),this.Socket.binaryType="arraybuffer",this.serverUrl=n,this.initEventHandle()}catch(r){}},e.prototype.initEventHandle=function(){this.Socket.onopen=this.onOpen.bind(this),this.Socket.onclose=this.onClose.bind(this),this.Socket.onerror=this.onError.bind(this),this.Socket.onmessage=this.onMessage.bind(this)},e.prototype.send=function(e){return r(this,void 0,void 0,function(){return i(this,function(){return this.sendQueue.push(e),[2]})})},e.prototype.onOpen=function(){this.socketDelegate&&this.socketDelegate.onMissionOpen(this.serverUrl),this.connectState=!0,cc.director.getScheduler().schedule(this.socketUpdate,this,0,cc.macro.REPEAT_FOREVER,0,!1)},e.prototype.onMessage=function(e){return r(this,void 0,void 0,function(){var t,n,r,o;return i(this,function(i){switch(i.label){case 0:return console.warn("-----socket on message-----"),this.resetHeartbeat(),t=e.data,n=new DataView(t),r=n.getUint16(0),console.warn("<<<<< on message--cmd:"+r),r==a.default.HEART_BIT?[2]:[4,c.default.DataUnPack(t)];case 1:return o=i.sent(),r==a.default.ACCOUNT_INIT&&c.default.SetInitMsg(o.init_num,o.add_num),this.recvQueue.push(t),[2]}})})},e.prototype.onClose=function(){console.warn("\u901a\u77e5\u8fde\u63a5\u65ad\u5f00:"+this.serverUrl),this.socketDelegate&&this.socketDelegate.onMissionClosed(this.disconnectType,this.serverUrl)},e.prototype.onError=function(){this.connectState=!1},e.prototype.socketClose=function(){var e;console.warn("\u4e3b\u52a8\u65ad\u5f00"),this.disconnectType=0,null===(e=this.Socket)||void 0===e||e.close()},e.prototype.onReconnect=function(){},e.prototype.isConnect=function(){return this.Socket.readyState===o.OPEN&&this.connectState},e.prototype.resetHeartbeat=function(){this.detectCount=0},e.prototype.initData=function(){try{this.Socket.onopen=null,this.Socket.onclose=null,this.Socket.onerror=null,this.Socket.onmessage=null,this.Socket=null,this.connectState=!1,this.recvBuffer=[],this.recvQueue=[],this.sendQueue=[],this.bufferDataSize=0,this.detectCount=0,this.serverHeartTimer=0,cc.director.getScheduler().unschedule(this.socketUpdate,this)}catch(e){}},e.prototype.sendHeartbeat=function(){return r(this,void 0,void 0,function(){var e,t,n;return i(this,function(r){switch(r.label){case 0:return this.detectCount++,this.serverHeartTimer=0,e=a.default.HEART_BIT,t={time:s.default.getTimestamp()},[4,c.default.DataPack(e,t)];case 1:return n=r.sent(),this.sendQueue.push(n),[2]}})})},e.prototype.socketUpdate=function(e){this.serverHeartTimer+=e,this.serverHeartTimer>=8&&this.sendHeartbeat(),this.detectCount>3?this.detectCount=0:(this.sendQueue.length>0&&this.isConnect()&&(console.warn(">>>>>>>>>send to server"),this.Socket.send(this.sendQueue.shift())),this.recvQueue.length>0&&this.socketDelegate&&this.socketDelegate.onMessage(this.recvQueue.shift()))},e}();n.default=l,cc._RF.pop()},{"../app/Utils":"Utils","./CMD":"CMD","./Serializer":"Serializer"}],GateService:[function(e,t,n){"use strict";cc._RF.push(t,"67a29rsFTJLuoUq10kkCue0","GateService");var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var o=e("../app/Utils"),s=e("../common/Data"),a=e("../net/CMD"),c=e("../net/SocketDelegate"),l=e("./GameService"),u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.serviceName="GateService",t}return i(t,e),t.getIns=function(){return this.instance||(this.instance=new t),this.instance},t.prototype.initSocket=function(e,t){this.createWebSocket(e,t,this.serviceName,this)},t.prototype.onSocketRead=function(e,n){switch(console.warn("GateService onSocketRead","wCmdID: "+e+",stData:"+JSON.stringify(n)),e){case a.default.ACCOUNT_INIT:var r=o.default.getTimestamp(),i={time:r,sign:hex_md5(r+"bojiu1001")};t.getIns().sendData(a.default.SERVER_LIST,i);break;case a.default.SERVER_LIST:console.warn("server_list request:",JSON.stringify(n)),s.default.LoginServerInfo=n,t.getIns().socketClose(),l.default.getIns().initSocket(s.default.LoginServerInfo.addr,s.default.LoginServerInfo.port)}},t.prototype.onMissionOpen=function(t){e.prototype.onMissionOpen.call(this,t),this.reconnectCount=0},t.prototype.onMissionClosed=function(t,n){e.prototype.onMissionClosed.call(this,t,n)},t.instance=null,t}(c.default);n.default=u,cc._RF.pop()},{"../app/Utils":"Utils","../common/Data":"Data","../net/CMD":"CMD","../net/SocketDelegate":"SocketDelegate","./GameService":"GameService"}],HHDZ_ChipBase:[function(e,t,n){"use strict";cc._RF.push(t,"de95bFY+P1C/qDh73V8JuV/","HHDZ_ChipBase");var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=cc._decorator,a=s.ccclass,c=s.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.chipSprite=null,t.chipNumLabel=null,t}return i(t,e),t.prototype.initChipSprite=function(e,t){var n=this;void 0===e&&(e=0),void 0===t&&(t="100"),this.chipNumLabel.string=t;var r="chip/chip"+e;cc.resources.load(r,cc.SpriteFrame,function(e,t){e?console.log("HHDZ_ChipBase initChipSprite err: ",JSON.stringify(e)):n.chipSprite.spriteFrame=t})},o([c(cc.Sprite)],t.prototype,"chipSprite",void 0),o([c(cc.Label)],t.prototype,"chipNumLabel",void 0),o([a],t)}(cc.Component);n.default=l,cc._RF.pop()},{}],HHDZ_ChipChooseBase:[function(e,t,n){"use strict";cc._RF.push(t,"1cb76U8LLFOLIfdZwiMpfsZ","HHDZ_ChipChooseBase");var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=e("../../../../../Script/config/Consts"),a=e("../manager/HHDZ_Global"),c=cc._decorator,l=c.ccclass,u=c.property,f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.nodeChip=null,t.label_par_value=null,t.chipIndex=0,t.bMove=!1,t}return i(t,e),t.prototype.start=function(){this.label_par_value.string=s.Config.chip_par_value[this.chipIndex],a.HHDZ_Global.gameCacheData.chipSelectIndex=this.chipIndex},t.prototype.onBtnChangeChoose=function(e,t){var n=this;if(!this.bMove){var r=1;if("left"==t){if(0==this.chipIndex)return;this.chipIndex--}else if("right"==t){if(this.chipIndex==s.Config.chip_par_value.length-1)return;r=-1,this.chipIndex++}this.bMove=!0,cc.tween(this.nodeChip).by(.1,{position:cc.v3(95*r,0)}).by(0,{position:cc.v3(-190*r,0)}).by(.1,{position:cc.v3(95*r,0)}).call(function(){n.bMove=!1}).start(),this.label_par_value.string=s.Config.chip_par_value[this.chipIndex],a.HHDZ_Global.gameCacheData.chipSelectIndex=this.chipIndex}},o([u(cc.Node)],t.prototype,"nodeChip",void 0),o([u(cc.Label)],t.prototype,"label_par_value",void 0),o([l],t)}(cc.Component);n.default=f,cc._RF.pop()},{"../../../../../Script/config/Consts":"Consts","../manager/HHDZ_Global":"HHDZ_Global"}],HHDZ_ChipManager:[function(e,t,n){"use strict";cc._RF.push(t,"2c587NyRG1O6ITSpKpihJzi","HHDZ_ChipManager");var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0}),n.HHDZ_ChipMgr=void 0;var s=e("../../../../../Script/config/Consts"),a=cc._decorator,c=a.ccclass,l=(a.property,function(e){function t(){var t=e.call(this)||this;return t.chipNodePools={},t}var n;return i(t,e),n=t,t.getInstance=function(){return null==n.instance&&(n.instance=new n),n.instance},t.prototype.init=function(e){for(var t=0;t<s.Config.chip_par_value.length;t++){for(var n=new cc.NodePool,r=0;r<s.Config.chip_count;r++){var i=cc.instantiate(e);i.getComponent("HHDZ_ChipBase").initChipSprite(s.Config.chip_type[t],s.Config.chip_par_value[t]),n.put(i)}this.chipNodePools[s.Config.chip_par_value[t]]=n}},t.prototype.getChipNodeFromPool=function(e,t){if(!this.chipNodePools[s.Config.chip_par_value[e]])return null;var n=this.chipNodePools[s.Config.chip_par_value[e]].get();return n||(n=cc.instantiate(t)).getComponent("HHDZ_ChipBase").initChipSprite(s.Config.chip_type[e],s.Config.chip_par_value[e]),n},t.prototype.resycleChipNodeToPool=function(e,t){this.chipNodePools[s.Config.chip_par_value[e]].put(t)},t.instance=null,n=o([c],t)}(cc.Component));n.default=l,n.HHDZ_ChipMgr=l.getInstance(),cc._RF.pop()},{"../../../../../Script/config/Consts":"Consts"}],HHDZ_GameScene:[function(e,t,n){"use strict";cc._RF.push(t,"606ddlwsGRDHIkbNUnNmjjm","HHDZ_GameScene");var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=e("../../../../Script/config/Consts"),a=e("./manager/HHDZ_Global"),c=e("./manager/HHDZ_ChipManager"),l=e("../../../../Script/app/Utils"),u=e("../../../../Script/common/CFrame"),f=cc._decorator,h=f.ccclass,p=f.property,d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.labelClock=null,t.nodeNotifyBg=null,t.nodeNotify=null,t.labelNotify=null,t.nodeBlackPoker=null,t.nodeRedPoker=null,t.pfChip=null,t.nodeChipZone=null,t.pfPoker=null,t.pfChipChoose=null,t.nodeMenuList=null,t.btnChipInContinue=null,t.nodeTrendOpen=null,t.gameStateLeftTime=0,t.bMenuOpen=!1,t.bTrendOpen=!1,t}return i(t,e),t.prototype.start=function(){cc.debug.setDisplayStats(!1),this.gameStateLeftTime=s.Config.game_state_time[a.HHDZ_Global.gameState],this.labelClock.string=this.gameStateLeftTime+"",this.gameTimer(),this.schedule(this.gameTimer,1),this.setNotifyAction(),c.HHDZ_ChipMgr.init(this.pfChip),this.btnChipInContinue.interactable=!1},t.prototype.gameTimer=function(){this.gameStateLeftTime--,this.gameStateLeftTime<0?(a.HHDZ_Global.gameState==s.EGameState.WAIT_STATE?this.startChipInState():a.HHDZ_Global.gameState==s.EGameState.CHIP_IN_STATE?this.stopChipInState():this.waitChipInState(),this.setNotifyAction()):this.labelClock.string=this.gameStateLeftTime+""},t.prototype.setNotifyAction=function(){var e=this;a.HHDZ_Global.gameState==s.EGameState.WAIT_STATE?this.labelNotify.string=s.EStateLabel.WAIT_LABEL:a.HHDZ_Global.gameState==s.EGameState.CHIP_IN_STATE?this.labelNotify.string=s.EStateLabel.CHIP_IN_LABEL:a.HHDZ_Global.gameState==s.EGameState.STOP_CHIP_IN&&(this.labelNotify.string=s.EStateLabel.STOP_CHIP_IN_LABEL),this.nodeNotifyBg.active=!0,cc.tween(this.nodeNotify).to(0,{position:cc.v3(-600,0)}).to(.2,{position:cc.v3(0,0)}).delay(1.3).to(0,{position:cc.v3(-600,0)}).call(function(){e.nodeNotifyBg.active=!1}).start()},t.prototype.changeGameState=function(e){a.HHDZ_Global.gameState=e,this.gameStateLeftTime=s.Config.game_state_time[e],this.labelClock.string=this.gameStateLeftTime+""},t.prototype.startChipInState=function(){this.changeGameState(s.EGameState.CHIP_IN_STATE)},t.prototype.stopChipInState=function(){this.changeGameState(s.EGameState.STOP_CHIP_IN),this.nodeBlackPoker.removeAllChildren(),this.showPoker(0,[1,2,3]),this.nodeRedPoker.removeAllChildren(),this.showPoker(1,[4,5,6]),this.btnChipInContinue.interactable=!1,a.HHDZ_Global.gameCacheData.curChipInZone=null},t.prototype.showPoker=function(e,t){for(var n=0;n<t.length;n++){var r=cc.instantiate(this.pfPoker),i=r.getComponent("HHDZ_PokerBase");i&&i.initValue(t[n]),r.setScale(.7),r.setPosition(70*n-80,0),r.parent=0==e?this.nodeBlackPoker:this.nodeRedPoker}},t.prototype.waitChipInState=function(){this.changeGameState(s.EGameState.WAIT_STATE),this.recycleChipNode(),this.dealPoker()},t.prototype.dealPoker=function(){this.nodeBlackPoker.removeAllChildren(),this.nodeRedPoker.removeAllChildren(),this.showPoker(0,[0,0,0]),this.showPoker(1,[0,0,0])},t.prototype.recycleChipNode=function(){if(this.nodeChipZone.children.length){for(var e=0;e<this.nodeChipZone.children.length;e++)c.HHDZ_ChipMgr.resycleChipNodeToPool(a.HHDZ_Global.gameCacheData.chipSelectIndex,this.nodeChipZone.children[e]);this.nodeChipZone.removeAllChildren()}},t.prototype.createChipNode=function(){return c.HHDZ_ChipMgr.getChipNodeFromPool(a.HHDZ_Global.gameCacheData.chipSelectIndex,this.pfChip)},t.prototype.onBtnChipIn=function(e,t){if(a.HHDZ_Global.gameState==s.EGameState.CHIP_IN_STATE){var n,r=0;"black"==t?(n=l.default.getRandomInt(-320,-145),r=l.default.getRandomInt(-80,72),a.HHDZ_Global.gameCacheData.curChipInZone="black"):"lucky"==t?(n=l.default.getRandomInt(-78,80),r=l.default.getRandomInt(-80,72),a.HHDZ_Global.gameCacheData.curChipInZone="lucky"):"red"==t&&(n=l.default.getRandomInt(145,320),r=l.default.getRandomInt(-80,72),a.HHDZ_Global.gameCacheData.curChipInZone="red"),this.btnChipInContinue.interactable=!0;var i=this.createChipNode();i.setScale(.7),i.position=cc.v3(312,230),i.parent=this.nodeChipZone,cc.tween(i).to(.1,{position:cc.v3(n,r)},{easing:"quadOut"}).start()}},t.prototype.onBtnChipInContinue=function(){a.HHDZ_Global.gameCacheData.curChipInZone&&this.onBtnChipIn(null,a.HHDZ_Global.gameCacheData.curChipInZone)},t.prototype.onBtnMenu=function(){this.bMenuOpen?(this.nodeMenuList.active=!1,this.bMenuOpen=!1):(this.nodeMenuList.active=!0,this.bMenuOpen=!0)},t.prototype.onBtnRecord=function(){u.default.showGameRecord(this.node)},t.prototype.onBtnFeedback=function(){u.default.showFeedback(this.node)},t.prototype.onBtnAudio=function(){u.default.showGameSet(this.node)},t.prototype.onBtnHelp=function(){u.default.showGameHelp(this.node)},t.prototype.onBtnTrend=function(){this.bTrendOpen?(this.nodeTrendOpen.active=!1,this.bTrendOpen=!1):(this.nodeTrendOpen.active=!0,this.bTrendOpen=!0)},o([p(cc.Label)],t.prototype,"labelClock",void 0),o([p(cc.Node)],t.prototype,"nodeNotifyBg",void 0),o([p(cc.Node)],t.prototype,"nodeNotify",void 0),o([p(cc.Label)],t.prototype,"labelNotify",void 0),o([p(cc.Node)],t.prototype,"nodeBlackPoker",void 0),o([p(cc.Node)],t.prototype,"nodeRedPoker",void 0),o([p(cc.Prefab)],t.prototype,"pfChip",void 0),o([p(cc.Node)],t.prototype,"nodeChipZone",void 0),o([p(cc.Prefab)],t.prototype,"pfPoker",void 0),o([p(cc.Prefab)],t.prototype,"pfChipChoose",void 0),o([p(cc.Node)],t.prototype,"nodeMenuList",void 0),o([p(cc.Button)],t.prototype,"btnChipInContinue",void 0),o([p(cc.Node)],t.prototype,"nodeTrendOpen",void 0),o([h],t)}(cc.Component);n.default=d,cc._RF.pop()},{"../../../../Script/app/Utils":"Utils","../../../../Script/common/CFrame":"CFrame","../../../../Script/config/Consts":"Consts","./manager/HHDZ_ChipManager":"HHDZ_ChipManager","./manager/HHDZ_Global":"HHDZ_Global"}],HHDZ_Global:[function(e,t,n){"use strict";cc._RF.push(t,"50747S9Ae1HeqTrq4mDvf/t","HHDZ_Global"),Object.defineProperty(n,"__esModule",{value:!0}),n.HHDZ_Global=void 0;var r=function(){function e(){this.gameCacheData={},this.allChipCompnent=[],this.gameState=0}return e.getInstance=function(){return null==e.instance&&(e.instance=new e),e.instance},e.instance=null,e}();n.HHDZ_Global=r.getInstance(),cc._RF.pop()},{}],HHDZ_PokerBase:[function(e,t,n){"use strict";cc._RF.push(t,"d4a615F5T1A7YljYu3mQDi1","HHDZ_PokerBase");var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=cc._decorator,a=s.ccclass,c=s.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.spritePoker=null,t.pokerValue=0,t}return i(t,e),t.prototype.start=function(){},t.prototype.initValue=function(e){var t=this;void 0===e&&(e=0);var n="poker/poker"+e;cc.resources.load(n,cc.SpriteFrame,function(e,n){e?console.log("HHDZ_PokerBase load resources err!"):t.spritePoker.spriteFrame=n})},o([c(cc.Sprite)],t.prototype,"spritePoker",void 0),o([a],t)}(cc.Component);n.default=l,cc._RF.pop()},{}],HttpUrl:[function(e,t,n){"use strict";cc._RF.push(t,"99c7afM6pVOTrPns6hqQrP/","HttpUrl"),Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(){}return e.userLogin="http://18.162.156.222/api/v1/login",e}();n.default=r,cc._RF.pop()},{}],Http:[function(e,t,n){"use strict";cc._RF.push(t,"f4788VEfXpPVaPivcpduG+n","Http"),Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(){}return e.get=function(e,t,n){var r=new XMLHttpRequest;r.onreadystatechange=function(){if(4==r.readyState&&r.status>=200&&r.status<400){var e=r.responseText;console.log(e)}},r.open("GET",e,!0);var i=JSON.stringify(n);r.send(i)},e.post=function(e,t,n){var r=new XMLHttpRequest;r.onreadystatechange=function(){if(4==r.readyState&&r.status>=200&&r.status<400){var e=r.responseText;console.log(e)}},r.open("POST",e,!0);var i=JSON.stringify(n);r.send(i)},e}();n.default=r,cc._RF.pop()},{}],I18nLabel:[function(e,t,n){"use strict";cc._RF.push(t,"bd3e70qOI9EmYIXppHUHf17","I18nLabel");var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=e("./I18nMgr"),a=cc._decorator,c=a.ccclass,l=a.property,u=a.disallowMultiple,f=a.requireComponent,h=a.menu,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.i18n_string="",t.maxLen=0,t}return i(t,e),t.prototype.start=function(){s.default.addOrRemoveLabelMgr(this),this.setValue()},t.prototype.setValue=function(){var e=this.getComponent(cc.Label);if(cc.isValid(e)){var t=s.default.getLabelString(this.i18n_string);this.maxLen>0&&t.length>this.maxLen&&(t=this.splicStr(t,this.maxLen)),e.string=t}},t.prototype.splicStr=function(e,t){return void 0===t&&(t=4),e.slice(0,++t)+".."},t.prototype.onDestroy=function(){s.default.addOrRemoveLabelMgr(this,!0)},o([l(cc.String)],t.prototype,"i18n_string",void 0),o([l(cc.String)],t.prototype,"maxLen",void 0),o([c,f(cc.Label),u,h("Langage/i18nLabel")],t)}(cc.Component);n.default=p,cc._RF.pop()},{"./I18nMgr":"I18nMgr"}],I18nMgr:[function(e,t,n){"use strict";cc._RF.push(t,"b9b615p2x5H/Yi7Bi98vF5L","I18nMgr"),Object.defineProperty(n,"__esModule",{value:!0});var r=e("../common/Data"),i=e("./LabelList"),o=e("./SpriteList"),s=function(){function e(){}return e.initDta=function(){this.language=r.default.language},e.setLanguage=function(){var e=r.default.language;this.language!==e&&(this.language=e,this.reloadLabel(),this.reloadSprite())},e.addOrRemoveLabelMgr=function(e,t){if(t){var n=this.arrLabelMgr.indexOf(e);-1!==n&&this.arrLabelMgr.splice(n,1)}else this.arrLabelMgr.push(e)},e.getLabelString=function(e){return i.default[e][this.language]},e.addOrRemoveSpriteMgr=function(e,t){if(t){var n=this.arrSpriteMgr.indexOf(e);-1!==n&&this.arrSpriteMgr.splice(n,1)}else this.arrSpriteMgr.push(e)},e.getSpriteFrame=function(e,t){var n=this;return new Promise(function(r){var i=o.default[e][n.language];-1!=t&&(i+=t),cc.resources.load(i,cc.SpriteFrame,function(t,n){if(!t)return r(n);console.warn("i18n load faild, target_key:"+e)})})},e.reloadLabel=function(){for(var e=0,t=this.arrLabelMgr;e<t.length;e++)t[e].setValue()},e.reloadSprite=function(){for(var e=0,t=this.arrSpriteMgr;e<t.length;e++)t[e].setValue()},e.language="",e.arrLabelMgr=[],e.arrSpriteMgr=[],e}();n.default=s,cc._RF.pop()},{"../common/Data":"Data","./LabelList":"LabelList","./SpriteList":"SpriteList"}],I18nSprite:[function(e,t,n){"use strict";cc._RF.push(t,"a0209nNQaxHbacTX7ywk4K3","I18nSprite");var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=e("./I18nMgr"),a=cc._decorator,c=a.ccclass,l=a.menu,u=a.property,f=a.disallowMultiple,h=a.requireComponent,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.i18n_key_str="",t}return i(t,e),t.prototype.start=function(){s.default.addOrRemoveSpriteMgr(this),this.setValue()},t.prototype.setValue=function(){var e=this.i18n_key_str,t=this.node._tag,n=this.getComponent(cc.Sprite);cc.isValid(n)&&s.default.getSpriteFrame(e,t).then(function(e){cc.isValid(n)&&(n.spriteFrame=e)})},t.prototype.onDestroy=function(){s.default.addOrRemoveSpriteMgr(this,!0)},o([u(cc.String)],t.prototype,"i18n_key_str",void 0),o([c,h(cc.Sprite),f,l("Langage/i18nSprite")],t)}(cc.Component);n.default=p,cc._RF.pop()},{"./I18nMgr":"I18nMgr"}],IosEvent:[function(e,t,n){"use strict";var r;cc._RF.push(t,"cf24eclqvNCdIQMA5lM/xRf","IosEvent"),Object.defineProperty(n,"__esModule",{value:!0}),n.iosEventResult=void 0,window.IosEventCallback=function(e,t){console.warn("ios_callback--cmd:"+e+", agrs:"+t),i.onEventResult(e,t)},function(e){e[e.NET_CHANGE=0]="NET_CHANGE"}(r||(r={}));var i=function(){function e(){}return e.onEventResult=function(e){switch(e){case r.NET_CHANGE:console.warn("ios event result case net changed")}},e}();n.iosEventResult=i,cc._RF.pop()},{}],LHD_GameEngine:[function(e,t,n){"use strict";cc._RF.push(t,"95e36hCY2tKEKvf03CtMeZ8","LHD_GameEngine");var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=e("../../../../Script/common/Data"),a=e("../../../../Script/frameInterface/GameFrameEngine"),c=e("../../../../Script/net/CMD"),l=cc._decorator,u=l.ccclass,f=(l.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.tsGameView=null,t}return i(t,e),t.prototype.onFrameEngineLoad=function(){this.tsGameView=this.nodeGameView.getComponent("LHD_GameView"),this.tsGameView.tsGameEngine=this},t.prototype.onFrameEngineStart=function(){console.warn("ggggggggggggggggg")},t.prototype.onEventGameMessage=function(e,t){switch(console.warn("\u6e38\u620f\u6d88\u606f\u5b9e\u73b0: cmd:"+e+", data:"+JSON.stringify(t)),e){case c.default.GAME_1_BETS:console.warn("\u7528\u6237\u4e0b\u6ce8"),this.tsGameView.onEvnetUserBet(t);break;case c.default.GAME_1_CHANGE_STATE:console.warn("\u72b6\u6001\u6539\u53d8  0\u7a7a\u95f2  1\u5f00\u59cb\u4e0b\u6ce8  2\u7ed3\u675f\u6295\u6ce8\u5f00\u5956\u53d6\u503c"),this.tsGameView.onGameChangeStatus(t);break;case c.default.GAME_1_END_RESULT:console.warn("\u5f00\u724c\u7ed3\u679c"),this.tsGameView.onEvnetGameEnd(t);break;case c.default.GAME_1_START_NEW_BETS:this.tsGameView.onGameNewStart(t);break;case c.default.GAME_1_DESK:console.warn("\u684c\u5b50\u4fe1\u606f:",JSON.stringify(t)),s.default.currentDesk=t.desk_id,this.tsGameView.onEvnetDeskInfo(t);break;case c.default.GAME_1_END_AWARD:this.tsGameView.onEventOpenAward(t)}},t.prototype.onEventSceneMessage=function(e,t){console.warn("\u573a\u666f\u6d88\u606f\u5b9e\u73b0: cmd:"+e+", data:"+JSON.stringify(t))},t.prototype.onFrameEngineUpdate=function(){},o([u],t)}(a.default));n.default=f,cc._RF.pop()},{"../../../../Script/common/Data":"Data","../../../../Script/frameInterface/GameFrameEngine":"GameFrameEngine","../../../../Script/net/CMD":"CMD"}],LHD_GameLogic:[function(e,t,n){"use strict";cc._RF.push(t,"a5d01umXlVKIbnKV1aiwNGV","LHD_GameLogic"),Object.defineProperty(n,"__esModule",{value:!0});var r=e("../../../../Script/app/Utils"),i=function(){function e(){}return e.getChipList=function(e){return(e/=1e4)>0&&e<=100?[1,3,5,8,15]:e>100&&e<=1e3?[10,30,50,80,150]:e>1e3&&e<=1e4?[100,300,500,800,1500]:e>1e4?[1e3,3e3,5e3,8e3,15e3]:[1,3,5,8,15]},e.getRobotChipProbPercent=function(e){return 10==e?r.default.getRandomInterger(3,5):9==e?r.default.getRandomInterger(5,8):8==e?r.default.getRandomInterger(10,15):7==e?r.default.getRandomInterger(20,30):6==e?r.default.getRandomInterger(25,40):5==e?r.default.getRandomInterger(15,25):4==e?r.default.getRandomInterger(5,8):3==e?r.default.getRandomInterger(3,5):2==e?r.default.getRandomInterger(3,5):1==e?0:void 0},e}();n.default=i,cc._RF.pop()},{"../../../../Script/app/Utils":"Utils"}],LHD_GameView:[function(e,t,n){"use strict";cc._RF.push(t,"a2b2bOFkKNJKqv91jBg0aOg","LHD_GameView");var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},s=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{c(r.next(e))}catch(t){o(t)}}function a(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,a)}c((r=r.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(e){return function(t){return c([e,t])}}function c(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=e("../../../../Script/app/Utils"),l=e("../../../../Script/common/AudioMgr"),u=e("../../../../Script/common/CFrame"),f=e("../../../../Script/common/Data"),h=e("../../../../Script/common/Robot"),p=e("../../../../Script/common/UIHelp"),d=e("../../../../Script/frameInterface/GameFrameVIew"),g=e("../../../../Script/i18n/I18nMgr"),y=e("../../../../Script/net/CMD"),v=e("./LHD_GameLogic"),m=e("../../../../Script/app/Define"),_=cc._decorator,b=_.ccclass,w=_.property,E=[1,5,10,20,50],S=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.tsGameEngine=null,t.nodeClock=null,t.isClockShake=!1,t.label_timer=null,t.listHandPoker=[],t.listChip=[],t._timerCount=0,t.listAreaScore=[],t.nodeLuDan=null,t.listAreaBetCount=[0,0,0],t.listSelfAreaBetCount=[0,0,0],t.gameTotalBetCount=0,t.nodeSendCard=null,t.pfLuDanItem=null,t.pfPK=null,t.pfScore=null,t.listRecord=[],t.isOpenLuDan=!1,t.listAreaLight=[],t.listBetsArea=[],t.listSelfAreaTotal=[],t.isAgainBet=!0,t.isFirstBet=!0,t.myGameAward=0,t.nodeChipChoose=null,t.tsChipChoose=null,t.nodeUserHead=null,t.posUserHead=null,t}return i(t,e),t.prototype.start=function(){this.posUserHead=this.nodeUserHead.getPosition(),this.updateUserGold()},t.prototype.onFrameViewLoad=function(){E=v.default.getChipList(f.default.userGold),this.tsChipControl.setChipData(E),this.initChipChoose(E)},t.prototype.initChipChoose=function(e){var t=this.nodeChipChoose.getComponent("tsChipChoose");t.init(e),this.tsChipChoose=t},t.prototype.onFrameViewStart=function(){l.default.play("audio/game/1/bgm",!0)},t.prototype.onEventUserEnter=function(e){console.warn("\u7528\u6237\u8fdb\u5165\u6d88\u606f\u5b9e\u73b0: data:"+e)},t.prototype.onEventUserLeave=function(e){console.warn("\u7528\u6237\u79bb\u5f00\u6d88\u606f\u5b9e\u73b0: data:"+e)},t.prototype.onEvnetDeskInfo=function(e){this._timerCount=e.next_time,this.listRecord=e.all_result,this.listRecord.length=5,this.wGameStatus=e.status,this.showGameStatusHint(e.status),this.updateLuDanView(this.isOpenLuDan);for(var t=0;t<e.bets_area.length;t++)this.listBetsArea[t]=e.bets_area[t].all_bets;1==e.status&&(this.tsChipControl.reconnectCreateChip(3,E),this.gameTotalBetCount=1,this.reconnectSetAreaTotalCount(e.bets_area),h.default.init(e.next_time-1,3,this.listBetsArea)),this.setUserGameID(e.player.s_id),this.initCard()},t.prototype.updateLuDanView=function(e){this.nodeLuDan.removeAllChildren();for(var t=this.listRecord.length-1;t>=0;t--){var n=cc.instantiate(this.pfLuDanItem);if(n.getComponent("LHD_LuDanItem").init(this.listRecord[t]),this.nodeLuDan.addChild(n),!e)break}},t.prototype.addLuDanData=function(e){this.listRecord.push(e),this.listRecord.length>5&&this.listRecord.shift()},t.prototype.reconnectSetAreaTotalCount=function(e){for(var t=0;t<e.length;t++){var n=e[t];this.setAreaBetCount(t,n.all_bets,n.my_bets),this.listAreaBetCount[t]=n.all_bets}},t.prototype.setAreaBetCount=function(e,t,n){var r=c.default.converScore(t),i=c.default.converScore(n);t<1e7&&(r=(~~r).toFixed(2)),this.listAreaScore[e].string=r+"/"+i},t.prototype.onEventRobotBet=function(e){this.tsChipControl.execUserBet(1,e.area,e.chip,!0),this.listAreaBetCount[e.area]+=e.chip,this.gameTotalBetCount+=e.chip,this.setAreaBetCount(e.area,this.listAreaBetCount[e.area],this.listSelfAreaBetCount[e.area]),this.userHeadShake()},t.prototype.userHeadShake=function(){cc.Tween.stopAllByTarget(this.nodeUserHead),cc.tween(this.nodeUserHead).to(0,{position:this.posUserHead}).by(.1,{position:cc.v3(-20,-20)}).by(.1,{position:cc.v3(20,20)}).start()},t.prototype.onEvnetUserBet=function(e){l.default.play("audio/game/1/selfbet"),this.tsChipControl.execUserBet(0,e.area,e.chip,!1),this.listAreaBetCount[e.area]+=e.chip,this.listSelfAreaBetCount[e.area]+=e.chip,this.gameTotalBetCount+=e.chip,this.setAreaBetCount(e.area,this.listAreaBetCount[e.area],e.my_all_chip),f.default.userGold=e.my_chip,this.updateUserGold(),this.isFirstBet&&(this.listSelfAreaTotal=[]),this.isFirstBet=!1,this.listSelfAreaTotal.push({area:e.area,chip:e.chip})},t.prototype.onEvnetGameEnd=function(e){return s(this,void 0,void 0,function(){var t=this;return a(this,function(n){switch(n.label){case 0:return this.isFirstBet=!0,f.default.currentDesk=e.desk,this.addLuDanData(e.result),[4,this.openCard(e)];case 1:return n.sent(),this.setAwardEffect(e.result),this.gameTotalBetCount>0&&setTimeout(function(){t.tsChipControl.execChipAnim(e.result,t.myGameAward,e.result).then(function(){t.myGameAward>0&&(t.showScoreAnim(),t.updateUserGold())})},1e3),0==e.result&&l.default.play("audio/game/1/dragon"),2==e.result&&l.default.play("audio/game/1/tiger"),this.updateLuDanView(this.isOpenLuDan),this.tsChipChoose.setBtnChangeStatus(),[2]}})})},t.prototype.setAwardEffect=function(e){if(this.listAreaLight[e].active=!0,0==e||2==e)return 2==e&&(e=1),void this.listHandPoker[e].children[0].getComponent("GamePoker").showLight(!0);for(var t=0;t<2;t++)this.listHandPoker[t].children[0].getComponent("GamePoker").showLight(!0)},t.prototype.initAwardEffect=function(){for(var e=0;e<this.listAreaLight.length;e++)this.listAreaLight[e].active=!1},t.prototype.sendCard=function(){var e=this,t=this.listHandPoker[0],n=cc.instantiate(this.pfGamePoker),r=n.getComponent("GamePoker");r.setBackPokerTexture(),t.addChild(n);var i=t.convertToNodeSpaceAR(this.nodeSendCard.convertToWorldSpaceAR(cc.v2(0,0)));n.setPosition(i),r.sendCard();var o=function(){var t=e.listHandPoker[1],n=cc.instantiate(e.pfGamePoker),r=n.getComponent("GamePoker");r.setBackPokerTexture(1),t.addChild(n);var i=t.convertToNodeSpaceAR(e.nodeSendCard.convertToWorldSpaceAR(cc.v2(0,0)));n.setPosition(i),r.sendCard()};setTimeout(function(){o()},200)},t.prototype.openCard=function(e){var t=this;return new Promise(function(n){t.listHandPoker[0].children[0].getComponent("GamePoker").openCard(e.long),setTimeout(function(){t.listHandPoker[1].children[0].getComponent("GamePoker").openCard(e.hu),setTimeout(function(){n()},800)},700)})},t.prototype.playPKAnim=function(){var e=this;return new Promise(function(t){var n=cc.instantiate(e.pfPK);e.tsGameEngine.node.addChild(n),n.getComponent("LHD_Spine").lisennerCallback=function(){t(),n.removeFromParent()}})},t.prototype.showScoreAnim=function(){var e=cc.instantiate(this.pfScore);this.nodeViewUser[0].addChild(e),e.getComponent(cc.Label).string="+"+c.default.converScore(this.myGameAward),cc.tween(e).to(.4,{position:cc.v3(0,100)}).delay(1.5).call(function(){e.removeFromParent()}).start()},t.prototype.onEventOpenAward=function(e){console.warn("\u6e38\u620f\u7ed3\u7b97:",e.my_award),this.myGameAward=e.my_award,f.default.userGold+=e.my_award},t.prototype.onGameChangeStatus=function(e){if(this._timerCount=e.next_time,this.wGameStatus=e.status,0!=e.status){var t=g.default.getLabelString("game_start");1==e.status?(t=g.default.getLabelString("game_start_bet"),this.isAgainBet&&this.execAgainBet(),h.default.init(e.next_time,3,this.listBetsArea)):2==e.status&&(t=g.default.getLabelString("game_tingzhixz")),u.default.showText(t),l.default.play("audio/game/1/change")}},t.prototype.showGameStatusHint=function(e){1==e&&u.default.showText(g.default.getLabelString("game_xiazhuzhong"))},t.prototype.onGameNewStart=function(e){var t=this;if(console.warn("\u5f00\u59cb\u65b0\u4e00\u5c40: ",JSON.stringify(e)),this._timerCount=e.next_time,0==e.status)for(var n=0;n<this.listHandPoker.length;n++)this.listHandPoker[n].children[0].removeFromParent();for(n=0;n<e.area.length;n++)this.listBetsArea[n]=e.area[n].all_bets;this.listAreaBetCount=[0,0,0],this.listSelfAreaBetCount=[0,0,0],this.gameTotalBetCount=0,this.initAreaBetCount(),this.initAwardEffect(),this.playPKAnim().then(function(){t.sendCard()})},t.prototype.initCard=function(){for(var e=0;e<this.listHandPoker.length;e++){var t=this.listHandPoker[e],n=cc.instantiate(this.pfGamePoker);n.getComponent("GamePoker").setBackPokerTexture(e),t.addChild(n)}},t.prototype.initAreaBetCount=function(){for(var e=this.listAreaScore.length,t=0;t<e;t++)this.listAreaScore[t].string="0.00/0.00"},t.prototype.onButtonUserBet=function(e,t){if(1!=this.wGameStatus)return u.default.showText(g.default.getLabelString("game_not_bet_status"));var n={area:Number(t),chip:1e4*E[this.tsChipChoose.getCurChipIndex()],room:f.default.currentRoom,desk_id:f.default.currentDesk};this.tsGameEngine.sendData(y.default.GAME_1_BETS,n),p.UIHelp.onBtnClickAgain(e.target)},t.prototype.onButtonShowLuDan=function(){this.isOpenLuDan=!this.isOpenLuDan,this.updateLuDanView(this.isOpenLuDan)},t.prototype.onButtonShowOnlineUser=function(){this.onFrameShowOnlineUser()},t.prototype.onButtonAgain=function(){this.isAgainBet=!this.isAgainBet,1==this.wGameStatus&&this.isAgainBet&&this.execAgainBet()},t.prototype.execAgainBet=function(){if(0!=this.listSelfAreaTotal.length){var e=this.listSelfAreaTotal.reduce(function(e,t){return e.chip+t.chip});if(f.default.userGold<e)return u.default.showText(g.default.getLabelString("game_coins_notenough"));for(var t=0;t<this.listSelfAreaTotal.length;t++){var n=this.listSelfAreaTotal[t],r={area:n.area,chip:n.chip,room:f.default.currentRoom,desk_id:f.default.currentDesk};this.tsGameEngine.sendData(y.default.GAME_1_BETS,r)}this.listSelfAreaTotal=[]}},t.prototype.initData=function(){},t.prototype.countDown=function(){},t.prototype.onFrameViewUpdate=function(e){this._timerCount>0&&(this.label_timer.string=~~this._timerCount+"",this._timerCount-=e,3!=Number(this.label_timer.string)||1!=this.wGameStatus||this.isClockShake||(this.isClockShake=!0,this.showClockEffect()))},t.prototype.showClockEffect=function(){var e=this;l.default.play("audio/game/1/schedule"),cc.tween(this.nodeClock).to(.075,{angle:-10}).to(.15,{angle:10}).to(.075,{angle:0}).union().repeat(12).call(function(){e.isClockShake=!1}).start()},t.prototype.onEventUserShowRecord=function(e){var t=cc.find("Canvas").getChildByName(m.GameFrameURLName.GAME_RECORD_URL);null!=t&&t.getComponent("tsGameRecord").showRecord(e.per_round_info)},o([w(cc.Node)],t.prototype,"nodeClock",void 0),o([w(cc.Label)],t.prototype,"label_timer",void 0),o([w([cc.Node])],t.prototype,"listHandPoker",void 0),o([w([cc.Label])],t.prototype,"listAreaScore",void 0),o([w(cc.Node)],t.prototype,"nodeLuDan",void 0),o([w(cc.Node)],t.prototype,"nodeSendCard",void 0),o([w(cc.Prefab)],t.prototype,"pfLuDanItem",void 0),o([w(cc.Prefab)],t.prototype,"pfPK",void 0),o([w(cc.Prefab)],t.prototype,"pfScore",void 0),o([w(cc.Node)],t.prototype,"listAreaLight",void 0),o([w(cc.Node)],t.prototype,"nodeChipChoose",void 0),o([w(cc.Node)],t.prototype,"nodeUserHead",void 0),o([b],t)}(d.default);n.default=S,cc._RF.pop()},{"../../../../Script/app/Define":"Define","../../../../Script/app/Utils":"Utils","../../../../Script/common/AudioMgr":"AudioMgr","../../../../Script/common/CFrame":"CFrame","../../../../Script/common/Data":"Data","../../../../Script/common/Robot":"Robot","../../../../Script/common/UIHelp":"UIHelp","../../../../Script/frameInterface/GameFrameVIew":"GameFrameVIew","../../../../Script/i18n/I18nMgr":"I18nMgr","../../../../Script/net/CMD":"CMD","./LHD_GameLogic":"LHD_GameLogic"}],LHD_LuDanItem:[function(e,t,n){"use strict";cc._RF.push(t,"972b6eVaFlPRa3aBOyP7bZZ","LHD_LuDanItem");var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=e("../../../../../Script/common/UIHelp"),a=cc._decorator,c=a.ccclass,l=a.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.spfIcon=[],t}return i(t,e),t.prototype.init=function(e){s.UIHelp.setNodeSpriteFrame(this.node,this.spfIcon[e])},o([l([cc.SpriteFrame])],t.prototype,"spfIcon",void 0),o([c],t)}(cc.Component);n.default=u,cc._RF.pop()},{"../../../../../Script/common/UIHelp":"UIHelp"}],LHD_Spine:[function(e,t,n){"use strict";cc._RF.push(t,"5fdecVfrMFIgZKP+hXj02kS","LHD_Spine");var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=e("../../../../../Script/common/AudioMgr"),a=cc._decorator,c=a.ccclass,l=(a.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.lisennerCallback=null,t}return i(t,e),t.prototype.start=function(){var e=this;s.default.play("audio/game/1/dragon"),s.default.play("audio/game/1/tiger"),this.node.getComponent(dragonBones.ArmatureDisplay).addEventListener(dragonBones.EventObject.LOOP_COMPLETE,function(){e.lisennerCallback&&e.lisennerCallback()},this)},o([c],t)}(cc.Component));n.default=l,cc._RF.pop()},{"../../../../../Script/common/AudioMgr":"AudioMgr"}],LabelList:[function(e,t,n){"use strict";cc._RF.push(t,"a6091TO9h9KuqGpDthV1YvZ","LabelList"),Object.defineProperty(n,"__esModule",{value:!0}),n.default={"Lang Cade":{en:"\u82f1\u8bed",vi:"\u8d8a\u5357",zh:"\u4e2d\u6587"},game_loding:{en:"Lodiing...",vi:"\u0110ang t\u1ea3i...",zh:"\u6b63\u5728\u52a0\u8f7d\u4e2d..."},area_name_long:{en:"Dragon",vi:"R\u1ed3ng",zh:"\u9f99"},area_name_hu:{en:"Tiger",vi:"H\u1ed5",zh:"\u864e"},area_name_he:{en:"Tie",vi:"H\xf2a",zh:"\u548c"},game_xutou:{en:"Again",vi:"n\u1eefa",zh:"\u7eed\u6295"},game_xiazhuzhong:{en:"The bet",vi:"\u0110\u1eb7t c\u01b0\u1ee3c",zh:"\u4e0b\u6ce8\u4e2d"},game_tingzhixz:{en:"Stop betting",vi:"ng\u1eebng c\xe1 c\u01b0\u1ee3c",zh:"\u505c\u6b62\u4e0b\u6ce8"},game_start:{en:"Games start",vi:"Tr\xf2 ch\u01a1i b\u1eaft \u0111\u1ea7u",zh:"\u6e38\u620f\u5f00\u59cb"},game_start_bet:{en:"Start betting",vi:"b\u1eaft \u0111\u1ea7u c\xe1 c\u01b0\u1ee3c",zh:"\u5f00\u59cb\u4e0b\u6ce8"},game_coins_notenough:{en:"Your gold coins are not enough",vi:"Ti\u1ec1n v\xe0ng c\u1ee7a b\u1ea1n kh\xf4ng \u0111\u1ee7",zh:"\u60a8\u7684\u91d1\u5e01\u4e0d\u8db3"},game_not_bet_status:{en:"The current state cannot bet",vi:"Tr\u1ea1ng th\xe1i hi\u1ec7n t\u1ea1i kh\xf4ng th\u1ec3 \n\u0111\u1eb7t c\u01b0\u1ee3c",zh:"\u5f53\u524d\u72b6\u6001\u4e0d\u80fd\u4e0b\u6ce8"},window_title_record:{en:"Record",vi:"Ghi l\u1ea1i",zh:"\u8bb0\u5f55"},window_title_set:{en:"Setings",vi:"Thi\u1ebft l\u1eadp",zh:"\u8bbe\u7f6e"},window_title_languageSet:{en:"Language seting",vi:"c\xe0i \u0111\u1eb7t ng\xf4n ng\u1eef",zh:"\u8bed\u8a00\u8bbe\u7f6e"},window_title_alert:{en:"Prompt",vi:"G\u1ee3i \xfd",zh:"\u63d0\u793a"},record_zhanshishitiao:{en:"Show the latest 10 game records",vi:"Hi\u1ec3n th\u1ecb 10 b\u1ea3n ghi tr\xf2 ch\u01a1i m\u1edbi nh\u1ea5t",zh:"\u5c55\u793a\u6700\u65b010\u6761\u6e38\u620f\u8bb0\u5f55"},record_item_wanfa:{en:"game",vi:"tr\xf2 ch\u01a1i",zh:"\u73a9\u6cd5"},record_item_paijubianhao:{en:"numbering",vi:"\u0111\xe1nh s\u1ed1",zh:"\u724c\u5c40\u7f16\u53f7"},record_item_fangjian:{en:"room",vi:"s\u1ed1 ph\xf2ng",zh:"\u623f\u95f4"},record_item_yingli:{en:"profit",vi:"l\u1ee3i nhu\u1eadn",zh:"\u76c8\u5229"},record_item_jieshusj:{en:"endtime",vi:"th\u1eddi gian",zh:"\u7ed3\u675f\u65f6\u95f4"},record_item_touzhuxq:{en:"detail",vi:"chi ti\u1ebft",zh:"\u6295\u6ce8\u8be6\u60c5"},record_no_remind:{en:"Please check back after playing a game",vi:"Vui l\xf2ng ki\u1ec3m tra l\u1ea1i sau khi ch\u01a1i tr\xf2 ch\u01a1i",zh:"\u8bf7\u73a9\u4e00\u5c40\u6e38\u620f\u540e\u518d\u6765\u67e5\u770b"},btn_sure:{en:"Sure",vi:"Ch\u1eafc ch\u1eafn",zh:"\u786e\u5b9a"},game_name_1:{en:"T vs D",vi:"R\u1ed3ng vs H\u1ed5",zh:"\u9f99\u864e\u6597"},help_title:{en:"Help",vi:"Gi\xfap \u0111\u1ee1",zh:"\u5e2e\u52a9"},help_title1:{en:"How to play",vi:"C\xe1ch ch\u01a1i",zh:"\u4e00\u3001\u73a9\u6cd5"},help_content1:{en:"1.This game uses 1 decks (excluding jokers) totaling 52 cards.\n2.'Dragon' sends the first card, 'Tiger' sends the second card, does not need to fill the card, according to the number of points on the card, the same number of points is 'Tie'.\n3.Click on the bet area while the bet is in the state to place a bet.",vi:"1. Tr\xf2 ch\u01a1i n\xe0y s\u1eed d\u1ee5ng 1 b\u1ed9 b\xe0i (kh\xf4ng bao g\u1ed3m qu\xe2n joker) t\u1ed5ng c\u1ed9ng 52 l\xe1.\n2. 'R\u1ed3ng' g\u1eedi th\u1ebb \u0111\u1ea7u ti\xean, 'H\u1ed5' g\u1eedi th\u1ebb th\u1ee9 hai, kh\xf4ng c\u1ea7n \u0111i\u1ec1n th\u1ebb, theo s\u1ed1 \n\u0111i\u1ec3m tr\xean th\u1ebb, c\xf9ng s\u1ed1 \u0111i\u1ec3m l\xe0 'H\xf2a'.\n3.Khi tr\u1ea1ng th\xe1i c\xe1 c\u01b0\u1ee3c \u0111ang di\u1ec5n ra, h\xe3y nh\u1ea5p v\xe0o khu v\u1ef1c c\xe1 c\u01b0\u1ee3c \u0111\u1ec3 \u0111\u1eb7t c\u01b0\u1ee3c.",zh:"\u672c\u6e38\u620f\u91c7\u75281\u526f\u724c\uff08\u4e0d\u542b\u5927\u5c0f\u9b3c\uff09\u5171\u8ba152\u5f20\u3002\n\u9f99\u6d3e\u7b2c\u4e00\u5f20\u724c\uff0c\u864e\u6d3e\u7b2c\u4e8c\u5f20\u724c\uff0c\u65e0\u987b\u8865\u724c\uff0c\u6839\u636e\u724c\u9762\u70b9\u6570\u5b9a\u8f93\u8d62\uff0c\u724c\u9762\u70b9\u6570\u76f8\u540c\u5219\u4e3a\u548c\u3002\n\u4e0b\u6ce8\u4e2d\u72b6\u6001\u65f6\u70b9\u51fb\u4e0b\u6ce8\u533a\u57df\u5373\u53ef\u4e0b\u6ce8\u3002"},help_title2:{en:"Odds",vi:"T\u1ef7 l\u1ec7 c\u01b0\u1ee3c",zh:"\u4e8c\u3001\u8d54\u7387"},help_content2_0_0:{en:"Betting Points",vi:"\u0110i\u1ec3m \u0111\u1eb7t c\u01b0\u1ee3c",zh:"\u6295\u6ce8\u70b9"},help_content2_0_1:{en:"Odds",vi:"T\u1ef7 l\u1ec7 c\u01b0\u1ee3c",zh:"\u8d54\u7387"},help_content2_0_2:{en:"Winning conditinons",vi:"\u0110i\u1ec1u ki\u1ec7n chi\u1ebfn th\u1eafng",zh:"\u83b7\u80dc\u6761\u4ef6"},help_content2_1_0:{en:"Dragon",vi:"R\u1ed3ng",zh:"\u9f99"},help_content2_1_1:{en:"1 : 1",vi:"1 : 1",zh:"1 : 1"},help_content2_1_2:{en:"The cards at which the 'Dragon' betting point is greater than the card at which the 'Tiger' betting point",vi:"C\xe1c qu\xe2n b\xe0i m\xe0 \u0111i\u1ec3m \u0111\u1eb7t c\u01b0\u1ee3c 'R\u1ed3ng' l\u1edbn h\u01a1n qu\xe2n b\xe0i m\xe0 t\u1ea1i \u0111\xf3 \u0111i\u1ec3m \u0111\u1eb7t c\u01b0\u1ee3c 'H\u1ed5'",zh:"\u201c\u9f99\u201d\u4e0b\u6ce8\u70b9\u7684\u724c\u5927\u4e8e\u201c\u864e\u201d\u4e0b\u6ce8\u70b9\u7684\u724c"},help_content2_2_0:{en:"Tiger",vi:"H\u1ed5",zh:"\u864e"},help_content2_2_1:{en:"1 : 1",vi:"1 : 1",zh:"1 : 1"},help_content2_2_2:{en:"The cards at which the 'Tiger' betting point is greater than the card at which the 'Dragon' betting point",vi:"C\xe1c qu\xe2n b\xe0i m\xe0 \u0111i\u1ec3m \u0111\u1eb7t c\u01b0\u1ee3c 'H\u1ed5' l\u1edbn h\u01a1n qu\xe2n b\xe0i m\xe0 t\u1ea1i \u0111\xf3 \u0111i\u1ec3m \u0111\u1eb7t c\u01b0\u1ee3c 'R\u1ed3ng'",zh:"\u201c\u864e\u201d\u4e0b\u6ce8\u70b9\u7684\u724c\u5927\u4e8e\u201c\u9f99\u201d\u4e0b\u6ce8\u70b9\u7684\u724c"},help_content2_3_0:{en:"Tie",vi:"H\xf2a",zh:"\u548c"},help_content2_3_1:{en:"1 : 8",vi:"1 : 8",zh:"1 : 8"},help_content2_3_2:{en:"'Tiger' and 'Dragon' betting points have the same number of cards",vi:"\u0110i\u1ec3m c\xe1 c\u01b0\u1ee3c 'H\u1ed5' v\xe0 'R\u1ed3ng' c\xf3 c\xf9ng s\u1ed1 th\u1ebb",zh:"\u201c\u864e\u201d\u3001\u201c\u9f99\u201d\u4e0b\u6ce8\u70b9\u7684\u724c\u70b9\u6570\u76f8\u540c"},help_title3:{en:"Payment",vi:"S\u1ef1 chi tr\u1ea3",zh:"\u4e09\u3001\u8d54\u4ed8"},help_content3:{en:"1.Individual draws per individual betting area.\n2.When opening a 'Tie': 'Dragon' and 'Tiger' bet points are all killed and valid bets are recorded.\n3.In other cases, the effective bet amount is equal to the actual bet amount.\n",vi:"1. R\xfat th\u0103m c\xe1 nh\xe2n cho m\u1ed7i khu v\u1ef1c c\xe1 c\u01b0\u1ee3c.\n2.Khi m\u1edf v\xe1n 'H\xf2a': \u0110i\u1ec3m \u0111\u1eb7t c\u01b0\u1ee3c 'R\u1ed3ng' v\xe0 'H\u1ed5' \u0111\u1ec1u b\u1ecb ti\xeau di\u1ec7t v\xe0 c\xe1c c\u01b0\u1ee3c h\u1ee3p l\u1ec7 \u0111\u01b0\u1ee3c ghi l\u1ea1i.\n3.Trong c\xe1c tr\u01b0\u1eddng h\u1ee3p kh\xe1c, s\u1ed1 ti\u1ec1n \u0111\u1eb7t c\u01b0\u1ee3c hi\u1ec7u qu\u1ea3 b\u1eb1ng s\u1ed1 ti\u1ec1n \u0111\u1eb7t c\u01b0\u1ee3c th\u1ef1c t\u1ebf.",zh:"\u6309\u7167\u5355\u4e2a\u4e0b\u6ce8\u533a\u57df\u5355\u72ec\u62bd\u6c34\n\u5f00\u201c\u548c\u201d\u65f6\uff1a\u9f99\u864e\u4e0b\u6ce8\u70b9\u901a\u6740\u4e14\u8bb0\u6709\u6548\u6295\u6ce8\n\u5176\u4ed6\u60c5\u51b5\u6709\u6548\u4e0b\u6ce8\u91d1\u989d\u7b49\u4e8e\u5b9e\u9645\u4e0b\u6ce8\u91d1\u989d"}},cc._RF.pop()},{}],Main:[function(e,t,n){"use strict";cc._RF.push(t,"a5be6CRI01D/7R7mqENba2b","Main");var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=e("./app/CBase"),a=e("./app/Utils"),c=e("./common/Data"),l=e("./common/EventMgr"),u=e("./common/UIHelp"),f=e("./config/ServerInfo"),h=e("./frame/GameService"),p=e("./frame/GateService"),d=e("./i18n/I18nMgr"),g=e("./net/CMD"),y=cc._decorator,v=y.ccclass,m=y.property,_=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.nodeBtnLogin=null,t.pfGameKind=null,t.nodeKinContent=null,t.pfLoding=null,t}return i(t,e),t.prototype.start=function(){cc.debug.setDisplayStats(!1),u.UIHelp.onWindowResize(),d.default.initDta(),l.default.addEventListener("open_game_server",this.onWebsocketOpen,this),p.default.getIns().initSocket(f.GateInfo.host,f.GateInfo.port),l.default.addEventListener("show_game_list",this.onShowGameList,this)},t.prototype.onWebsocketOpen=function(){this.nodeBtnLogin.active=!0,console.warn("---\u6e38\u620f\u670d\u52a1\u8fde\u63a5\u6210\u529f---")},t.prototype.onShowGameList=function(){this.nodeBtnLogin.active=!1;for(var e=c.default.gameList.game,t=0;t<e.length;t++){var n=e[t],r=cc.instantiate(this.pfGameKind);r.getComponent("GameKind").init(n),this.nodeKinContent.addChild(r)}l.default.addEventListener("enter_game",this.onEnterGame,this)},t.prototype.onEnterGame=function(e){var t=cc.instantiate(this.pfLoding);t.getComponent("tsLoding").init("GameScene"+e.game_id,function(){h.default.getIns().sendData(g.default.ENTER_GAME,e),cc.director.loadScene("GameScene1")}),t.parent=this.node},t.prototype.onButtonEvent=function(){var e=a.default.getVisitorAccount();h.default.getIns().sendData(g.default.LOGIN,e)},o([m(cc.Node)],t.prototype,"nodeBtnLogin",void 0),o([m(cc.Prefab)],t.prototype,"pfGameKind",void 0),o([m(cc.Node)],t.prototype,"nodeKinContent",void 0),o([m(cc.Prefab)],t.prototype,"pfLoding",void 0),o([v],t)}(s.default);n.default=_,cc._RF.pop()},{"./app/CBase":"CBase","./app/Utils":"Utils","./common/Data":"Data","./common/EventMgr":"EventMgr","./common/UIHelp":"UIHelp","./config/ServerInfo":"ServerInfo","./frame/GameService":"GameService","./frame/GateService":"GateService","./i18n/I18nMgr":"I18nMgr","./net/CMD":"CMD"}],PBHelper:[function(e,t,n){"use strict";cc._RF.push(t,"a8340FlTrdHk4IPd1J0E9Ke","PBHelper");var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{c(r.next(e))}catch(t){o(t)}}function a(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,a)}c((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(e){return function(t){return c([e,t])}}function c(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var o=e("./PDAdapter"),s=function(){function e(){}return e.getPbInfo=function(e){return o.default[e]},e.LoadProto=function(e,t){ProtoBuf.loadProtoFile(e,function(e,n){t(n||null)})},e.GetPbInfo=function(e){return o.default[e]},e.GetPbParse=function(e,t){var n=this,r=this.m_pbcache[e];r?t(r):this.LoadProto("proto/"+e,function(r){n.m_pbcache[e]=r,t(r)})},e.GetSendTos=function(e){return r(this,void 0,void 0,function(){var t,n;return i(this,function(r){switch(r.label){case 0:return[4,this.GetTos(e)];case 1:return t=r.sent(),(n=new t).__cmd__=e,[2,Promise.resolve(n)]}})})},e.GetTos=function(e){var t=this;return new Promise(function(n){var r=o.default[e];if(""!=r.tos){var i=t.m_msgcache[r.tos];i?n(i):t.GetPbParse(r.pb,function(e){i=e.build(r.tos),t.m_msgcache[r.tos]=i,n(i)})}else console.log("\u4e0d\u5b58\u5728tos\u534f\u8bae\u7ed3\u6784 cmd="+e),Promise.reject(null)})},e.GetToc=function(e){var t=this;return new Promise(function(n){var r=o.default[e];if(""==r.toc)return console.log("\u4e0d\u5b58\u5728toc\u534f\u8bae\u7ed3\u6784 cmd="+e),Promise.resolve(null);var i=t.m_msgcache[r.toc];i?n(i):t.GetPbParse(r.pb,function(e){i=e.build(r.toc),t.m_msgcache[r.toc]=i,n(i)})})},e.m_pbcache={},e.m_msgcache={},e}();n.default=s,cc._RF.pop()},{"./PDAdapter":"PDAdapter"}],PDAdapter:[function(e,t,n){"use strict";cc._RF.push(t,"bb829N7z2tE+4YOq0nBImu5","PDAdapter"),Object.defineProperty(n,"__esModule",{value:!0}),n.default={1001:{pb:"pb_common",tos:"",toc:"m_error_toc"},1004:{pb:"pb_common",tos:"",toc:"m_notice_msg_toc"},1005:{pb:"pb_common",tos:"",toc:"m_user_toc"},1006:{pb:"pb_common",tos:"",toc:"m_user_info_toc"},2001:{pb:"pb_game_all",tos:"",toc:"m_game_config_toc"},2002:{pb:"pb_game_all",tos:"m_get_per_round_info_tos",toc:"m_get_per_round_info_toc"},2003:{pb:"pb_game_all",tos:"m_enter_game_tos",toc:"m_enter_game_toc"},2004:{pb:"pb_game_all",tos:"m_leave_game_tos",toc:"m_leave_game_toc"},3002:{pb:"pb_game_1_long_hu_dou",tos:"",toc:"m_game_1_desk_toc"},3005:{pb:"pb_game_1_long_hu_dou",tos:"m_game_1_bets_tos",toc:"m_game_1_bets_toc"},3006:{pb:"pb_game_1_long_hu_dou",tos:"",toc:"m_game_1_change_state_toc"},3007:{pb:"pb_game_1_long_hu_dou",tos:"",toc:"m_game_1_end_result_toc"},3008:{pb:"pb_game_1_long_hu_dou",tos:"",toc:"m_game_1_start_new_bets_toc"},3009:{pb:"pb_game_1_long_hu_dou",tos:"",toc:"m_game_1_end_award_toc"},3001:{pb:"pb_login",tos:"m_heart_bit_tos",toc:"m_heart_bit_toc"},3003:{pb:"pb_login",tos:"",toc:"m_account_init_toc"},3004:{pb:"pb_login",tos:"m_login_tos",toc:"m_login_toc"},3016:{pb:"pb_login",tos:"m_server_list_tos",toc:"m_server_list_toc"}},cc._RF.pop()},{}],PlayerMgr:[function(e,t,n){"use strict";cc._RF.push(t,"e49b2B8/ihB16bfRubi7PBs","PlayerMgr"),Object.defineProperty(n,"__esModule",{value:!0}),n.UserInfo=void 0;var r=function(){function e(){this.strNickName="",this.lUserGold=0,this.nUserID=0,this.nChairID=0}return e.prototype.setNickName=function(e){this.strNickName=e},e.prototype.setUserGold=function(e){this.lUserGold=e},e.prototype.setChirID=function(e){this.nChairID=e},e.prototype.setUserID=function(e){this.nUserID=e},e}();n.UserInfo=r;var i=function(){function e(){}return e.getMeUserInfo=function(){return this.MeUserInfo},e.addPlayerItem=function(e){this._playerList.push(e)},e.findPlayerByUserID=function(e){for(var t=this._playerList.length,n=0;n<t;n++)if(e===this._playerList[n].nUserID)return this._playerList[n];return null},e.deletePlayerByUserID=function(e){for(var t,n=this._playerList.length,r=0;r<n;r++)e===(null===(t=this._playerList[r])||void 0===t?void 0:t.nUserID)&&this._playerList.splice(r,1)},e.deleteAllPlayer=function(){this._playerList=[]},e.getPalyerList=function(){return this._playerList},e._playerList=[],e.MeUserInfo=null,e}();n.default=i,cc._RF.pop()},{}],Robot:[function(e,t,n){"use strict";cc._RF.push(t,"46420OZoTtP6JvbKAO+Xjf5","Robot"),Object.defineProperty(n,"__esModule",{value:!0});var r=e("../frameInterface/GameFrameVIew"),i=e("./AudioMgr"),o=e("../../Texture/game/1/script/LHD_GameLogic"),s=function(){function e(){}return e.init=function(e,t,n){this._nTimeProb=e,this._nTime=e,this._nAreaCount=t,this._listAreaTotal=n,this.updateProb(0),this.intervalIDProb=setInterval(this.updateProb.bind(this),1e3,1),this.updateChip(0),this.intervalID=setInterval(this.updateChip.bind(this),100,.1)},e.updateProb=function(e){this.curProb=o.default.getRobotChipProbPercent(this._nTimeProb),this._nTimeProb-=e,this._nTimeProb<=0&&(clearInterval(this.intervalIDProb),this.curProb=0,this.curTotalChip=[0,0,0])},e.updateChip=function(e){var t,n;if(this._nTime-=e,this._nTime>0){i.default.play("audio/game/1/jiesuan");for(var o=0;o<this._nAreaCount;o++){var s=Math.floor(this._listAreaTotal[o]*this.curProb/1e3);if(this.curTotalChip[o]+s>=this._listAreaTotal[o]&&(s=this._listAreaTotal[o]-this.curTotalChip[o]),this._nTime<1&&(s=this._listAreaTotal[o]-this.curTotalChip[o],this.curProb=0),this._nTime.toFixed(1)==this._nTimeProb.toFixed(1)&&1==o){s*=10,this.curTotalChip[o]+s>=this._listAreaTotal[o]&&(s=this._listAreaTotal[o]-this.curTotalChip[o]);var a={area:o,chip:s};null===(t=r.default.instance)||void 0===t||t.onEventRobotBet(a)}else 1!=o&&(this.curTotalChip[o]+=s,a={area:o,chip:s},null===(n=r.default.instance)||void 0===n||n.onEventRobotBet(a));(0==s||0==this.curProb||this._nTime<=0)&&clearInterval(this.intervalID)}}},e._nTime=0,e._nAreaCount=0,e._listAreaTotal=[],e.intervalID=0,e._nTimeProb=0,e.curProb=0,e.curTotalChip=[0,0,0],e.intervalIDProb=0,e}();n.default=s,cc._RF.pop()},{"../../Texture/game/1/script/LHD_GameLogic":"LHD_GameLogic","../frameInterface/GameFrameVIew":"GameFrameVIew","./AudioMgr":"AudioMgr"}],SDK:[function(e,t,n){"use strict";cc._RF.push(t,"db3c9PWU4JIwJ+UNKf9Mez2","SDK");var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{c(r.next(e))}catch(t){o(t)}}function a(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,a)}c((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(e){return function(t){return c([e,t])}}function c(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(){}return e.setScreenChange=function(){},e.setText=function(e){var t;return r(this,void 0,void 0,function(){return i(this,function(){return cc.sys.isBrowser?[2,null===(t=window.navigator)||void 0===t?void 0:t.clipboard.writeText(e)]:[2]})})},e.getText=function(){return window.navigator.clipboard.readText()},e.getBattery=function(){return 1},e}();n.default=o,window.SDK=o,cc._RF.pop()},{}],SceneMgr:[function(e,t,n){"use strict";cc._RF.push(t,"f0546fTodBCMpdkDkqxHj/i","SceneMgr"),Object.defineProperty(n,"__esModule",{value:!0});var r=e("../app/Define"),i=e("../frame/GameService"),o=e("../net/CMD"),s=function(){function e(){}return e.setCurrentSceneName=function(e){return this.currentScene=e,this},e.getCurrentSceneName=function(){return this.currentScene},e.scenePush=function(e){var t=this;return new Promise(function(n){cc.director.loadScene(e,function(r,i){if(!r&&i)return t.setCurrentSceneName(e),t.sceneStack.push(e),n();console.warn("load scene failed - "+e)})})},e.loadScene=function(e){cc.director.preloadScene(e,this.onPreloadProgress,function(){cc.director.loadScene(e)})},e.sceneBackFront=function(){var e=this,t=this.sceneStack[this.sceneStack.length-2];return this.sceneStack.pop(),new Promise(function(n){cc.director.loadScene(t,function(r,i){if(!r&&i)return e.setCurrentSceneName(t),n();console.warn("load scene failed - "+t)})})},e.loadPrefab=function(e,t){var n=this;return new Promise(function(s){cc.resources.load(e,cc.Prefab,function(a,c){var l=t||cc.director.getScene().getChildByName("Canvas");if(a)return console.warn("load prefab failed to: "+e);var u=cc.instantiate(c);l.addChild(u,100,e.split("/")[1]),s(u),"GameScene1"==n.currentScene&&e==r.GameFrameURL.GAME_RECORD_URL&&i.default.getIns().sendData(o.default.GET_PER_ROUND_INFO,{page:1,num:10})})})},e.onPreloadProgress=function(){},e.currentScene=null,e.sceneStack=[],e}();n.default=s,cc._RF.pop()},{"../app/Define":"Define","../frame/GameService":"GameService","../net/CMD":"CMD"}],Serializer:[function(e,t,n){"use strict";cc._RF.push(t,"95e4ds8iXJNHqut7xT32yyu","Serializer");var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{c(r.next(e))}catch(t){o(t)}}function a(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,a)}c((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(e){return function(t){return c([e,t])}}function c(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var o=e("./CRC16"),s=e("./PBHelper"),a=function(){function e(){}return e.SetInitMsg=function(e,t){this.init_num=e,this.add_num=t,this.randkind=e,this.isInit=!0},e.ConnectBuf=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=0,r=null,i=0;i<arguments.length;i++)n+=(r=arguments[i]).byteLength;var o=new Uint8Array(n),s=0;for(i=0;i<arguments.length;i++)r=arguments[i],o.set(new Uint8Array(r),s),s+=r.byteLength;return o.buffer},e.GetRandomNum=function(){return this.randkind+=this.add_num},e.CreateRandomBuf=function(){var e=new ArrayBuffer(4),t=new DataView(e),n=this.GetRandomNum();return 0==n&&console.log("random wrong"),t.setInt32(0,n,!1),e},e.ConnectRandomBuf=function(e){var t=this.CreateRandomBuf();return this.ConnectBuf(t,e)},e.DataPack=function(e,t){return r(this,void 0,void 0,function(){var n,r,a,c,l,u;return i(this,function(i){switch(i.label){case 0:return[4,s.default.GetTos(e)];case 1:return n=i.sent(),r=null,n&&(r=n.encode(t)),a=r.toArrayBuffer(),c=new ArrayBuffer(2),new DataView(c).setInt16(0,e,!1),l=this.ConnectRandomBuf(a),u=o.default.ConCRCBuf(l,l.byteLength),[2,this.ConnectBuf(c,u,l)]}})})},e.DataUnPack=function(e){return r(this,void 0,void 0,function(){var t,n,r,o,a,c;return i(this,function(i){switch(i.label){case 0:return t=new DataView(e),new Uint16Array(2),n=t.getUint16(0),r=n,o=e.slice(2,e.byteLength),[4,s.default.GetToc(r)];case 1:return a=i.sent(),c=null,a?c=a.decode(o):console.log("\u4e0d\u5b58\u5728\u7684\u534f\u8bae\u7ed3\u6784 cmd= "+r),[2,Promise.resolve(c)]}})})},e.randkind=0,e.add_num=0,e.init_num=0,e.isInit=!1,e}();n.default=a,cc._RF.pop()},{"./CRC16":"CRC16","./PBHelper":"PBHelper"}],ServerInfo:[function(e,t,n){"use strict";cc._RF.push(t,"2f1a1PeKp9OIY96+NFwyRRs","ServerInfo"),Object.defineProperty(n,"__esModule",{value:!0}),n.GateInfo=void 0;var r=function(){function e(){}return e.host="127.0.0.1",e.port="18080",e}();n.GateInfo=r,cc._RF.pop()},{}],SocketDelegate:[function(e,t,n){"use strict";cc._RF.push(t,"47399meGZFN7a7ed3Cfht95","SocketDelegate");var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{c(r.next(e))}catch(t){o(t)}}function a(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,a)}c((r=r.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(e){return function(t){return c([e,t])}}function c(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var a=e("./GameSocket"),c=e("./Serializer"),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.address="",t.port="",t.delegate=null,t.Socket=null,t.socketName=null,t.isReconnect=!0,t.reconnectMax=3,t.reconnectCount=0,t}return i(t,e),t.prototype.createWebSocket=function(e,t,n,r){this.Socket=new a.default,this.Socket.createWebSocket(e,t),this.Socket.setDelegate(r),this.Socket.setSocketName(n),this.socketName=n,this.address=e,this.port=t,this.delegate=r},t.prototype.sendData=function(e,t){return o(this,void 0,void 0,function(){var n;return s(this,function(r){switch(r.label){case 0:return console.warn("send: cmd:"+e+", data:"+JSON.stringify(t)),[4,c.default.DataPack(e,t)];case 1:return n=r.sent(),this.Socket&&this.Socket.send(n),[2]}})})},t.prototype.onMessage=function(e){return o(this,void 0,void 0,function(){var t,n,r;return s(this,function(i){switch(i.label){case 0:return t=new DataView(e),n=t.getUint16(0),[4,c.default.DataUnPack(e)];case 1:return r=i.sent(),this.onSocketRead(n,r),[2]}})})},t.prototype.socketClose=function(){this.Socket.socketClose()},t.prototype.onSocketRead=function(){},t.prototype.onMissionOpen=function(e){console.warn("\u901a\u77e5\u8fde\u63a5\u6210\u529f:"+e)},t.prototype.onMissionClosed=function(){this.Socket.initData(),this.Socket=null},t}(cc.Component);n.default=l,cc._RF.pop()},{"./GameSocket":"GameSocket","./Serializer":"Serializer"}],SpriteList:[function(e,t,n){"use strict";cc._RF.push(t,"d602ct2MHpMYJ5Qd8krOLBY","SpriteList"),Object.defineProperty(n,"__esModule",{value:!0}),n.default={"Lang Cade":{en:"\u82f1\u8bed",vi:"\u8d8a\u5357",zh:"\u4e2d\u6587"},test:{en:"chip/chip0",vi:"chip/chip5",zh:"chip/chip3"}},cc._RF.pop()},{}],UIHelp:[function(e,t,n){"use strict";cc._RF.push(t,"7f2b5vh5/xNHJfhhc5cQLdK","UIHelp"),Object.defineProperty(n,"__esModule",{value:!0}),n.UIHelp=void 0;var r=function(){function e(){}return e.onWindowResize=function(){cc.sys.isBrowser&&cc.view.setResizeCallback(function(){var e=document.documentElement.clientWidth/document.documentElement.clientHeight,t=cc.view.getDesignResolutionSize().width/cc.view.getDesignResolutionSize().height,n=cc.director.getScene().getChildByName("Canvas").getComponent(cc.Canvas);e<=t?(n.fitHeight=!1,n.fitWidth=!0):(n.fitHeight=!0,n.fitWidth=!1)})},e.getWindowSizeScalRatio=function(){var e=document.documentElement.clientWidth,t=document.documentElement.clientHeight-80,n=cc.view.getDesignResolutionSize().width,r=cc.view.getDesignResolutionSize().height,i=e/n,o=t/r,s=i<o?i:o;return[n*s,r*s]},e.setRemoveAllChildByName=function(e,t){var n=e.getChildByName(t);n&&n.removeAllChildren()},e.setNodeLabelString=function(e,t){var n=e.getComponent(cc.Label);n&&(n.string=t)},e.getNodeLabelString=function(e){var t=e.getComponent(cc.Label);return t?t.string:""},e.setNodeInteractable=function(e,t){if(e){var n=e.getComponent(cc.Button);n&&(n.interactable=t)}},e.setNodeChildInteractable=function(e,t,n){var r=e.getChildByName(t);r&&this.setNodeInteractable(r,n)},e.setNodeOpacity=function(e,t){e&&(e.opacity=t)},e.setNodeButtonInteractable=function(e,t){if(e){var n=e.getComponent(cc.Button);n&&(n.interactable=t)}},e.setNodeChildOpacity=function(e,t,n){var r=e.getChildByName(t);r&&(r.opacity=n)},e.setNodeChildLabelString=function(e,t,n){var r=e.getChildByName(t);if(r){var i=r.getComponent(cc.Label);i&&(i.string=n)}},e.setNodeSpriteFrame=function(e,t){var n=e.getComponent(cc.Sprite);n&&(n.spriteFrame=t)},e.setNodeSpriteFrameByUrl=function(e,t){var n=this;cc.resources.load(t,cc.SpriteFrame,function(r,i){if(r)return console.warn("set node spriteFrame error: "+t);n.setNodeSpriteFrame(e,i)})},e.getNodeSpriteFrame=function(e){return e.getComponent(cc.Sprite).spriteFrame||null},e.getNodeChildSprite=function(e,t){return e.getChildByName(t).getComponent(cc.Sprite)},e.getNodeChildByName=function(e,t){return e.getChildByName(t)},e.setNodeChildColor=function(e,t,n){var r=e.getChildByName(t);r&&(r.color=n)},e.onBtnClickAgain=function(e){var t=e.getComponent(cc.Button);t.enabled=!1,setTimeout(function(){t.enabled=!0},200)},e}();n.UIHelp=r,cc._RF.pop()},{}],Utils:[function(e,t,n){"use strict";cc._RF.push(t,"3319al/ft5Lmr77PmBuzMGy","Utils"),Object.defineProperty(n,"__esModule",{value:!0}),n.MatchUrl=void 0;var r=function(){function e(){}return e.getRandomInterger=function(e,t){return e==t?Math.floor(t):Math.floor(Math.random()*(t-e+1))+e},e.getRandomInt=function(e,t){return Math.random()*(t-e)+e|0},e.dateFormat=function(e,t){void 0===t&&(t=new Date),"number"==typeof t&&(t=new Date(t));var n={"Y+":t.getFullYear().toString(),"m+":(t.getMonth()+1).toString(),"d+":t.getDate().toString(),"H+":t.getHours().toString(),"M+":t.getMinutes().toString(),"S+":t.getSeconds().toString()},r=void 0;for(var i in n)(r=new RegExp("("+i+")").exec(e))&&(e=e.replace(r[1],1==r[1].length?n[i]:n[i].padStart(r[1].length,"0")));return e},e.getTimestamp=function(){return(new Date).getTime()/1e3|0},e.getGUID=function(){var e=this.getTimestamp(),t=this.getRandomInt(0,1e3);return hex_md5(e+t)},e.getVisitorAccount=function(){var e=localStorage.getItem("visitorAccount"),t=localStorage.getItem("visitorPw");if(null==e||""==e){var n=this.getRandomInt(0,1e3),r=(new Date).getTime();e=hex_md5(r+n+"")}return null!=t&&""!=t||(r=(new Date).getTime(),t=hex_md5(r+"")),localStorage.setItem("visitorAccount",e),localStorage.setItem("visitorPw",t),{mac:e,passwd:t}},e.converNickName=function(e,t){return void 0===t&&(t=4),e.length<=4?e:e.slice(0,2)+"**"+e.slice(e.length-(t-2))},e.converScore=function(e){var t=e/1e4;return t>999&&t<=99999?(t/1e3).toFixed(2)+"K":t>99999&&t<=99999999?(t/1e4).toFixed(2)+"W":t>99999999?(t/1e6).toFixed(2)+"M":""+t.toFixed(2)},e.converChip=function(e){return e>999&&e<=99999?e/1e3+"K":e>99999&&e<=99999999?e/1e4+"W":e>99999999?e/1e6+"M":""+e},e.isPhone=function(e){return/^[1][3,4,5,6,7,8,9][0-9]{9}$/.test(e)},e.isEmail=function(e){return/^(\w-*\.*)+@(\w-?)+(\.\w{2,})+$/.test(e)},e}();function i(e){this.strUrl=e}n.default=r,n.MatchUrl=i,i.prototype.get=function(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)"),n=this.strUrl.match(t);return n&&unescape(n[2])},cc._RF.pop()},{}],bytebuffer:[function(e,t){"use strict";var n;cc._RF.push(t,"5153b7VG7BDoogai70/w+wR","bytebuffer"),n=function(e){var t=function e(t,n,i){if(void 0===t&&(t=e.DEFAULT_CAPACITY),void 0===n&&(n=e.DEFAULT_ENDIAN),void 0===i&&(i=e.DEFAULT_NOASSERT),!i){if((t|=0)<0)throw RangeError("Illegal capacity");n=!!n,i=!!i}this.buffer=0===t?r:new ArrayBuffer(t),this.view=0===t?null:new Uint8Array(this.buffer),this.offset=0,this.markedOffset=-1,this.limit=t,this.littleEndian=n,this.noAssert=i};t.VERSION="5.0.1",t.LITTLE_ENDIAN=!0,t.BIG_ENDIAN=!1,t.DEFAULT_CAPACITY=16,t.DEFAULT_ENDIAN=t.BIG_ENDIAN,t.DEFAULT_NOASSERT=!1,t.Long=e||null;var n=t.prototype;n.__isByteBuffer__,Object.defineProperty(n,"__isByteBuffer__",{value:!0,enumerable:!1,configurable:!1});var r=new ArrayBuffer(0),i=String.fromCharCode;function o(e){var t=0;return function(){return t<e.length?e.charCodeAt(t++):null}}function s(){var e=[],t=[];return function(){if(0===arguments.length)return t.join("")+i.apply(String,e);e.length+arguments.length>1024&&(t.push(i.apply(String,e)),e.length=0),Array.prototype.push.apply(e,arguments)}}function a(e,t,n,r,i){var o,s,a=8*i-r-1,c=(1<<a)-1,l=c>>1,u=-7,f=n?i-1:0,h=n?-1:1,p=e[t+f];for(f+=h,o=p&(1<<-u)-1,p>>=-u,u+=a;u>0;o=256*o+e[t+f],f+=h,u-=8);for(s=o&(1<<-u)-1,o>>=-u,u+=r;u>0;s=256*s+e[t+f],f+=h,u-=8);if(0===o)o=1-l;else{if(o===c)return s?NaN:1/0*(p?-1:1);s+=Math.pow(2,r),o-=l}return(p?-1:1)*s*Math.pow(2,o-r)}function c(e,t,n,r,i,o){var s,a,c,l=8*o-i-1,u=(1<<l)-1,f=u>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:o-1,d=r?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=u):(s=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-s))<1&&(s--,c*=2),(t+=s+f>=1?h/c:h*Math.pow(2,1-f))*c>=2&&(s++,c/=2),s+f>=u?(a=0,s=u):s+f>=1?(a=(t*c-1)*Math.pow(2,i),s+=f):(a=t*Math.pow(2,f-1)*Math.pow(2,i),s=0));i>=8;e[n+p]=255&a,p+=d,a/=256,i-=8);for(s=s<<i|a,l+=i;l>0;e[n+p]=255&s,p+=d,s/=256,l-=8);e[n+p-d]|=128*g}t.accessor=function(){return Uint8Array},t.allocate=function(e,n,r){return new t(e,n,r)},t.concat=function(e,n,r,i){"boolean"!=typeof n&&"string"==typeof n||(i=r,r=n,n=void 0);for(var o,s=0,a=0,c=e.length;a<c;++a)t.isByteBuffer(e[a])||(e[a]=t.wrap(e[a],n)),(o=e[a].limit-e[a].offset)>0&&(s+=o);if(0===s)return new t(0,r,i);var l,u=new t(s,r,i);for(a=0;a<c;)(o=(l=e[a++]).limit-l.offset)<=0||(u.view.set(l.view.subarray(l.offset,l.limit),u.offset),u.offset+=o);return u.limit=u.offset,u.offset=0,u},t.isByteBuffer=function(e){return!0===(e&&e.__isByteBuffer__)},t.type=function(){return ArrayBuffer},t.wrap=function(e,r,i,o){if("string"!=typeof r&&(o=i,i=r,r=void 0),"string"==typeof e)switch(void 0===r&&(r="utf8"),r){case"base64":return t.fromBase64(e,i);case"hex":return t.fromHex(e,i);case"binary":return t.fromBinary(e,i);case"utf8":return t.fromUTF8(e,i);case"debug":return t.fromDebug(e,i);default:throw Error("Unsupported encoding: "+r)}if(null===e||"object"!=typeof e)throw TypeError("Illegal buffer");var s;if(t.isByteBuffer(e))return(s=n.clone.call(e)).markedOffset=-1,s;if(e instanceof Uint8Array)s=new t(0,i,o),e.length>0&&(s.buffer=e.buffer,s.offset=e.byteOffset,s.limit=e.byteOffset+e.byteLength,s.view=new Uint8Array(e.buffer));else if(e instanceof ArrayBuffer)s=new t(0,i,o),e.byteLength>0&&(s.buffer=e,s.offset=0,s.limit=e.byteLength,s.view=e.byteLength>0?new Uint8Array(e):null);else{if("[object Array]"!==Object.prototype.toString.call(e))throw TypeError("Illegal buffer");(s=new t(e.length,i,o)).limit=e.length;for(var a=0;a<e.length;++a)s.view[a]=e[a]}return s},n.writeBitSet=function(e,t){var n=void 0===t;if(n&&(t=this.offset),!this.noAssert){if(!(e instanceof Array))throw TypeError("Illegal BitSet: Not an array");if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}var r,i=t,o=e.length,s=o>>3,a=0;for(t+=this.writeVarint32(o,t);s--;)r=1&!!e[a++]|(1&!!e[a++])<<1|(1&!!e[a++])<<2|(1&!!e[a++])<<3|(1&!!e[a++])<<4|(1&!!e[a++])<<5|(1&!!e[a++])<<6|(1&!!e[a++])<<7,this.writeByte(r,t++);if(a<o){var c=0;for(r=0;a<o;)r|=(1&!!e[a++])<<c++;this.writeByte(r,t++)}return n?(this.offset=t,this):t-i},n.readBitSet=function(e){var t=void 0===e;t&&(e=this.offset);var n,r=this.readVarint32(e),i=r.value,o=i>>3,s=0,a=[];for(e+=r.length;o--;)n=this.readByte(e++),a[s++]=!!(1&n),a[s++]=!!(2&n),a[s++]=!!(4&n),a[s++]=!!(8&n),a[s++]=!!(16&n),a[s++]=!!(32&n),a[s++]=!!(64&n),a[s++]=!!(128&n);if(s<i){var c=0;for(n=this.readByte(e++);s<i;)a[s++]=!!(n>>c++&1)}return t&&(this.offset=e),a},n.readBytes=function(e,t){var n=void 0===t;if(n&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+e>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+"+e+") <= "+this.buffer.byteLength)}var r=this.slice(t,t+e);return n&&(this.offset+=e),r},n.writeBytes=n.append,n.writeInt8=function(e,t){var n=void 0===t;if(n&&(t=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal value: "+e+" (not an integer)");if(e|=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}t+=1;var r=this.buffer.byteLength;return t>r&&this.resize((r*=2)>t?r:t),t-=1,this.view[t]=e,n&&(this.offset+=1),this},n.writeByte=n.writeInt8,n.readInt8=function(e){var t=void 0===e;if(t&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+1) <= "+this.buffer.byteLength)}var n=this.view[e];return 128==(128&n)&&(n=-(255-n+1)),t&&(this.offset+=1),n},n.readByte=n.readInt8,n.writeUint8=function(e,t){var n=void 0===t;if(n&&(t=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal value: "+e+" (not an integer)");if(e>>>=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}t+=1;var r=this.buffer.byteLength;return t>r&&this.resize((r*=2)>t?r:t),t-=1,this.view[t]=e,n&&(this.offset+=1),this},n.writeUInt8=n.writeUint8,n.readUint8=function(e){var t=void 0===e;if(t&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+1) <= "+this.buffer.byteLength)}var n=this.view[e];return t&&(this.offset+=1),n},n.readUInt8=n.readUint8,n.writeInt16=function(e,t){var n=void 0===t;if(n&&(t=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal value: "+e+" (not an integer)");if(e|=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}t+=2;var r=this.buffer.byteLength;return t>r&&this.resize((r*=2)>t?r:t),t-=2,this.littleEndian?(this.view[t+1]=(65280&e)>>>8,this.view[t]=255&e):(this.view[t]=(65280&e)>>>8,this.view[t+1]=255&e),n&&(this.offset+=2),this},n.writeShort=n.writeInt16,n.readInt16=function(e){var t=void 0===e;if(t&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+2>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+2) <= "+this.buffer.byteLength)}var n=0;return this.littleEndian?(n=this.view[e],n|=this.view[e+1]<<8):(n=this.view[e]<<8,n|=this.view[e+1]),32768==(32768&n)&&(n=-(65535-n+1)),t&&(this.offset+=2),n},n.readShort=n.readInt16,n.writeUint16=function(e,t){var n=void 0===t;if(n&&(t=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal value: "+e+" (not an integer)");if(e>>>=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}t+=2;var r=this.buffer.byteLength;return t>r&&this.resize((r*=2)>t?r:t),t-=2,this.littleEndian?(this.view[t+1]=(65280&e)>>>8,this.view[t]=255&e):(this.view[t]=(65280&e)>>>8,this.view[t+1]=255&e),n&&(this.offset+=2),this},n.writeUInt16=n.writeUint16,n.readUint16=function(e){var t=void 0===e;if(t&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+2>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+2) <= "+this.buffer.byteLength)}var n=0;return this.littleEndian?(n=this.view[e],n|=this.view[e+1]<<8):(n=this.view[e]<<8,n|=this.view[e+1]),t&&(this.offset+=2),n},n.readUInt16=n.readUint16,n.writeInt32=function(e,t){var n=void 0===t;if(n&&(t=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal value: "+e+" (not an integer)");if(e|=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}t+=4;var r=this.buffer.byteLength;return t>r&&this.resize((r*=2)>t?r:t),t-=4,this.littleEndian?(this.view[t+3]=e>>>24&255,this.view[t+2]=e>>>16&255,this.view[t+1]=e>>>8&255,this.view[t]=255&e):(this.view[t]=e>>>24&255,this.view[t+1]=e>>>16&255,this.view[t+2]=e>>>8&255,this.view[t+3]=255&e),n&&(this.offset+=4),this},n.writeInt=n.writeInt32,n.readInt32=function(e){var t=void 0===e;if(t&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+4) <= "+this.buffer.byteLength)}var n=0;return this.littleEndian?(n=this.view[e+2]<<16,n|=this.view[e+1]<<8,n|=this.view[e],n+=this.view[e+3]<<24>>>0):(n=this.view[e+1]<<16,n|=this.view[e+2]<<8,n|=this.view[e+3],n+=this.view[e]<<24>>>0),n|=0,t&&(this.offset+=4),n},n.readInt=n.readInt32,n.writeUint32=function(e,t){var n=void 0===t;if(n&&(t=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal value: "+e+" (not an integer)");if(e>>>=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}t+=4;var r=this.buffer.byteLength;return t>r&&this.resize((r*=2)>t?r:t),t-=4,this.littleEndian?(this.view[t+3]=e>>>24&255,this.view[t+2]=e>>>16&255,this.view[t+1]=e>>>8&255,this.view[t]=255&e):(this.view[t]=e>>>24&255,this.view[t+1]=e>>>16&255,this.view[t+2]=e>>>8&255,this.view[t+3]=255&e),n&&(this.offset+=4),this},n.writeUInt32=n.writeUint32,n.readUint32=function(e){var t=void 0===e;if(t&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+4) <= "+this.buffer.byteLength)}var n=0;return this.littleEndian?(n=this.view[e+2]<<16,n|=this.view[e+1]<<8,n|=this.view[e],n+=this.view[e+3]<<24>>>0):(n=this.view[e+1]<<16,n|=this.view[e+2]<<8,n|=this.view[e+3],n+=this.view[e]<<24>>>0),t&&(this.offset+=4),n},n.readUInt32=n.readUint32,e&&(n.writeInt64=function(t,n){var r=void 0===n;if(r&&(n=this.offset),!this.noAssert){if("number"==typeof t)t=e.fromNumber(t);else if("string"==typeof t)t=e.fromString(t);else if(!(t&&t instanceof e))throw TypeError("Illegal value: "+t+" (not an integer or Long)");if("number"!=typeof n||n%1!=0)throw TypeError("Illegal offset: "+n+" (not an integer)");if((n>>>=0)<0||n+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+n+" (+0) <= "+this.buffer.byteLength)}"number"==typeof t?t=e.fromNumber(t):"string"==typeof t&&(t=e.fromString(t)),n+=8;var i=this.buffer.byteLength;n>i&&this.resize((i*=2)>n?i:n),n-=8;var o=t.low,s=t.high;return this.littleEndian?(this.view[n+3]=o>>>24&255,this.view[n+2]=o>>>16&255,this.view[n+1]=o>>>8&255,this.view[n]=255&o,n+=4,this.view[n+3]=s>>>24&255,this.view[n+2]=s>>>16&255,this.view[n+1]=s>>>8&255,this.view[n]=255&s):(this.view[n]=s>>>24&255,this.view[n+1]=s>>>16&255,this.view[n+2]=s>>>8&255,this.view[n+3]=255&s,n+=4,this.view[n]=o>>>24&255,this.view[n+1]=o>>>16&255,this.view[n+2]=o>>>8&255,this.view[n+3]=255&o),r&&(this.offset+=8),this},n.writeLong=n.writeInt64,n.readInt64=function(t){var n=void 0===t;if(n&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+8>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+8) <= "+this.buffer.byteLength)}var r=0,i=0;this.littleEndian?(r=this.view[t+2]<<16,r|=this.view[t+1]<<8,r|=this.view[t],r+=this.view[t+3]<<24>>>0,t+=4,i=this.view[t+2]<<16,i|=this.view[t+1]<<8,i|=this.view[t],i+=this.view[t+3]<<24>>>0):(i=this.view[t+1]<<16,i|=this.view[t+2]<<8,i|=this.view[t+3],i+=this.view[t]<<24>>>0,t+=4,r=this.view[t+1]<<16,r|=this.view[t+2]<<8,r|=this.view[t+3],r+=this.view[t]<<24>>>0);var o=new e(r,i,!1);return n&&(this.offset+=8),o},n.readLong=n.readInt64,n.writeUint64=function(t,n){var r=void 0===n;if(r&&(n=this.offset),!this.noAssert){if("number"==typeof t)t=e.fromNumber(t);else if("string"==typeof t)t=e.fromString(t);else if(!(t&&t instanceof e))throw TypeError("Illegal value: "+t+" (not an integer or Long)");if("number"!=typeof n||n%1!=0)throw TypeError("Illegal offset: "+n+" (not an integer)");if((n>>>=0)<0||n+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+n+" (+0) <= "+this.buffer.byteLength)}"number"==typeof t?t=e.fromNumber(t):"string"==typeof t&&(t=e.fromString(t)),n+=8;var i=this.buffer.byteLength;n>i&&this.resize((i*=2)>n?i:n),n-=8;var o=t.low,s=t.high;return this.littleEndian?(this.view[n+3]=o>>>24&255,this.view[n+2]=o>>>16&255,this.view[n+1]=o>>>8&255,this.view[n]=255&o,n+=4,this.view[n+3]=s>>>24&255,this.view[n+2]=s>>>16&255,this.view[n+1]=s>>>8&255,this.view[n]=255&s):(this.view[n]=s>>>24&255,this.view[n+1]=s>>>16&255,this.view[n+2]=s>>>8&255,this.view[n+3]=255&s,n+=4,this.view[n]=o>>>24&255,this.view[n+1]=o>>>16&255,this.view[n+2]=o>>>8&255,this.view[n+3]=255&o),r&&(this.offset+=8),this},n.writeUInt64=n.writeUint64,n.readUint64=function(t){var n=void 0===t;if(n&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+8>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+8) <= "+this.buffer.byteLength)}var r=0,i=0;this.littleEndian?(r=this.view[t+2]<<16,r|=this.view[t+1]<<8,r|=this.view[t],r+=this.view[t+3]<<24>>>0,t+=4,i=this.view[t+2]<<16,i|=this.view[t+1]<<8,i|=this.view[t],i+=this.view[t+3]<<24>>>0):(i=this.view[t+1]<<16,i|=this.view[t+2]<<8,i|=this.view[t+3],i+=this.view[t]<<24>>>0,t+=4,r=this.view[t+1]<<16,r|=this.view[t+2]<<8,r|=this.view[t+3],r+=this.view[t]<<24>>>0);var o=new e(r,i,!0);return n&&(this.offset+=8),o},n.readUInt64=n.readUint64),n.writeFloat32=function(e,t){var n=void 0===t;if(n&&(t=this.offset),!this.noAssert){if("number"!=typeof e)throw TypeError("Illegal value: "+e+" (not a number)");if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}t+=4;var r=this.buffer.byteLength;return t>r&&this.resize((r*=2)>t?r:t),t-=4,c(this.view,e,t,this.littleEndian,23,4),n&&(this.offset+=4),this},n.writeFloat=n.writeFloat32,n.readFloat32=function(e){var t=void 0===e;if(t&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+4) <= "+this.buffer.byteLength)}var n=a(this.view,e,this.littleEndian,23,4);return t&&(this.offset+=4),n},n.readFloat=n.readFloat32,n.writeFloat64=function(e,t){var n=void 0===t;if(n&&(t=this.offset),!this.noAssert){if("number"!=typeof e)throw TypeError("Illegal value: "+e+" (not a number)");if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}t+=8;var r=this.buffer.byteLength;return t>r&&this.resize((r*=2)>t?r:t),t-=8,c(this.view,e,t,this.littleEndian,52,8),n&&(this.offset+=8),this},n.writeDouble=n.writeFloat64,n.readFloat64=function(e){var t=void 0===e;if(t&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+8>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+8) <= "+this.buffer.byteLength)}var n=a(this.view,e,this.littleEndian,52,8);return t&&(this.offset+=8),n},n.readDouble=n.readFloat64,t.MAX_VARINT32_BYTES=5,t.calculateVarint32=function(e){return(e>>>=0)<128?1:e<16384?2:e<1<<21?3:e<1<<28?4:5},t.zigZagEncode32=function(e){return((e|=0)<<1^e>>31)>>>0},t.zigZagDecode32=function(e){return e>>>1^-(1&e)|0},n.writeVarint32=function(e,n){var r=void 0===n;if(r&&(n=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal value: "+e+" (not an integer)");if(e|=0,"number"!=typeof n||n%1!=0)throw TypeError("Illegal offset: "+n+" (not an integer)");if((n>>>=0)<0||n+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+n+" (+0) <= "+this.buffer.byteLength)}var i,o=t.calculateVarint32(e);n+=o;var s=this.buffer.byteLength;for(n>s&&this.resize((s*=2)>n?s:n),n-=o,e>>>=0;e>=128;)i=127&e|128,this.view[n++]=i,e>>>=7;return this.view[n++]=e,r?(this.offset=n,this):o},n.writeVarint32ZigZag=function(e,n){return this.writeVarint32(t.zigZagEncode32(e),n)},n.readVarint32=function(e){var t=void 0===e;if(t&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+1) <= "+this.buffer.byteLength)}var n,r=0,i=0;do{if(!this.noAssert&&e>this.limit){var o=Error("Truncated");throw o.truncated=!0,o}n=this.view[e++],r<5&&(i|=(127&n)<<7*r),++r}while(0!=(128&n));return i|=0,t?(this.offset=e,i):{value:i,length:r}},n.readVarint32ZigZag=function(e){var n=this.readVarint32(e);return"object"==typeof n?n.value=t.zigZagDecode32(n.value):n=t.zigZagDecode32(n),n},e&&(t.MAX_VARINT64_BYTES=10,t.calculateVarint64=function(t){"number"==typeof t?t=e.fromNumber(t):"string"==typeof t&&(t=e.fromString(t));var n=t.toInt()>>>0,r=t.shiftRightUnsigned(28).toInt()>>>0,i=t.shiftRightUnsigned(56).toInt()>>>0;return 0==i?0==r?n<16384?n<128?1:2:n<1<<21?3:4:r<16384?r<128?5:6:r<1<<21?7:8:i<128?9:10},t.zigZagEncode64=function(t){return"number"==typeof t?t=e.fromNumber(t,!1):"string"==typeof t?t=e.fromString(t,!1):!1!==t.unsigned&&(t=t.toSigned()),t.shiftLeft(1).xor(t.shiftRight(63)).toUnsigned()},t.zigZagDecode64=function(t){return"number"==typeof t?t=e.fromNumber(t,!1):"string"==typeof t?t=e.fromString(t,!1):!1!==t.unsigned&&(t=t.toSigned()),t.shiftRightUnsigned(1).xor(t.and(e.ONE).toSigned().negate()).toSigned()},n.writeVarint64=function(n,r){var i=void 0===r;if(i&&(r=this.offset),!this.noAssert){if("number"==typeof n)n=e.fromNumber(n);else if("string"==typeof n)n=e.fromString(n);else if(!(n&&n instanceof e))throw TypeError("Illegal value: "+n+" (not an integer or Long)");if("number"!=typeof r||r%1!=0)throw TypeError("Illegal offset: "+r+" (not an integer)");if((r>>>=0)<0||r+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+0) <= "+this.buffer.byteLength)}"number"==typeof n?n=e.fromNumber(n,!1):"string"==typeof n?n=e.fromString(n,!1):!1!==n.unsigned&&(n=n.toSigned());var o=t.calculateVarint64(n),s=n.toInt()>>>0,a=n.shiftRightUnsigned(28).toInt()>>>0,c=n.shiftRightUnsigned(56).toInt()>>>0;r+=o;var l=this.buffer.byteLength;switch(r>l&&this.resize((l*=2)>r?l:r),r-=o,o){case 10:this.view[r+9]=c>>>7&1;case 9:this.view[r+8]=9!==o?128|c:127&c;case 8:this.view[r+7]=8!==o?a>>>21|128:a>>>21&127;case 7:this.view[r+6]=7!==o?a>>>14|128:a>>>14&127;case 6:this.view[r+5]=6!==o?a>>>7|128:a>>>7&127;case 5:this.view[r+4]=5!==o?128|a:127&a;case 4:this.view[r+3]=4!==o?s>>>21|128:s>>>21&127;case 3:this.view[r+2]=3!==o?s>>>14|128:s>>>14&127;case 2:this.view[r+1]=2!==o?s>>>7|128:s>>>7&127;case 1:this.view[r]=1!==o?128|s:127&s}return i?(this.offset+=o,this):o},n.writeVarint64ZigZag=function(e,n){return this.writeVarint64(t.zigZagEncode64(e),n)},n.readVarint64=function(t){var n=void 0===t;if(n&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+1) <= "+this.buffer.byteLength)}var r=t,i=0,o=0,s=0,a=0;if(i=127&(a=this.view[t++]),128&a&&(i|=(127&(a=this.view[t++]))<<7,(128&a||this.noAssert&&void 0===a)&&(i|=(127&(a=this.view[t++]))<<14,(128&a||this.noAssert&&void 0===a)&&(i|=(127&(a=this.view[t++]))<<21,(128&a||this.noAssert&&void 0===a)&&(o=127&(a=this.view[t++]),(128&a||this.noAssert&&void 0===a)&&(o|=(127&(a=this.view[t++]))<<7,(128&a||this.noAssert&&void 0===a)&&(o|=(127&(a=this.view[t++]))<<14,(128&a||this.noAssert&&void 0===a)&&(o|=(127&(a=this.view[t++]))<<21,(128&a||this.noAssert&&void 0===a)&&(s=127&(a=this.view[t++]),(128&a||this.noAssert&&void 0===a)&&(s|=(127&(a=this.view[t++]))<<7,128&a||this.noAssert&&void 0===a))))))))))throw Error("Buffer overrun");var c=e.fromBits(i|o<<28,o>>>4|s<<24,!1);return n?(this.offset=t,c):{value:c,length:t-r}},n.readVarint64ZigZag=function(n){var r=this.readVarint64(n);return r&&r.value instanceof e?r.value=t.zigZagDecode64(r.value):r=t.zigZagDecode64(r),r}),n.writeCString=function(e,t){var n=void 0===t;n&&(t=this.offset);var r,i=e.length;if(!this.noAssert){if("string"!=typeof e)throw TypeError("Illegal str: Not a string");for(r=0;r<i;++r)if(0===e.charCodeAt(r))throw RangeError("Illegal str: Contains NULL-characters");if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}i=u.calculateUTF16asUTF8(o(e))[1],t+=i+1;var s=this.buffer.byteLength;return t>s&&this.resize((s*=2)>t?s:t),t-=i+1,u.encodeUTF16toUTF8(o(e),function(e){this.view[t++]=e}.bind(this)),this.view[t++]=0,n?(this.offset=t,this):i},n.readCString=function(e){var t=void 0===e;if(t&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+1) <= "+this.buffer.byteLength)}var n,r=e,i=-1;return u.decodeUTF8toUTF16(function(){if(0===i)return null;if(e>=this.limit)throw RangeError("Illegal range: Truncated data, "+e+" < "+this.limit);return 0===(i=this.view[e++])?null:i}.bind(this),n=s(),!0),t?(this.offset=e,n()):{string:n(),length:e-r}},n.writeIString=function(e,t){var n=void 0===t;if(n&&(t=this.offset),!this.noAssert){if("string"!=typeof e)throw TypeError("Illegal str: Not a string");if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}var r,i=t;r=u.calculateUTF16asUTF8(o(e),this.noAssert)[1],t+=4+r;var s=this.buffer.byteLength;if(t>s&&this.resize((s*=2)>t?s:t),t-=4+r,this.littleEndian?(this.view[t+3]=r>>>24&255,this.view[t+2]=r>>>16&255,this.view[t+1]=r>>>8&255,this.view[t]=255&r):(this.view[t]=r>>>24&255,this.view[t+1]=r>>>16&255,this.view[t+2]=r>>>8&255,this.view[t+3]=255&r),t+=4,u.encodeUTF16toUTF8(o(e),function(e){this.view[t++]=e}.bind(this)),t!==i+4+r)throw RangeError("Illegal range: Truncated data, "+t+" == "+(t+4+r));return n?(this.offset=t,this):t-i},n.readIString=function(e){var n=void 0===e;if(n&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+4) <= "+this.buffer.byteLength)}var r=e,i=this.readUint32(e),o=this.readUTF8String(i,t.METRICS_BYTES,e+=4);return e+=o.length,n?(this.offset=e,o.string):{string:o.string,length:e-r}},t.METRICS_CHARS="c",t.METRICS_BYTES="b",n.writeUTF8String=function(e,t){var n,r=void 0===t;if(r&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}var i=t;n=u.calculateUTF16asUTF8(o(e))[1],t+=n;var s=this.buffer.byteLength;return t>s&&this.resize((s*=2)>t?s:t),t-=n,u.encodeUTF16toUTF8(o(e),function(e){this.view[t++]=e}.bind(this)),r?(this.offset=t,this):t-i},n.writeString=n.writeUTF8String,t.calculateUTF8Chars=function(e){return u.calculateUTF16asUTF8(o(e))[0]},t.calculateString=t.calculateUTF8Bytes=function(e){return u.calculateUTF16asUTF8(o(e))[1]},n.readUTF8String=function(e,n,r){"number"==typeof n&&(r=n,n=void 0);var i=void 0===r;if(i&&(r=this.offset),void 0===n&&(n=t.METRICS_CHARS),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal length: "+e+" (not an integer)");if(e|=0,"number"!=typeof r||r%1!=0)throw TypeError("Illegal offset: "+r+" (not an integer)");if((r>>>=0)<0||r+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+0) <= "+this.buffer.byteLength)}var o,a=0,c=r;if(n===t.METRICS_CHARS){if(o=s(),u.decodeUTF8(function(){return a<e&&r<this.limit?this.view[r++]:null}.bind(this),function(e){++a,u.UTF8toUTF16(e,o)}),a!==e)throw RangeError("Illegal range: Truncated data, "+a+" == "+e);return i?(this.offset=r,o()):{string:o(),length:r-c}}if(n===t.METRICS_BYTES){if(!this.noAssert){if("number"!=typeof r||r%1!=0)throw TypeError("Illegal offset: "+r+" (not an integer)");if((r>>>=0)<0||r+e>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+"+e+") <= "+this.buffer.byteLength)}var l=r+e;if(u.decodeUTF8toUTF16(function(){return r<l?this.view[r++]:null}.bind(this),o=s(),this.noAssert),r!==l)throw RangeError("Illegal range: Truncated data, "+r+" == "+l);return i?(this.offset=r,o()):{string:o(),length:r-c}}throw TypeError("Unsupported metrics: "+n)},n.readString=n.readUTF8String,n.writeVString=function(e,n){var r=void 0===n;if(r&&(n=this.offset),!this.noAssert){if("string"!=typeof e)throw TypeError("Illegal str: Not a string");if("number"!=typeof n||n%1!=0)throw TypeError("Illegal offset: "+n+" (not an integer)");if((n>>>=0)<0||n+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+n+" (+0) <= "+this.buffer.byteLength)}var i,s,a=n;i=u.calculateUTF16asUTF8(o(e),this.noAssert)[1],s=t.calculateVarint32(i),n+=s+i;var c=this.buffer.byteLength;if(n>c&&this.resize((c*=2)>n?c:n),n-=s+i,n+=this.writeVarint32(i,n),u.encodeUTF16toUTF8(o(e),function(e){this.view[n++]=e}.bind(this)),n!==a+i+s)throw RangeError("Illegal range: Truncated data, "+n+" == "+(n+i+s));return r?(this.offset=n,this):n-a},n.readVString=function(e){var n=void 0===e;if(n&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+1) <= "+this.buffer.byteLength)}var r=e,i=this.readVarint32(e),o=this.readUTF8String(i.value,t.METRICS_BYTES,e+=i.length);return e+=o.length,n?(this.offset=e,o.string):{string:o.string,length:e-r}},n.append=function(e,n,r){"number"!=typeof n&&"string"==typeof n||(r=n,n=void 0);var i=void 0===r;if(i&&(r=this.offset),!this.noAssert){if("number"!=typeof r||r%1!=0)throw TypeError("Illegal offset: "+r+" (not an integer)");if((r>>>=0)<0||r+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+0) <= "+this.buffer.byteLength)}e instanceof t||(e=t.wrap(e,n));var o=e.limit-e.offset;if(o<=0)return this;r+=o;var s=this.buffer.byteLength;return r>s&&this.resize((s*=2)>r?s:r),r-=o,this.view.set(e.view.subarray(e.offset,e.limit),r),e.offset+=o,i&&(this.offset+=o),this},n.appendTo=function(e,t){return e.append(this,t),this},n.assert=function(e){return this.noAssert=!e,this},n.capacity=function(){return this.buffer.byteLength},n.clear=function(){return this.offset=0,this.limit=this.buffer.byteLength,this.markedOffset=-1,this},n.clone=function(e){var n=new t(0,this.littleEndian,this.noAssert);return e?(n.buffer=new ArrayBuffer(this.buffer.byteLength),n.view=new Uint8Array(n.buffer)):(n.buffer=this.buffer,n.view=this.view),n.offset=this.offset,n.markedOffset=this.markedOffset,n.limit=this.limit,n},n.compact=function(e,t){if(void 0===e&&(e=this.offset),void 0===t&&(t=this.limit),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal begin: Not an integer");if(e>>>=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal end: Not an integer");if(t>>>=0,e<0||e>t||t>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+t+" <= "+this.buffer.byteLength)}if(0===e&&t===this.buffer.byteLength)return this;var n=t-e;if(0===n)return this.buffer=r,this.view=null,this.markedOffset>=0&&(this.markedOffset-=e),this.offset=0,this.limit=0,this;var i=new ArrayBuffer(n),o=new Uint8Array(i);return o.set(this.view.subarray(e,t)),this.buffer=i,this.view=o,this.markedOffset>=0&&(this.markedOffset-=e),this.offset=0,this.limit=n,this},n.copy=function(e,n){if(void 0===e&&(e=this.offset),void 0===n&&(n=this.limit),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal begin: Not an integer");if(e>>>=0,"number"!=typeof n||n%1!=0)throw TypeError("Illegal end: Not an integer");if(n>>>=0,e<0||e>n||n>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+n+" <= "+this.buffer.byteLength)}if(e===n)return new t(0,this.littleEndian,this.noAssert);var r=n-e,i=new t(r,this.littleEndian,this.noAssert);return i.offset=0,i.limit=r,i.markedOffset>=0&&(i.markedOffset-=e),this.copyTo(i,0,e,n),i},n.copyTo=function(e,n,r,i){var o,s;if(!this.noAssert&&!t.isByteBuffer(e))throw TypeError("Illegal target: Not a ByteBuffer");if(n=(s=void 0===n)?e.offset:0|n,r=(o=void 0===r)?this.offset:0|r,i=void 0===i?this.limit:0|i,n<0||n>e.buffer.byteLength)throw RangeError("Illegal target range: 0 <= "+n+" <= "+e.buffer.byteLength);if(r<0||i>this.buffer.byteLength)throw RangeError("Illegal source range: 0 <= "+r+" <= "+this.buffer.byteLength);var a=i-r;return 0===a?e:(e.ensureCapacity(n+a),e.view.set(this.view.subarray(r,i),n),o&&(this.offset+=a),s&&(e.offset+=a),this)},n.ensureCapacity=function(e){var t=this.buffer.byteLength;return t<e?this.resize((t*=2)>e?t:e):this},n.fill=function(e,t,n){var r=void 0===t;if(r&&(t=this.offset),"string"==typeof e&&e.length>0&&(e=e.charCodeAt(0)),void 0===t&&(t=this.offset),void 0===n&&(n=this.limit),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal value: "+e+" (not an integer)");if(e|=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal begin: Not an integer");if(t>>>=0,"number"!=typeof n||n%1!=0)throw TypeError("Illegal end: Not an integer");if(n>>>=0,t<0||t>n||n>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+t+" <= "+n+" <= "+this.buffer.byteLength)}if(t>=n)return this;for(;t<n;)this.view[t++]=e;return r&&(this.offset=t),this},n.flip=function(){return this.limit=this.offset,this.offset=0,this},n.mark=function(e){if(e=void 0===e?this.offset:e,!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}return this.markedOffset=e,this},n.order=function(e){if(!this.noAssert&&"boolean"!=typeof e)throw TypeError("Illegal littleEndian: Not a boolean");return this.littleEndian=!!e,this},n.LE=function(e){return this.littleEndian=void 0===e||!!e,this},n.BE=function(e){return this.littleEndian=void 0!==e&&!e,this},n.prepend=function(e,n,r){"number"!=typeof n&&"string"==typeof n||(r=n,n=void 0);var i=void 0===r;if(i&&(r=this.offset),!this.noAssert){if("number"!=typeof r||r%1!=0)throw TypeError("Illegal offset: "+r+" (not an integer)");if((r>>>=0)<0||r+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+0) <= "+this.buffer.byteLength)}e instanceof t||(e=t.wrap(e,n));var o=e.limit-e.offset;if(o<=0)return this;var s=o-r;if(s>0){var a=new ArrayBuffer(this.buffer.byteLength+s),c=new Uint8Array(a);c.set(this.view.subarray(r,this.buffer.byteLength),o),this.buffer=a,this.view=c,this.offset+=s,this.markedOffset>=0&&(this.markedOffset+=s),this.limit+=s,r+=s}else new Uint8Array(this.buffer);return this.view.set(e.view.subarray(e.offset,e.limit),r-o),e.offset=e.limit,i&&(this.offset-=o),this},n.prependTo=function(e,t){return e.prepend(this,t),this},n.printDebug=function(e){"function"!=typeof e&&(e=console.log.bind(console)),e(this.toString()+"\n-------------------------------------------------------------------\n"+this.toDebug(!0))},n.remaining=function(){return this.limit-this.offset},n.reset=function(){return this.markedOffset>=0?(this.offset=this.markedOffset,this.markedOffset=-1):this.offset=0,this},n.resize=function(e){if(!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal capacity: "+e+" (not an integer)");if((e|=0)<0)throw RangeError("Illegal capacity: 0 <= "+e)}if(this.buffer.byteLength<e){var t=new ArrayBuffer(e),n=new Uint8Array(t);n.set(this.view),this.buffer=t,this.view=n}return this},n.reverse=function(e,t){if(void 0===e&&(e=this.offset),void 0===t&&(t=this.limit),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal begin: Not an integer");if(e>>>=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal end: Not an integer");if(t>>>=0,e<0||e>t||t>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+t+" <= "+this.buffer.byteLength)}return e===t?this:(Array.prototype.reverse.call(this.view.subarray(e,t)),this)},n.skip=function(e){if(!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal length: "+e+" (not an integer)");e|=0}var t=this.offset+e;if(!this.noAssert&&(t<0||t>this.buffer.byteLength))throw RangeError("Illegal length: 0 <= "+this.offset+" + "+e+" <= "+this.buffer.byteLength);return this.offset=t,this},n.slice=function(e,t){if(void 0===e&&(e=this.offset),void 0===t&&(t=this.limit),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal begin: Not an integer");if(e>>>=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal end: Not an integer");if(t>>>=0,e<0||e>t||t>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+t+" <= "+this.buffer.byteLength)}var n=this.clone();return n.offset=e,n.limit=t,n},n.toBuffer=function(e){var t=this.offset,n=this.limit;if(!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: Not an integer");if(t>>>=0,"number"!=typeof n||n%1!=0)throw TypeError("Illegal limit: Not an integer");if(n>>>=0,t<0||t>n||n>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+t+" <= "+n+" <= "+this.buffer.byteLength)}if(!e&&0===t&&n===this.buffer.byteLength)return this.buffer;if(t===n)return r;var i=new ArrayBuffer(n-t);return new Uint8Array(i).set(new Uint8Array(this.buffer).subarray(t,n),0),i},n.toArrayBuffer=n.toBuffer,n.toString=function(e,t,n){if(void 0===e)return"ByteBufferAB(offset="+this.offset+",markedOffset="+this.markedOffset+",limit="+this.limit+",capacity="+this.capacity()+")";switch("number"==typeof e&&(n=t=e="utf8"),e){case"utf8":return this.toUTF8(t,n);case"base64":return this.toBase64(t,n);case"hex":return this.toHex(t,n);case"binary":return this.toBinary(t,n);case"debug":return this.toDebug();case"columns":return this.toColumns();default:throw Error("Unsupported encoding: "+e)}};var l=function(){for(var e={},t=[65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,48,49,50,51,52,53,54,55,56,57,43,47],n=[],r=0,i=t.length;r<i;++r)n[t[r]]=r;return e.encode=function(e,n){for(var r,i;null!==(r=e());)n(t[r>>2&63]),i=(3&r)<<4,null!==(r=e())?(n(t[63&((i|=r>>4&15)|r>>4&15)]),i=(15&r)<<2,null!==(r=e())?(n(t[63&(i|r>>6&3)]),n(t[63&r])):(n(t[63&i]),n(61))):(n(t[63&i]),n(61),n(61))},e.decode=function(e,t){var r,i,o;function s(e){throw Error("Illegal character code: "+e)}for(;null!==(r=e());)if(void 0===(i=n[r])&&s(r),null!==(r=e())&&(void 0===(o=n[r])&&s(r),t(i<<2>>>0|(48&o)>>4),null!==(r=e()))){if(void 0===(i=n[r])){if(61===r)break;s(r)}if(t((15&o)<<4>>>0|(60&i)>>2),null!==(r=e())){if(void 0===(o=n[r])){if(61===r)break;s(r)}t((3&i)<<6>>>0|o)}}},e.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)},e}();n.toBase64=function(e,t){if(void 0===e&&(e=this.offset),void 0===t&&(t=this.limit),t|=0,(e|=0)<0||t>this.capacity||e>t)throw RangeError("begin, end");var n;return l.encode(function(){return e<t?this.view[e++]:null}.bind(this),n=s()),n()},t.fromBase64=function(e,n){if("string"!=typeof e)throw TypeError("str");var r=new t(e.length/4*3,n),i=0;return l.decode(o(e),function(e){r.view[i++]=e}),r.limit=i,r},t.btoa=function(e){return t.fromBinary(e).toBase64()},t.atob=function(e){return t.fromBase64(e).toBinary()},n.toBinary=function(e,t){if(void 0===e&&(e=this.offset),void 0===t&&(t=this.limit),t|=0,(e|=0)<0||t>this.capacity()||e>t)throw RangeError("begin, end");if(e===t)return"";for(var n=[],r=[];e<t;)n.push(this.view[e++]),n.length>=1024&&(r.push(String.fromCharCode.apply(String,n)),n=[]);return r.join("")+String.fromCharCode.apply(String,n)},t.fromBinary=function(e,n){if("string"!=typeof e)throw TypeError("str");for(var r,i=0,o=e.length,s=new t(o,n);i<o;){if((r=e.charCodeAt(i))>255)throw RangeError("illegal char code: "+r);s.view[i++]=r}return s.limit=o,s},n.toDebug=function(e){for(var t,n=-1,r=this.buffer.byteLength,i="",o="",s="";n<r;){if(-1!==n&&(i+=(t=this.view[n])<16?"0"+t.toString(16).toUpperCase():t.toString(16).toUpperCase(),e&&(o+=t>32&&t<127?String.fromCharCode(t):".")),++n,e&&n>0&&n%16==0&&n!==r){for(;i.length<51;)i+=" ";s+=i+o+"\n",i=o=""}n===this.offset&&n===this.limit?i+=n===this.markedOffset?"!":"|":n===this.offset?i+=n===this.markedOffset?"[":"<":n===this.limit?i+=n===this.markedOffset?"]":">":i+=n===this.markedOffset?"'":e||0!==n&&n!==r?" ":""}if(e&&" "!==i){for(;i.length<51;)i+=" ";s+=i+o+"\n"}return e?s:i},t.fromDebug=function(e,n,r){for(var i,o,s=e.length,a=new t((s+1)/3|0,n,r),c=0,l=0,u=!1,f=!1,h=!1,p=!1,d=!1;c<s;){switch(i=e.charAt(c++)){case"!":if(!r){if(f||h||p){d=!0;break}f=h=p=!0}a.offset=a.markedOffset=a.limit=l,u=!1;break;case"|":if(!r){if(f||p){d=!0;break}f=p=!0}a.offset=a.limit=l,u=!1;break;case"[":if(!r){if(f||h){d=!0;break}f=h=!0}a.offset=a.markedOffset=l,u=!1;break;case"<":if(!r){if(f){d=!0;break}f=!0}a.offset=l,u=!1;break;case"]":if(!r){if(p||h){d=!0;break}p=h=!0}a.limit=a.markedOffset=l,u=!1;break;case">":if(!r){if(p){d=!0;break}p=!0}a.limit=l,u=!1;break;case"'":if(!r){if(h){d=!0;break}h=!0}a.markedOffset=l,u=!1;break;case" ":u=!1;break;default:if(!r&&u){d=!0;break}if(o=parseInt(i+e.charAt(c++),16),!r&&(isNaN(o)||o<0||o>255))throw TypeError("Illegal str: Not a debug encoded string");a.view[l++]=o,u=!0}if(d)throw TypeError("Illegal str: Invalid symbol at "+c)}if(!r){if(!f||!p)throw TypeError("Illegal str: Missing offset or limit");if(l<a.buffer.byteLength)throw TypeError("Illegal str: Not a debug encoded string (is it hex?) "+l+" < "+s)}return a},n.toHex=function(e,t){if(e=void 0===e?this.offset:e,t=void 0===t?this.limit:t,!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal begin: Not an integer");if(e>>>=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal end: Not an integer");if(t>>>=0,e<0||e>t||t>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+t+" <= "+this.buffer.byteLength)}for(var n,r=new Array(t-e);e<t;)(n=this.view[e++])<16?r.push("0",n.toString(16)):r.push(n.toString(16));return r.join("")},t.fromHex=function(e,n,r){if(!r){if("string"!=typeof e)throw TypeError("Illegal str: Not a string");if(e.length%2!=0)throw TypeError("Illegal str: Length not a multiple of 2")}for(var i,o=e.length,s=new t(o/2|0,n),a=0,c=0;a<o;a+=2){if(i=parseInt(e.substring(a,a+2),16),!r&&(!isFinite(i)||i<0||i>255))throw TypeError("Illegal str: Contains non-hex characters");s.view[c++]=i}return s.limit=c,s};var u=function(){var e={MAX_CODEPOINT:1114111,encodeUTF8:function(e,t){var n=null;for("number"==typeof e&&(n=e,e=function(){return null});null!==n||null!==(n=e());)n<128?t(127&n):n<2048?(t(n>>6&31|192),t(63&n|128)):n<65536?(t(n>>12&15|224),t(n>>6&63|128),t(63&n|128)):(t(n>>18&7|240),t(n>>12&63|128),t(n>>6&63|128),t(63&n|128)),n=null},decodeUTF8:function(e,t){for(var n,r,i,o,s=function(e){e=e.slice(0,e.indexOf(null));var t=Error(e.toString());throw t.name="TruncatedError",t.bytes=e,t};null!==(n=e());)if(0==(128&n))t(n);else if(192==(224&n))null===(r=e())&&s([n,r]),t((31&n)<<6|63&r);else if(224==(240&n))(null===(r=e())||null===(i=e()))&&s([n,r,i]),t((15&n)<<12|(63&r)<<6|63&i);else{if(240!=(248&n))throw RangeError("Illegal starting byte: "+n);(null===(r=e())||null===(i=e())||null===(o=e()))&&s([n,r,i,o]),t((7&n)<<18|(63&r)<<12|(63&i)<<6|63&o)}},UTF16toUTF8:function(e,t){for(var n,r=null;null!==(n=null!==r?r:e());)n>=55296&&n<=57343&&null!==(r=e())&&r>=56320&&r<=57343?(t(1024*(n-55296)+r-56320+65536),r=null):t(n);null!==r&&t(r)},UTF8toUTF16:function(e,t){var n=null;for("number"==typeof e&&(n=e,e=function(){return null});null!==n||null!==(n=e());)n<=65535?t(n):(t(55296+((n-=65536)>>10)),t(n%1024+56320)),n=null},encodeUTF16toUTF8:function(t,n){e.UTF16toUTF8(t,function(t){e.encodeUTF8(t,n)})},decodeUTF8toUTF16:function(t,n){e.decodeUTF8(t,function(t){e.UTF8toUTF16(t,n)})},calculateCodePoint:function(e){return e<128?1:e<2048?2:e<65536?3:4},calculateUTF8:function(e){for(var t,n=0;null!==(t=e());)n+=t<128?1:t<2048?2:t<65536?3:4;return n},calculateUTF16asUTF8:function(t){var n=0,r=0;return e.UTF16toUTF8(t,function(e){++n,r+=e<128?1:e<2048?2:e<65536?3:4}),[n,r]}};return e}();return n.toUTF8=function(e,t){if(void 0===e&&(e=this.offset),void 0===t&&(t=this.limit),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal begin: Not an integer");if(e>>>=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal end: Not an integer");if(t>>>=0,e<0||e>t||t>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+t+" <= "+this.buffer.byteLength)}var n;try{u.decodeUTF8toUTF16(function(){return e<t?this.view[e++]:null}.bind(this),n=s())}catch(r){if(e!==t)throw RangeError("Illegal range: Truncated data, "+e+" != "+t)}return n()},t.fromUTF8=function(e,n,r){if(!r&&"string"!=typeof e)throw TypeError("Illegal str: Not a string");var i=new t(u.calculateUTF16asUTF8(o(e),!0)[1],n,r),s=0;return u.encodeUTF16toUTF8(o(e),function(e){i.view[s++]=e}),i.limit=s,i},t},"function"==typeof define&&define.amd?define(["long"],n):"function"==typeof e&&"object"==typeof t&&t&&t.exports?t.exports=function(){var t;try{t=e("long")}catch(r){}return n(t)}():((void 0).dcodeIO=(void 0).dcodeIO||{}).ByteBuffer=n((void 0).dcodeIO.Long),cc._RF.pop()},{long:"long"}],long:[function(e,t){"use strict";var n;cc._RF.push(t,"af264BEm91OU6meDlFctwv6","long"),n=function(){function e(e,t,n){this.low=0|e,this.high=0|t,this.unsigned=!!n}function t(e){return!0===(e&&e.__isLong__)}e.prototype.__isLong__,Object.defineProperty(e.prototype,"__isLong__",{value:!0,enumerable:!1,configurable:!1}),e.isLong=t;var n={},r={};function i(e,t){var i,o,a;return t?(a=0<=(e>>>=0)&&e<256)&&(o=r[e])?o:(i=s(e,(0|e)<0?-1:0,!0),a&&(r[e]=i),i):(a=-128<=(e|=0)&&e<128)&&(o=n[e])?o:(i=s(e,e<0?-1:0,!1),a&&(n[e]=i),i)}function o(e,t){if(isNaN(e)||!isFinite(e))return t?g:d;if(t){if(e<0)return g;if(e>=f)return b}else{if(e<=-h)return w;if(e+1>=h)return _}return e<0?o(-e,t).neg():s(e%u|0,e/u|0,t)}function s(t,n,r){return new e(t,n,r)}e.fromInt=i,e.fromNumber=o,e.fromBits=s;var a=Math.pow;function c(e,t,n){if(0===e.length)throw Error("empty string");if("NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e)return d;if("number"==typeof t?(n=t,t=!1):t=!!t,(n=n||10)<2||36<n)throw RangeError("radix");var r;if((r=e.indexOf("-"))>0)throw Error("interior hyphen");if(0===r)return c(e.substring(1),t,n).neg();for(var i=o(a(n,8)),s=d,l=0;l<e.length;l+=8){var u=Math.min(8,e.length-l),f=parseInt(e.substring(l,l+u),n);if(u<8){var h=o(a(n,u));s=s.mul(h).add(o(f))}else s=(s=s.mul(i)).add(o(f))}return s.unsigned=t,s}function l(t){return t instanceof e?t:"number"==typeof t?o(t):"string"==typeof t?c(t):s(t.low,t.high,t.unsigned)}e.fromString=c,e.fromValue=l;var u=4294967296,f=u*u,h=f/2,p=i(1<<24),d=i(0);e.ZERO=d;var g=i(0,!0);e.UZERO=g;var y=i(1);e.ONE=y;var v=i(1,!0);e.UONE=v;var m=i(-1);e.NEG_ONE=m;var _=s(-1,2147483647,!1);e.MAX_VALUE=_;var b=s(-1,-1,!0);e.MAX_UNSIGNED_VALUE=b;var w=s(0,-2147483648,!1);e.MIN_VALUE=w;var E=e.prototype;return E.toInt=function(){return this.unsigned?this.low>>>0:this.low},E.toNumber=function(){return this.unsigned?(this.high>>>0)*u+(this.low>>>0):this.high*u+(this.low>>>0)},E.toString=function(e){if((e=e||10)<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(w)){var t=o(e),n=this.div(t),r=n.mul(t).sub(this);return n.toString(e)+r.toInt().toString(e)}return"-"+this.neg().toString(e)}for(var i=o(a(e,6),this.unsigned),s=this,c="";;){var l=s.div(i),u=(s.sub(l.mul(i)).toInt()>>>0).toString(e);if((s=l).isZero())return u+c;for(;u.length<6;)u="0"+u;c=""+u+c}},E.getHighBits=function(){return this.high},E.getHighBitsUnsigned=function(){return this.high>>>0},E.getLowBits=function(){return this.low},E.getLowBitsUnsigned=function(){return this.low>>>0},E.getNumBitsAbs=function(){if(this.isNegative())return this.eq(w)?64:this.neg().getNumBitsAbs();for(var e=0!=this.high?this.high:this.low,t=31;t>0&&0==(e&1<<t);t--);return 0!=this.high?t+33:t+1},E.isZero=function(){return 0===this.high&&0===this.low},E.isNegative=function(){return!this.unsigned&&this.high<0},E.isPositive=function(){return this.unsigned||this.high>=0},E.isOdd=function(){return 1==(1&this.low)},E.isEven=function(){return 0==(1&this.low)},E.equals=function(e){return t(e)||(e=l(e)),(this.unsigned===e.unsigned||this.high>>>31!=1||e.high>>>31!=1)&&this.high===e.high&&this.low===e.low},E.eq=E.equals,E.notEquals=function(e){return!this.eq(e)},E.neq=E.notEquals,E.lessThan=function(e){return this.comp(e)<0},E.lt=E.lessThan,E.lessThanOrEqual=function(e){return this.comp(e)<=0},E.lte=E.lessThanOrEqual,E.greaterThan=function(e){return this.comp(e)>0},E.gt=E.greaterThan,E.greaterThanOrEqual=function(e){return this.comp(e)>=0},E.gte=E.greaterThanOrEqual,E.compare=function(e){if(t(e)||(e=l(e)),this.eq(e))return 0;var n=this.isNegative(),r=e.isNegative();return n&&!r?-1:!n&&r?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},E.comp=E.compare,E.negate=function(){return!this.unsigned&&this.eq(w)?w:this.not().add(y)},E.neg=E.negate,E.add=function(e){t(e)||(e=l(e));var n=this.high>>>16,r=65535&this.high,i=this.low>>>16,o=65535&this.low,a=e.high>>>16,c=65535&e.high,u=e.low>>>16,f=0,h=0,p=0,d=0;return p+=(d+=o+(65535&e.low))>>>16,h+=(p+=i+u)>>>16,f+=(h+=r+c)>>>16,f+=n+a,s((p&=65535)<<16|(d&=65535),(f&=65535)<<16|(h&=65535),this.unsigned)},E.subtract=function(e){return t(e)||(e=l(e)),this.add(e.neg())},E.sub=E.subtract,E.multiply=function(e){if(this.isZero())return d;if(t(e)||(e=l(e)),e.isZero())return d;if(this.eq(w))return e.isOdd()?w:d;if(e.eq(w))return this.isOdd()?w:d;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(p)&&e.lt(p))return o(this.toNumber()*e.toNumber(),this.unsigned);var n=this.high>>>16,r=65535&this.high,i=this.low>>>16,a=65535&this.low,c=e.high>>>16,u=65535&e.high,f=e.low>>>16,h=65535&e.low,g=0,y=0,v=0,m=0;return v+=(m+=a*h)>>>16,y+=(v+=i*h)>>>16,v&=65535,y+=(v+=a*f)>>>16,g+=(y+=r*h)>>>16,y&=65535,g+=(y+=i*f)>>>16,y&=65535,g+=(y+=a*u)>>>16,g+=n*h+r*f+i*u+a*c,s((v&=65535)<<16|(m&=65535),(g&=65535)<<16|(y&=65535),this.unsigned)},E.mul=E.multiply,E.divide=function(e){if(t(e)||(e=l(e)),e.isZero())throw Error("division by zero");if(this.isZero())return this.unsigned?g:d;var n,r,i;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return g;if(e.gt(this.shru(1)))return v;i=g}else{if(this.eq(w))return e.eq(y)||e.eq(m)?w:e.eq(w)?y:(n=this.shr(1).div(e).shl(1)).eq(d)?e.isNegative()?y:m:(r=this.sub(e.mul(n)),i=n.add(r.div(e)));if(e.eq(w))return this.unsigned?g:d;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();i=d}for(r=this;r.gte(e);){n=Math.max(1,Math.floor(r.toNumber()/e.toNumber()));for(var s=Math.ceil(Math.log(n)/Math.LN2),c=s<=48?1:a(2,s-48),u=o(n),f=u.mul(e);f.isNegative()||f.gt(r);)f=(u=o(n-=c,this.unsigned)).mul(e);u.isZero()&&(u=y),i=i.add(u),r=r.sub(f)}return i},E.div=E.divide,E.modulo=function(e){return t(e)||(e=l(e)),this.sub(this.div(e).mul(e))},E.mod=E.modulo,E.not=function(){return s(~this.low,~this.high,this.unsigned)},E.and=function(e){return t(e)||(e=l(e)),s(this.low&e.low,this.high&e.high,this.unsigned)},E.or=function(e){return t(e)||(e=l(e)),s(this.low|e.low,this.high|e.high,this.unsigned)},E.xor=function(e){return t(e)||(e=l(e)),s(this.low^e.low,this.high^e.high,this.unsigned)},E.shiftLeft=function(e){return t(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?s(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):s(0,this.low<<e-32,this.unsigned)},E.shl=E.shiftLeft,E.shiftRight=function(e){return t(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?s(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):s(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},E.shr=E.shiftRight,E.shiftRightUnsigned=function(e){if(t(e)&&(e=e.toInt()),0==(e&=63))return this;var n=this.high;return e<32?s(this.low>>>e|n<<32-e,n>>>e,this.unsigned):s(32===e?n:n>>>e-32,0,this.unsigned)},E.shru=E.shiftRightUnsigned,E.toSigned=function(){return this.unsigned?s(this.low,this.high,!1):this},E.toUnsigned=function(){return this.unsigned?this:s(this.low,this.high,!0)},E.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},E.toBytesLE=function(){var e=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24&255,255&e,e>>>8&255,e>>>16&255,e>>>24&255]},E.toBytesBE=function(){var e=this.high,t=this.low;return[e>>>24&255,e>>>16&255,e>>>8&255,255&e,t>>>24&255,t>>>16&255,t>>>8&255,255&t]},e},"function"==typeof define&&define.amd?define([],n):"function"==typeof e&&"object"==typeof t&&t&&t.exports?t.exports=n():((void 0).dcodeIO=(void 0).dcodeIO||{}).Long=n(),cc._RF.pop()},{}],protobuf:[function(e,t){(function(n){"use strict";var r;cc._RF.push(t,"7b061sYhKFNmq5ByoEMFygW","protobuf"),r=function(t){var r;return window.ProtoBuf={},ProtoBuf.ByteBuffer=t,ProtoBuf.Long=t.Long||null,ProtoBuf.VERSION="5.0.2",ProtoBuf.WIRE_TYPES={},ProtoBuf.WIRE_TYPES.VARINT=0,ProtoBuf.WIRE_TYPES.BITS64=1,ProtoBuf.WIRE_TYPES.LDELIM=2,ProtoBuf.WIRE_TYPES.STARTGROUP=3,ProtoBuf.WIRE_TYPES.ENDGROUP=4,ProtoBuf.WIRE_TYPES.BITS32=5,ProtoBuf.PACKABLE_WIRE_TYPES=[ProtoBuf.WIRE_TYPES.VARINT,ProtoBuf.WIRE_TYPES.BITS64,ProtoBuf.WIRE_TYPES.BITS32],ProtoBuf.TYPES={int32:{name:"int32",wireType:ProtoBuf.WIRE_TYPES.VARINT,defaultValue:0},uint32:{name:"uint32",wireType:ProtoBuf.WIRE_TYPES.VARINT,defaultValue:0},sint32:{name:"sint32",wireType:ProtoBuf.WIRE_TYPES.VARINT,defaultValue:0},int64:{name:"int64",wireType:ProtoBuf.WIRE_TYPES.VARINT,defaultValue:ProtoBuf.Long?ProtoBuf.Long.ZERO:void 0},uint64:{name:"uint64",wireType:ProtoBuf.WIRE_TYPES.VARINT,defaultValue:ProtoBuf.Long?ProtoBuf.Long.UZERO:void 0},sint64:{name:"sint64",wireType:ProtoBuf.WIRE_TYPES.VARINT,defaultValue:ProtoBuf.Long?ProtoBuf.Long.ZERO:void 0},bool:{name:"bool",wireType:ProtoBuf.WIRE_TYPES.VARINT,defaultValue:!1},double:{name:"double",wireType:ProtoBuf.WIRE_TYPES.BITS64,defaultValue:0},string:{name:"string",wireType:ProtoBuf.WIRE_TYPES.LDELIM,defaultValue:""},bytes:{name:"bytes",wireType:ProtoBuf.WIRE_TYPES.LDELIM,defaultValue:null},fixed32:{name:"fixed32",wireType:ProtoBuf.WIRE_TYPES.BITS32,defaultValue:0},sfixed32:{name:"sfixed32",wireType:ProtoBuf.WIRE_TYPES.BITS32,defaultValue:0},fixed64:{name:"fixed64",wireType:ProtoBuf.WIRE_TYPES.BITS64,defaultValue:ProtoBuf.Long?ProtoBuf.Long.UZERO:void 0},sfixed64:{name:"sfixed64",wireType:ProtoBuf.WIRE_TYPES.BITS64,defaultValue:ProtoBuf.Long?ProtoBuf.Long.ZERO:void 0},float:{name:"float",wireType:ProtoBuf.WIRE_TYPES.BITS32,defaultValue:0},enum:{name:"enum",wireType:ProtoBuf.WIRE_TYPES.VARINT,defaultValue:0},message:{name:"message",wireType:ProtoBuf.WIRE_TYPES.LDELIM,defaultValue:null},group:{name:"group",wireType:ProtoBuf.WIRE_TYPES.STARTGROUP,defaultValue:null}},ProtoBuf.MAP_KEY_TYPES=[ProtoBuf.TYPES.int32,ProtoBuf.TYPES.sint32,ProtoBuf.TYPES.sfixed32,ProtoBuf.TYPES.uint32,ProtoBuf.TYPES.fixed32,ProtoBuf.TYPES.int64,ProtoBuf.TYPES.sint64,ProtoBuf.TYPES.sfixed64,ProtoBuf.TYPES.uint64,ProtoBuf.TYPES.fixed64,ProtoBuf.TYPES.bool,ProtoBuf.TYPES.string,ProtoBuf.TYPES.bytes],ProtoBuf.ID_MIN=1,ProtoBuf.ID_MAX=536870911,ProtoBuf.convertFieldsToCamelCase=!1,ProtoBuf.populateAccessors=!0,ProtoBuf.populateDefaults=!0,ProtoBuf.Util=((r={}).IS_NODE=!("object"!=typeof n||n+""!="[object process]"||n.browser),r.XHR=function(){for(var e=[function(){return new XMLHttpRequest},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Msxml3.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}],t=null,n=0;n<e.length;n++){try{t=e[n]()}catch(r){continue}break}if(!t)throw Error("XMLHttpRequest is not supported");return t},r.fetch=function(t,n){if(n&&"function"!=typeof n&&(n=null),r.IS_NODE){var i=e("fs");if(n)i.readFile(t,function(e,t){n(e?null:""+t)});else try{return i.readFileSync(t)}catch(s){return null}}else{var o=r.XHR();if(o.open("GET",t,!!n),o.setRequestHeader("Accept","text/plain"),"function"==typeof o.overrideMimeType&&o.overrideMimeType("text/plain"),!n)return o.send(null),200==o.status||0==o.status&&"string"==typeof o.responseText?o.responseText:null;if(o.onreadystatechange=function(){4==o.readyState&&(200==o.status||0==o.status&&"string"==typeof o.responseText?n(o.responseText):n(null))},4==o.readyState)return;o.send(null)}},r.toCamelCase=function(e){return e.replace(/_([a-zA-Z])/g,function(e,t){return t.toUpperCase()})},r),ProtoBuf.Lang={DELIM:/[\s\{\}=;:\[\],'"\(\)<>]/g,RULE:/^(?:required|optional|repeated|map)$/,TYPE:/^(?:double|float|int32|uint32|sint32|int64|uint64|sint64|fixed32|sfixed32|fixed64|sfixed64|bool|string|bytes)$/,NAME:/^[a-zA-Z_][a-zA-Z_0-9]*$/,TYPEDEF:/^[a-zA-Z][a-zA-Z_0-9]*$/,TYPEREF:/^(?:\.?[a-zA-Z_][a-zA-Z_0-9]*)+$/,FQTYPEREF:/^(?:\.[a-zA-Z][a-zA-Z_0-9]*)+$/,NUMBER:/^-?(?:[1-9][0-9]*|0|0[xX][0-9a-fA-F]+|0[0-7]+|([0-9]*(\.[0-9]*)?([Ee][+-]?[0-9]+)?)|inf|nan)$/,NUMBER_DEC:/^(?:[1-9][0-9]*|0)$/,NUMBER_HEX:/^0[xX][0-9a-fA-F]+$/,NUMBER_OCT:/^0[0-7]+$/,NUMBER_FLT:/^([0-9]*(\.[0-9]*)?([Ee][+-]?[0-9]+)?|inf|nan)$/,BOOL:/^(?:true|false)$/i,ID:/^(?:[1-9][0-9]*|0|0[xX][0-9a-fA-F]+|0[0-7]+)$/,NEGID:/^\-?(?:[1-9][0-9]*|0|0[xX][0-9a-fA-F]+|0[0-7]+)$/,WHITESPACE:/\s/,STRING:/(?:"([^"\\]*(?:\\.[^"\\]*)*)")|(?:'([^'\\]*(?:\\.[^'\\]*)*)')/g,STRING_DQ:/(?:"([^"\\]*(?:\\.[^"\\]*)*)")/g,STRING_SQ:/(?:'([^'\\]*(?:\\.[^'\\]*)*)')/g},ProtoBuf.DotProto=function(e,t){var n={},r=function(e){this.source=e+"",this.index=0,this.line=1,this.stack=[],this._stringOpen=null},i=r.prototype;i._readString=function(){var e='"'===this._stringOpen?t.STRING_DQ:t.STRING_SQ;e.lastIndex=this.index-1;var n=e.exec(this.source);if(!n)throw Error("unterminated string");return this.index=e.lastIndex,this.stack.push(this._stringOpen),this._stringOpen=null,n[1]},i.next=function(){if(this.stack.length>0)return this.stack.shift();if(this.index>=this.source.length)return null;if(null!==this._stringOpen)return this._readString();var e,n,r;do{for(e=!1;t.WHITESPACE.test(r=this.source.charAt(this.index));)if("\n"===r&&++this.line,++this.index===this.source.length)return null;if("/"===this.source.charAt(this.index))if(++this.index,"/"===this.source.charAt(this.index)){for(;"\n"!==this.source.charAt(++this.index);)if(this.index==this.source.length)return null;++this.index,++this.line,e=!0}else{if("*"!==(r=this.source.charAt(this.index)))return"/";do{if("\n"===r&&++this.line,++this.index===this.source.length)return null;n=r,r=this.source.charAt(this.index)}while("*"!==n||"/"!==r);++this.index,e=!0}}while(e);if(this.index===this.source.length)return null;var i=this.index;if(t.DELIM.lastIndex=0,!t.DELIM.test(this.source.charAt(i++)))for(;i<this.source.length&&!t.DELIM.test(this.source.charAt(i));)++i;var o=this.source.substring(this.index,this.index=i);return'"'!==o&&"'"!==o||(this._stringOpen=o),o},i.peek=function(){if(0===this.stack.length){var e=this.next();if(null===e)return null;this.stack.push(e)}return this.stack[0]},i.skip=function(e){var t=this.next();if(t!==e)throw Error("illegal '"+t+"', '"+e+"' expected")},i.omit=function(e){return this.peek()===e&&(this.next(),!0)},i.toString=function(){return"Tokenizer ("+this.index+"/"+this.source.length+" at line "+this.line+")"},n.Tokenizer=r;var o=function(e){this.tn=new r(e),this.proto3=!1},s=o.prototype;function a(e,n){var r=-1,i=1;if("-"==e.charAt(0)&&(i=-1,e=e.substring(1)),t.NUMBER_DEC.test(e))r=parseInt(e);else if(t.NUMBER_HEX.test(e))r=parseInt(e.substring(2),16);else{if(!t.NUMBER_OCT.test(e))throw Error("illegal id value: "+(i<0?"-":"")+e);r=parseInt(e.substring(1),8)}if(r=i*r|0,!n&&r<0)throw Error("illegal id value: "+(i<0?"-":"")+e);return r}function c(e){var n=1;if("-"==e.charAt(0)&&(n=-1,e=e.substring(1)),t.NUMBER_DEC.test(e))return n*parseInt(e,10);if(t.NUMBER_HEX.test(e))return n*parseInt(e.substring(2),16);if(t.NUMBER_OCT.test(e))return n*parseInt(e.substring(1),8);if("inf"===e)return n*(1/0);if("nan"===e)return NaN;if(t.NUMBER_FLT.test(e))return n*parseFloat(e);throw Error("illegal number value: "+(n<0?"-":"")+e)}function l(e,t,n){void 0===e[t]?e[t]=n:(Array.isArray(e[t])||(e[t]=[e[t]]),e[t].push(n))}return s.parse=function(){var e,n,r={name:"[ROOT]",package:null,messages:[],enums:[],imports:[],options:{},services:[]},i=!0;try{for(;e=this.tn.next();)switch(e){case"package":if(!i||null!==r.package)throw Error("unexpected 'package'");if(e=this.tn.next(),!t.TYPEREF.test(e))throw Error("illegal package name: "+e);this.tn.skip(";"),r.package=e;break;case"import":if(!i)throw Error("unexpected 'import'");("public"===(e=this.tn.peek())||(n="weak"===e))&&this.tn.next(),e=this._readString(),this.tn.skip(";"),n||r.imports.push(e);break;case"syntax":if(!i)throw Error("unexpected 'syntax'");this.tn.skip("="),"proto3"===(r.syntax=this._readString())&&(this.proto3=!0),this.tn.skip(";");break;case"message":this._parseMessage(r,null),i=!1;break;case"enum":this._parseEnum(r),i=!1;break;case"option":this._parseOption(r);break;case"service":this._parseService(r);break;case"extend":this._parseExtend(r);break;default:throw Error("unexpected '"+e+"'")}}catch(o){throw o.message="Parse error at line "+this.tn.line+": "+o.message,o}return delete r.name,r},o.parse=function(e){return new o(e).parse()},s._readString=function(){var e,t,n="";do{if("'"!==(t=this.tn.next())&&'"'!==t)throw Error("illegal string delimiter: "+t);n+=this.tn.next(),this.tn.skip(t),e=this.tn.peek()}while('"'===e||'"'===e);return n},s._readValue=function(e){var n=this.tn.peek();if('"'===n||"'"===n)return this._readString();if(this.tn.next(),t.NUMBER.test(n))return c(n);if(t.BOOL.test(n))return"true"===n.toLowerCase();if(e&&t.TYPEREF.test(n))return n;throw Error("illegal value: "+n)},s._parseOption=function(e,n){var r=this.tn.next(),i=!1;if("("===r&&(i=!0,r=this.tn.next()),!t.TYPEREF.test(r))throw Error("illegal option name: "+r);var o=r;i&&(this.tn.skip(")"),o="("+o+")",r=this.tn.peek(),t.FQTYPEREF.test(r)&&(o+=r,this.tn.next())),this.tn.skip("="),this._parseOptionValue(e,o),n||this.tn.skip(";")},s._parseOptionValue=function(e,n){var r=this.tn.peek();if("{"!==r)l(e.options,n,this._readValue(!0));else for(this.tn.skip("{");"}"!==(r=this.tn.next());){if(!t.NAME.test(r))throw Error("illegal option name: "+n+"."+r);this.tn.omit(":")?l(e.options,n+"."+r,this._readValue(!0)):this._parseOptionValue(e,n+"."+r)}},s._parseService=function(e){var n=this.tn.next();if(!t.NAME.test(n))throw Error("illegal service name at line "+this.tn.line+": "+n);var r={name:n,rpc:{},options:{}};for(this.tn.skip("{");"}"!==(n=this.tn.next());)if("option"===n)this._parseOption(r);else{if("rpc"!==n)throw Error("illegal service token: "+n);this._parseServiceRPC(r)}this.tn.omit(";"),e.services.push(r)},s._parseServiceRPC=function(e){var n=this.tn.next();if(!t.NAME.test(n))throw Error("illegal rpc service method name: "+n);var r=n,i={request:null,response:null,request_stream:!1,response_stream:!1,options:{}};if(this.tn.skip("("),"stream"===(n=this.tn.next()).toLowerCase()&&(i.request_stream=!0,n=this.tn.next()),!t.TYPEREF.test(n))throw Error("illegal rpc service request type: "+n);if(i.request=n,this.tn.skip(")"),"returns"!==(n=this.tn.next()).toLowerCase())throw Error("illegal rpc service request type delimiter: "+n);if(this.tn.skip("("),"stream"===(n=this.tn.next()).toLowerCase()&&(i.response_stream=!0,n=this.tn.next()),i.response=n,this.tn.skip(")"),"{"===(n=this.tn.peek())){for(this.tn.next();"}"!==(n=this.tn.next());){if("option"!==n)throw Error("illegal rpc service token: "+n);this._parseOption(i)}this.tn.omit(";")}else this.tn.skip(";");void 0===e.rpc&&(e.rpc={}),e.rpc[r]=i},s._parseMessage=function(e,n){var r=!!n,i=this.tn.next(),o={name:"",fields:[],enums:[],messages:[],options:{},services:[],oneofs:{}};if(!t.NAME.test(i))throw Error("illegal "+(r?"group":"message")+" name: "+i);for(o.name=i,r&&(this.tn.skip("="),n.id=a(this.tn.next()),o.isGroup=!0),"["===(i=this.tn.peek())&&n&&this._parseFieldOptions(n),this.tn.skip("{");"}"!==(i=this.tn.next());)if(t.RULE.test(i))this._parseMessageField(o,i);else if("oneof"===i)this._parseMessageOneOf(o);else if("enum"===i)this._parseEnum(o);else if("message"===i)this._parseMessage(o);else if("option"===i)this._parseOption(o);else if("service"===i)this._parseService(o);else if("extensions"===i)o.hasOwnProperty("extensions")?o.extensions=o.extensions.concat(this._parseExtensionRanges()):o.extensions=this._parseExtensionRanges();else if("reserved"===i)this._parseIgnored();else if("extend"===i)this._parseExtend(o);else{if(!t.TYPEREF.test(i))throw Error("illegal message token: "+i);if(!this.proto3)throw Error("illegal field rule: "+i);this._parseMessageField(o,"optional",i)}return this.tn.omit(";"),e.messages.push(o),o},s._parseIgnored=function(){for(;";"!==this.tn.peek();)this.tn.next();this.tn.skip(";")},s._parseMessageField=function(e,n,r){if(!t.RULE.test(n))throw Error("illegal message field rule: "+n);var i,o={rule:n,type:"",name:"",options:{},id:0};if("map"===n){if(r)throw Error("illegal type: "+r);if(this.tn.skip("<"),i=this.tn.next(),!t.TYPE.test(i)&&!t.TYPEREF.test(i))throw Error("illegal message field type: "+i);if(o.keytype=i,this.tn.skip(","),i=this.tn.next(),!t.TYPE.test(i)&&!t.TYPEREF.test(i))throw Error("illegal message field: "+i);if(o.type=i,this.tn.skip(">"),i=this.tn.next(),!t.NAME.test(i))throw Error("illegal message field name: "+i);o.name=i,this.tn.skip("="),o.id=a(this.tn.next()),"["===(i=this.tn.peek())&&this._parseFieldOptions(o),this.tn.skip(";")}else if("group"===(r=void 0!==r?r:this.tn.next())){var s=this._parseMessage(e,o);if(!/^[A-Z]/.test(s.name))throw Error("illegal group name: "+s.name);o.type=s.name,o.name=s.name.toLowerCase(),this.tn.omit(";")}else{if(!t.TYPE.test(r)&&!t.TYPEREF.test(r))throw Error("illegal message field type: "+r);if(o.type=r,i=this.tn.next(),!t.NAME.test(i))throw Error("illegal message field name: "+i);o.name=i,this.tn.skip("="),o.id=a(this.tn.next()),"["===(i=this.tn.peek())&&this._parseFieldOptions(o),this.tn.skip(";")}return e.fields.push(o),o},s._parseMessageOneOf=function(e){var n=this.tn.next();if(!t.NAME.test(n))throw Error("illegal oneof name: "+n);var r,i=n,o=[];for(this.tn.skip("{");"}"!==(n=this.tn.next());)(r=this._parseMessageField(e,"optional",n)).oneof=i,o.push(r.id);this.tn.omit(";"),e.oneofs[i]=o},s._parseFieldOptions=function(e){this.tn.skip("[");for(var t=!0;"]"!==this.tn.peek();)t||this.tn.skip(","),this._parseOption(e,!0),t=!1;this.tn.next()},s._parseEnum=function(e){var n={name:"",values:[],options:{}},r=this.tn.next();if(!t.NAME.test(r))throw Error("illegal name: "+r);for(n.name=r,this.tn.skip("{");"}"!==(r=this.tn.next());)if("option"===r)this._parseOption(n);else{if(!t.NAME.test(r))throw Error("illegal name: "+r);this.tn.skip("=");var i={name:r,id:a(this.tn.next(),!0)};"["===(r=this.tn.peek())&&this._parseFieldOptions({options:{}}),this.tn.skip(";"),n.values.push(i)}this.tn.omit(";"),e.enums.push(n)},s._parseExtensionRanges=function(){var t,n,r,i=[];do{for(n=[];;){switch(t=this.tn.next()){case"min":r=e.ID_MIN;break;case"max":r=e.ID_MAX;break;default:r=c(t)}if(n.push(r),2===n.length)break;if("to"!==this.tn.peek()){n.push(r);break}this.tn.next()}i.push(n)}while(this.tn.omit(","));return this.tn.skip(";"),i},s._parseExtend=function(e){var n=this.tn.next();if(!t.TYPEREF.test(n))throw Error("illegal extend reference: "+n);var r={ref:n,fields:[]};for(this.tn.skip("{");"}"!==(n=this.tn.next());)if(t.RULE.test(n))this._parseMessageField(r,n);else{if(!t.TYPEREF.test(n))throw Error("illegal extend token: "+n);if(!this.proto3)throw Error("illegal field rule: "+n);this._parseMessageField(r,"optional",n)}return this.tn.omit(";"),e.messages.push(r),r},s.toString=function(){return"Parser at line "+this.tn.line},n.Parser=o,n}(ProtoBuf,ProtoBuf.Lang),ProtoBuf.Reflect=function(e){var n={},r=function(e,t,n){this.builder=e,this.parent=t,this.name=n,this.className},i=r.prototype;i.fqn=function(){for(var e=this.name,t=this;null!=(t=t.parent);)e=t.name+"."+e;return e},i.toString=function(e){return(e?this.className+" ":"")+this.fqn()},i.build=function(){throw Error(this.toString(!0)+" cannot be built directly")},n.T=r;var o=function(e,t,n,i,o){r.call(this,e,t,n),this.className="Namespace",this.children=[],this.options=i||{},this.syntax=o||"proto2"},s=o.prototype=Object.create(r.prototype);s.getChildren=function(e){if(null==(e=e||null))return this.children.slice();for(var t=[],n=0,r=this.children.length;n<r;++n)this.children[n]instanceof e&&t.push(this.children[n]);return t},s.addChild=function(e){var t;if(t=this.getChild(e.name))if(t instanceof u.Field&&t.name!==t.originalName&&null===this.getChild(t.originalName))t.name=t.originalName;else{if(!(e instanceof u.Field&&e.name!==e.originalName&&null===this.getChild(e.originalName)))throw Error("Duplicate name in namespace "+this.toString(!0)+": "+e.name);e.name=e.originalName}this.children.push(e)},s.getChild=function(e){for(var t="number"==typeof e?"id":"name",n=0,r=this.children.length;n<r;++n)if(this.children[n][t]===e)return this.children[n];return null},s.resolve=function(e,t){var r,i="string"==typeof e?e.split("."):e,o=this,s=0;if(""===i[s]){for(;null!==o.parent;)o=o.parent;s++}do{do{if(!(o instanceof n.Namespace)){o=null;break}if(!(r=o.getChild(i[s]))||!(r instanceof n.T)||t&&!(r instanceof n.Namespace)){o=null;break}o=r,s++}while(s<i.length);if(null!=o)break;if(null!==this.parent)return this.parent.resolve(e,t)}while(null!=o);return o},s.qn=function(e){var t=[],r=e;do{t.unshift(r.name),r=r.parent}while(null!==r);for(var i=1;i<=t.length;i++){var o=t.slice(t.length-i);if(e===this.resolve(o,e instanceof n.Namespace))return o.join(".")}return e.fqn()},s.build=function(){for(var e,t={},n=this.children,r=0,i=n.length;r<i;++r)(e=n[r])instanceof o&&(t[e.name]=e.build());return Object.defineProperty&&Object.defineProperty(t,"$options",{value:this.buildOpt()}),t},s.buildOpt=function(){for(var e={},t=Object.keys(this.options),n=0,r=t.length;n<r;++n){var i=t[n],o=this.options[t[n]];e[i]=o}return e},s.getOption=function(e){return void 0===e?this.options:void 0!==this.options[e]?this.options[e]:null},n.Namespace=o;var a=function(t,n,r,i,o){if(this.type=t,this.resolvedType=n,this.isMapKey=r,this.syntax=i,this.name=o,r&&e.MAP_KEY_TYPES.indexOf(t)<0)throw Error("Invalid map key type: "+t.name)},c=a.prototype;function l(t,n){if(t&&"number"==typeof t.low&&"number"==typeof t.high&&"boolean"==typeof t.unsigned&&t.low==t.low&&t.high==t.high)return new e.Long(t.low,t.high,void 0===n?t.unsigned:n);if("string"==typeof t)return e.Long.fromString(t,n||!1,10);if("number"==typeof t)return e.Long.fromNumber(t,n||!1);throw Error("not convertible to Long")}a.defaultFieldValue=function(n){if("string"==typeof n&&(n=e.TYPES[n]),void 0===n.defaultValue)throw Error("default value for type "+n.name+" is not supported");return n==e.TYPES.bytes?new t(0):n.defaultValue},c.toString=function(){return(this.name||"")+(this.isMapKey?"map":"value")+" element"},c.verifyValue=function(n){var r=this;function i(e,t){throw Error("Illegal value for "+r.toString(!0)+" of type "+r.type.name+": "+e+" ("+t+")")}switch(this.type){case e.TYPES.int32:case e.TYPES.sint32:case e.TYPES.sfixed32:return("number"!=typeof n||n==n&&n%1!=0)&&i(typeof n,"not an integer"),n>4294967295?0|n:n;case e.TYPES.uint32:case e.TYPES.fixed32:return("number"!=typeof n||n==n&&n%1!=0)&&i(typeof n,"not an integer"),n<0?n>>>0:n;case e.TYPES.int64:case e.TYPES.sint64:case e.TYPES.sfixed64:if(e.Long)try{return l(n,!1)}catch(c){i(typeof n,c.message)}else i(typeof n,"requires Long.js");case e.TYPES.uint64:case e.TYPES.fixed64:if(e.Long)try{return l(n,!0)}catch(c){i(typeof n,c.message)}else i(typeof n,"requires Long.js");case e.TYPES.bool:return"boolean"!=typeof n&&i(typeof n,"not a boolean"),n;case e.TYPES.float:case e.TYPES.double:return"number"!=typeof n&&i(typeof n,"not a number"),n;case e.TYPES.string:return"string"==typeof n||n&&n instanceof String||i(typeof n,"not a string"),""+n;case e.TYPES.bytes:return t.isByteBuffer(n)?n:t.wrap(n,"base64");case e.TYPES.enum:var o=this.resolvedType.getChildren(e.Reflect.Enum.Value);for(a=0;a<o.length;a++){if(o[a].name==n)return o[a].id;if(o[a].id==n)return o[a].id}if("proto3"===this.syntax)return("number"!=typeof n||n==n&&n%1!=0)&&i(typeof n,"not an integer"),(n>4294967295||n<0)&&i(typeof n,"not in range for uint32"),n;i(n,"not a valid enum value");case e.TYPES.group:case e.TYPES.message:if(n&&"object"==typeof n||i(typeof n,"object expected"),n instanceof this.resolvedType.clazz)return n;if(n instanceof e.Builder.Message){var s={};for(var a in n)n.hasOwnProperty(a)&&(s[a]=n[a]);n=s}return new this.resolvedType.clazz(n)}throw Error("[INTERNAL] Illegal value for "+this.toString(!0)+": "+n+" (undefined type "+this.type+")")},c.calculateLength=function(n,r){if(null===r)return 0;var i;switch(this.type){case e.TYPES.int32:return r<0?t.calculateVarint64(r):t.calculateVarint32(r);case e.TYPES.uint32:return t.calculateVarint32(r);case e.TYPES.sint32:return t.calculateVarint32(t.zigZagEncode32(r));case e.TYPES.fixed32:case e.TYPES.sfixed32:case e.TYPES.float:return 4;case e.TYPES.int64:case e.TYPES.uint64:return t.calculateVarint64(r);case e.TYPES.sint64:return t.calculateVarint64(t.zigZagEncode64(r));case e.TYPES.fixed64:case e.TYPES.sfixed64:return 8;case e.TYPES.bool:return 1;case e.TYPES.enum:return t.calculateVarint32(r);case e.TYPES.double:return 8;case e.TYPES.string:return i=t.calculateUTF8Bytes(r),t.calculateVarint32(i)+i;case e.TYPES.bytes:if(r.remaining()<0)throw Error("Illegal value for "+this.toString(!0)+": "+r.remaining()+" bytes remaining");return t.calculateVarint32(r.remaining())+r.remaining();case e.TYPES.message:return i=this.resolvedType.calculate(r),t.calculateVarint32(i)+i;case e.TYPES.group:return(i=this.resolvedType.calculate(r))+t.calculateVarint32(n<<3|e.WIRE_TYPES.ENDGROUP)}throw Error("[INTERNAL] Illegal value to encode in "+this.toString(!0)+": "+r+" (unknown type)")},c.encodeValue=function(n,r,i){if(null===r)return i;switch(this.type){case e.TYPES.int32:r<0?i.writeVarint64(r):i.writeVarint32(r);break;case e.TYPES.uint32:i.writeVarint32(r);break;case e.TYPES.sint32:i.writeVarint32ZigZag(r);break;case e.TYPES.fixed32:i.writeUint32(r);break;case e.TYPES.sfixed32:i.writeInt32(r);break;case e.TYPES.int64:case e.TYPES.uint64:i.writeVarint64(r);break;case e.TYPES.sint64:i.writeVarint64ZigZag(r);break;case e.TYPES.fixed64:i.writeUint64(r);break;case e.TYPES.sfixed64:i.writeInt64(r);break;case e.TYPES.bool:"string"==typeof r?i.writeVarint32("false"===r.toLowerCase()?0:!!r):i.writeVarint32(r?1:0);break;case e.TYPES.enum:i.writeVarint32(r);break;case e.TYPES.float:i.writeFloat32(r);break;case e.TYPES.double:i.writeFloat64(r);break;case e.TYPES.string:i.writeVString(r);break;case e.TYPES.bytes:if(r.remaining()<0)throw Error("Illegal value for "+this.toString(!0)+": "+r.remaining()+" bytes remaining");var o=r.offset;i.writeVarint32(r.remaining()),i.append(r),r.offset=o;break;case e.TYPES.message:var s=(new t).LE();this.resolvedType.encode(r,s),i.writeVarint32(s.offset),i.append(s.flip());break;case e.TYPES.group:this.resolvedType.encode(r,i),i.writeVarint32(n<<3|e.WIRE_TYPES.ENDGROUP);break;default:throw Error("[INTERNAL] Illegal value to encode in "+this.toString(!0)+": "+r+" (unknown type)")}return i},c.decode=function(t,n,r){if(n!=this.type.wireType)throw Error("Unexpected wire type for element");var i,o;switch(this.type){case e.TYPES.int32:return 0|t.readVarint32();case e.TYPES.uint32:return t.readVarint32()>>>0;case e.TYPES.sint32:return 0|t.readVarint32ZigZag();case e.TYPES.fixed32:return t.readUint32()>>>0;case e.TYPES.sfixed32:return 0|t.readInt32();case e.TYPES.int64:return t.readVarint64().toNumber();case e.TYPES.uint64:return t.readVarint64().toUnsigned().toNumber();case e.TYPES.sint64:return t.readVarint64ZigZag().toNumber();case e.TYPES.fixed64:return t.readUint64().toNumber();case e.TYPES.sfixed64:return t.readInt64().toNumber();case e.TYPES.bool:return!!t.readVarint32();case e.TYPES.enum:return t.readVarint32();case e.TYPES.float:return t.readFloat();case e.TYPES.double:return t.readDouble();case e.TYPES.string:return t.readVString();case e.TYPES.bytes:if(o=t.readVarint32(),t.remaining()<o)throw Error("Illegal number of bytes for "+this.toString(!0)+": "+o+" required but got only "+t.remaining());return(i=t.clone()).limit=i.offset+o,t.offset+=o,i;case e.TYPES.message:return o=t.readVarint32(),this.resolvedType.decode(t,o);case e.TYPES.group:return this.resolvedType.decode(t,-1,r)}throw Error("[INTERNAL] Illegal decode type")},c.valueFromString=function(n){if(!this.isMapKey)throw Error("valueFromString() called on non-map-key element");switch(this.type){case e.TYPES.int32:case e.TYPES.sint32:case e.TYPES.sfixed32:case e.TYPES.uint32:case e.TYPES.fixed32:return this.verifyValue(parseInt(n));case e.TYPES.int64:case e.TYPES.sint64:case e.TYPES.sfixed64:case e.TYPES.uint64:case e.TYPES.fixed64:return this.verifyValue(n);case e.TYPES.bool:return"true"===n;case e.TYPES.string:return this.verifyValue(n);case e.TYPES.bytes:return t.fromBinary(n)}},c.valueToString=function(t){if(!this.isMapKey)throw Error("valueToString() called on non-map-key element");return this.type===e.TYPES.bytes?t.toString("binary"):t.toString()},n.Element=a;var u=function(e,t,n,r,i,s){o.call(this,e,t,n,r,s),this.className="Message",this.extensions=void 0,this.clazz=null,this.isGroup=!!i,this._fields=null,this._fieldsById=null,this._fieldsByName=null},f=u.prototype=Object.create(o.prototype);function h(t,n){var r=n.readVarint32(),i=7&r,o=r>>>3;switch(i){case e.WIRE_TYPES.VARINT:do{r=n.readUint8()}while(128==(128&r));break;case e.WIRE_TYPES.BITS64:n.offset+=8;break;case e.WIRE_TYPES.LDELIM:r=n.readVarint32(),n.offset+=r;break;case e.WIRE_TYPES.STARTGROUP:h(o,n);break;case e.WIRE_TYPES.ENDGROUP:if(o===t)return!1;throw Error("Illegal GROUPEND after unknown group: "+o+" ("+t+" expected)");case e.WIRE_TYPES.BITS32:n.offset+=4;break;default:throw Error("Illegal wire type in unknown group "+t+": "+i)}return!0}f.build=function(n){if(this.clazz&&!n)return this.clazz;var r=function(e,n){var r=n.getChildren(e.Reflect.Message.Field),i=n.getChildren(e.Reflect.Message.OneOf),o=function o(s){e.Builder.Message.call(this);for(var a=0,c=i.length;a<c;++a)this[i[a].name]=null;for(a=0,c=r.length;a<c;++a){var l=r[a];this[l.name]=l.repeated?[]:l.map?new e.Map(l):null,!l.required&&"proto3"!==n.syntax||null===l.defaultValue||(this[l.name]=l.defaultValue)}var u;if(arguments.length>0)if(1!==arguments.length||null===s||"object"!=typeof s||!("function"!=typeof s.encode||s instanceof o)||Array.isArray(s)||s instanceof e.Map||t.isByteBuffer(s)||s instanceof ArrayBuffer||e.Long&&s instanceof e.Long)for(a=0,c=arguments.length;a<c;++a)void 0!==(u=arguments[a])&&this.$set(r[a].name,u);else this.$set(s)},s=o.prototype=Object.create(e.Builder.Message.prototype);s.add=function(t,r,i){var o=n._fieldsByName[t];if(!i){if(!o)throw Error(this+"#"+t+" is undefined");if(!(o instanceof e.Reflect.Message.Field))throw Error(this+"#"+t+" is not a field: "+o.toString(!0));if(!o.repeated)throw Error(this+"#"+t+" is not a repeated field");r=o.verifyValue(r,!0)}return null===this[t]&&(this[t]=[]),this[t].push(r),this},s.$add=s.add,s.set=function(t,r,i){if(t&&"object"==typeof t){for(var o in i=r,t)t.hasOwnProperty(o)&&void 0!==(r=t[o])&&void 0===n._oneofsByName[o]&&this.$set(o,r,i);return this}var s=n._fieldsByName[t];if(i)this[t]=r;else{if(!s)throw Error(this+"#"+t+" is not a field: undefined");if(!(s instanceof e.Reflect.Message.Field))throw Error(this+"#"+t+" is not a field: "+s.toString(!0));this[s.name]=r=s.verifyValue(r)}if(s&&s.oneof){var a=this[s.oneof.name];null!==r?(null!==a&&a!==s.name&&(this[a]=null),this[s.oneof.name]=s.name):a===t&&(this[s.oneof.name]=null)}return this},s.$set=s.set,s.get=function(t,r){if(r)return this[t];var i=n._fieldsByName[t];if(!(i&&i instanceof e.Reflect.Message.Field))throw Error(this+"#"+t+" is not a field: undefined");if(!(i instanceof e.Reflect.Message.Field))throw Error(this+"#"+t+" is not a field: "+i.toString(!0));return this[i.name]},s.$get=s.get;for(var a=0;a<r.length;a++){var c=r[a];c instanceof e.Reflect.Message.ExtensionField||n.builder.options.populateAccessors&&function(e){var t=e.originalName.replace(/(_[a-zA-Z])/g,function(e){return e.toUpperCase().replace("_","")});t=t.substring(0,1).toUpperCase()+t.substring(1);var r=e.originalName.replace(/([A-Z])/g,function(e){return"_"+e}),i=function(t,n){return this[e.name]=n?t:e.verifyValue(t),this},o=function(){return this[e.name]};null===n.getChild("set"+t)&&(s["set"+t]=i),null===n.getChild("set_"+r)&&(s["set_"+r]=i),null===n.getChild("get"+t)&&(s["get"+t]=o),null===n.getChild("get_"+r)&&(s["get_"+r]=o)}(c)}function l(n,r,i,o){if(null===n||"object"!=typeof n){if(o&&o instanceof e.Reflect.Enum){var s=e.Reflect.Enum.getName(o.object,n);if(null!==s)return s}return n}if(t.isByteBuffer(n))return r?n.toBase64():n.toBuffer();if(e.Long.isLong(n))return i?n.toString():e.Long.fromValue(n);var a;if(Array.isArray(n))return a=[],n.forEach(function(e,t){a[t]=l(e,r,i,o)}),a;if(a={},n instanceof e.Map){for(var c=n.entries(),u=c.next();!u.done;u=c.next())a[n.keyElem.valueToString(u.value[0])]=l(u.value[1],r,i,n.valueElem.resolvedType);return a}var f=n.$type,h=void 0;for(var p in n)n.hasOwnProperty(p)&&(f&&(h=f.getChild(p))?a[p]=l(n[p],r,i,h.resolvedType):a[p]=l(n[p],r,i));return a}return s.encode=function(e,r){"boolean"==typeof e&&(r=e,e=void 0);var i=!1;e||(e=new t,i=!0);var o=e.littleEndian;try{return n.encode(this,e.LE(),r),(i?e.flip():e).LE(o)}catch(s){throw e.LE(o),s}},o.encode=function(e,t,n){return new o(e).encode(t,n)},s.calculate=function(){return n.calculate(this)},s.encodeDelimited=function(e,r){var i=!1;e||(e=new t,i=!0);var o=(new t).LE();return n.encode(this,o,r).flip(),e.writeVarint32(o.remaining()),e.append(o),i?e.flip():e},s.encodeAB=function(){try{return this.encode().toArrayBuffer()}catch(e){throw e.encoded&&(e.encoded=e.encoded.toArrayBuffer()),e}},s.toArrayBuffer=s.encodeAB,s.encodeNB=function(){try{return this.encode().toBuffer()}catch(e){throw e.encoded&&(e.encoded=e.encoded.toBuffer()),e}},s.toBuffer=s.encodeNB,s.encode64=function(){try{return this.encode().toBase64()}catch(e){throw e.encoded&&(e.encoded=e.encoded.toBase64()),e}},s.toBase64=s.encode64,s.encodeHex=function(){try{return this.encode().toHex()}catch(e){throw e.encoded&&(e.encoded=e.encoded.toHex()),e}},s.toHex=s.encodeHex,s.toRaw=function(e,t){return l(this,!!e,!!t,this.$type)},s.encodeJSON=function(){return JSON.stringify(l(this,!0,!0,this.$type))},o.decode=function(e,r,i){"string"==typeof r&&(i=r,r=-1),"string"==typeof e?e=t.wrap(e,i||"base64"):t.isByteBuffer(e)||(e=t.wrap(e));var o=e.littleEndian;try{var s=n.decode(e.LE(),r);return e.LE(o),s}catch(a){throw e.LE(o),a}},o.decodeDelimited=function(e,r){if("string"==typeof e?e=t.wrap(e,r||"base64"):t.isByteBuffer(e)||(e=t.wrap(e)),e.remaining()<1)return null;var i=e.offset,o=e.readVarint32();if(e.remaining()<o)return e.offset=i,null;try{var s=n.decode(e.slice(e.offset,e.offset+o).LE());return e.offset+=o,s}catch(a){throw e.offset+=o,a}},o.decode64=function(e){return o.decode(e,"base64")},o.decodeHex=function(e){return o.decode(e,"hex")},o.decodeJSON=function(e){return new o(JSON.parse(e))},s.toString=function(){return n.toString()},Object.defineProperty&&(Object.defineProperty(o,"$options",{value:n.buildOpt()}),Object.defineProperty(s,"$options",{value:o.$options}),Object.defineProperty(o,"$type",{value:n}),Object.defineProperty(s,"$type",{value:n})),o}(e,this);this._fields=[],this._fieldsById={},this._fieldsByName={},this._oneofsByName={};for(var i,o=0,s=this.children.length;o<s;o++)if((i=this.children[o])instanceof y||i instanceof u||i instanceof _){if(r.hasOwnProperty(i.name))throw Error("Illegal reflect child of "+this.toString(!0)+": "+i.toString(!0)+" cannot override static property '"+i.name+"'");r[i.name]=i.build()}else if(i instanceof u.Field)i.build(),this._fields.push(i),this._fieldsById[i.id]=i,this._fieldsByName[i.name]=i;else if(i instanceof u.OneOf)this._oneofsByName[i.name]=i;else if(!(i instanceof u.OneOf||i instanceof m))throw Error("Illegal reflect child of "+this.toString(!0)+": "+this.children[o].toString(!0));return this.clazz=r},f.encode=function(e,t,n){for(var r,i,o=null,s=0,a=this._fields.length;s<a;++s)i=e[(r=this._fields[s]).name],r.required&&null===i?null===o&&(o=r):r.encode(n?i:r.verifyValue(i),t,e);if(null!==o){var c=Error("Missing at least one required field for "+this.toString(!0)+": "+o);throw c.encoded=t,c}return t},f.calculate=function(e){for(var t,n,r=0,i=0,o=this._fields.length;i<o;++i){if(n=e[(t=this._fields[i]).name],t.required&&null===n)throw Error("Missing at least one required field for "+this.toString(!0)+": "+t);r+=t.calculate(n,e)}return r},f.decode=function(t,n,r){"number"!=typeof n&&(n=-1);for(var i,o,s,a,c=t.offset,l=new this.clazz;t.offset<c+n||-1===n&&t.remaining()>0;){if(s=(i=t.readVarint32())>>>3,(o=7&i)===e.WIRE_TYPES.ENDGROUP){if(s!==r)throw Error("Illegal group end indicator for "+this.toString(!0)+": "+s+" ("+(r?r+" expected":"not a group")+")");break}if(a=this._fieldsById[s]){if(a.repeated&&!a.options.packed)l[a.name].push(a.decode(o,t));else if(a.map){var u=a.decode(o,t);l[a.name].set(u[0],u[1])}else if(l[a.name]=a.decode(o,t),a.oneof){var f=l[a.oneof.name];null!==f&&f!==a.name&&(l[f]=null),l[a.oneof.name]=a.name}}else switch(o){case e.WIRE_TYPES.VARINT:t.readVarint32();break;case e.WIRE_TYPES.BITS32:t.offset+=4;break;case e.WIRE_TYPES.BITS64:t.offset+=8;break;case e.WIRE_TYPES.LDELIM:var p=t.readVarint32();t.offset+=p;break;case e.WIRE_TYPES.STARTGROUP:for(;h(s,t););break;default:throw Error("Illegal wire type for unknown field "+s+" in "+this.toString(!0)+"#decode: "+o)}}for(var d=0,g=this._fields.length;d<g;++d)if(null===l[(a=this._fields[d]).name])if("proto3"===this.syntax)l[a.name]=a.defaultValue;else{if(a.required){var y=Error("Missing at least one required field for "+this.toString(!0)+": "+a.name);throw y.decoded=l,y}e.populateDefaults&&null!==a.defaultValue&&(l[a.name]=a.defaultValue)}return l},n.Message=u;var p=function(t,n,i,o,s,a,c,l,f,h){r.call(this,t,n,a),this.className="Message.Field",this.required="required"===i,this.repeated="repeated"===i,this.map="map"===i,this.keyType=o||null,this.type=s,this.resolvedType=null,this.id=c,this.options=l||{},this.defaultValue=null,this.oneof=f||null,this.syntax=h||"proto2",this.originalName=this.name,this.element=null,this.keyElement=null,!this.builder.options.convertFieldsToCamelCase||this instanceof u.ExtensionField||(this.name=e.Util.toCamelCase(this.name))},d=p.prototype=Object.create(r.prototype);d.build=function(){this.element=new a(this.type,this.resolvedType,!1,this.syntax,this.name),this.map&&(this.keyElement=new a(this.keyType,void 0,!0,this.syntax,this.name)),"proto3"!==this.syntax||this.repeated||this.map?void 0!==this.options.default&&(this.defaultValue=this.verifyValue(this.options.default)):this.defaultValue=a.defaultFieldValue(this.type)},d.verifyValue=function(t,n){n=n||!1;var r,i=this;function o(e,t){throw Error("Illegal value for "+i.toString(!0)+" of type "+i.type.name+": "+e+" ("+t+")")}if(null===t)return this.required&&o(typeof t,"required"),"proto3"===this.syntax&&this.type!==e.TYPES.message&&o(typeof t,"proto3 field without field presence cannot be null"),null;if(this.repeated&&!n){Array.isArray(t)||(t=[t]);var s=[];for(r=0;r<t.length;r++)s.push(this.element.verifyValue(t[r]));return s}return this.map&&!n?t instanceof e.Map?t:(t instanceof Object||o(typeof t,"expected ProtoBuf.Map or raw object for map field"),new e.Map(this,t)):(!this.repeated&&Array.isArray(t)&&o(typeof t,"no array expected"),this.element.verifyValue(t))},d.hasWirePresence=function(t,n){if("proto3"!==this.syntax)return null!==t;if(this.oneof&&n[this.oneof.name]===this.name)return!0;switch(this.type){case e.TYPES.int32:case e.TYPES.sint32:case e.TYPES.sfixed32:case e.TYPES.uint32:case e.TYPES.fixed32:return 0!==t;case e.TYPES.int64:case e.TYPES.sint64:case e.TYPES.sfixed64:case e.TYPES.uint64:case e.TYPES.fixed64:return 0!==t.low||0!==t.high;case e.TYPES.bool:return t;case e.TYPES.float:case e.TYPES.double:return 0!==t;case e.TYPES.string:return t.length>0;case e.TYPES.bytes:return t.remaining()>0;case e.TYPES.enum:return 0!==t;case e.TYPES.message:return null!==t;default:return!0}},d.encode=function(n,r,i){if(null===this.type||"object"!=typeof this.type)throw Error("[INTERNAL] Unresolved type in "+this.toString(!0)+": "+this.type);if(null===n||this.repeated&&0==n.length)return r;try{var o;if(this.repeated)if(this.options.packed&&e.PACKABLE_WIRE_TYPES.indexOf(this.type.wireType)>=0){r.writeVarint32(this.id<<3|e.WIRE_TYPES.LDELIM),r.ensureCapacity(r.offset+=1);var s=r.offset;for(o=0;o<n.length;o++)this.element.encodeValue(this.id,n[o],r);var a=r.offset-s,c=t.calculateVarint32(a);if(c>1){var l=r.slice(s,r.offset);s+=c-1,r.offset=s,r.append(l)}r.writeVarint32(a,s-c)}else for(o=0;o<n.length;o++)r.writeVarint32(this.id<<3|this.type.wireType),this.element.encodeValue(this.id,n[o],r);else this.map?n.forEach(function(n,i){var o=t.calculateVarint32(8|this.keyType.wireType)+this.keyElement.calculateLength(1,i)+t.calculateVarint32(16|this.type.wireType)+this.element.calculateLength(2,n);r.writeVarint32(this.id<<3|e.WIRE_TYPES.LDELIM),r.writeVarint32(o),r.writeVarint32(8|this.keyType.wireType),this.keyElement.encodeValue(1,i,r),r.writeVarint32(16|this.type.wireType),this.element.encodeValue(2,n,r)},this):this.hasWirePresence(n,i)&&(r.writeVarint32(this.id<<3|this.type.wireType),this.element.encodeValue(this.id,n,r))}catch(u){throw Error("Illegal value for "+this.toString(!0)+": "+n+" ("+u+")")}return r},d.calculate=function(n,r){if(n=this.verifyValue(n),null===this.type||"object"!=typeof this.type)throw Error("[INTERNAL] Unresolved type in "+this.toString(!0)+": "+this.type);if(null===n||this.repeated&&0==n.length)return 0;var i=0;try{var o,s;if(this.repeated)if(this.options.packed&&e.PACKABLE_WIRE_TYPES.indexOf(this.type.wireType)>=0){for(i+=t.calculateVarint32(this.id<<3|e.WIRE_TYPES.LDELIM),s=0,o=0;o<n.length;o++)s+=this.element.calculateLength(this.id,n[o]);i+=t.calculateVarint32(s),i+=s}else for(o=0;o<n.length;o++)i+=t.calculateVarint32(this.id<<3|this.type.wireType),i+=this.element.calculateLength(this.id,n[o]);else this.map?n.forEach(function(n,r){var o=t.calculateVarint32(8|this.keyType.wireType)+this.keyElement.calculateLength(1,r)+t.calculateVarint32(16|this.type.wireType)+this.element.calculateLength(2,n);i+=t.calculateVarint32(this.id<<3|e.WIRE_TYPES.LDELIM),i+=t.calculateVarint32(o),i+=o},this):this.hasWirePresence(n,r)&&(i+=t.calculateVarint32(this.id<<3|this.type.wireType),i+=this.element.calculateLength(this.id,n))}catch(a){throw Error("Illegal value for "+this.toString(!0)+": "+n+" ("+a+")")}return i},d.decode=function(t,n,r){var i,o;if(!(!this.map&&t==this.type.wireType||!r&&this.repeated&&this.options.packed&&t==e.WIRE_TYPES.LDELIM||this.map&&t==e.WIRE_TYPES.LDELIM))throw Error("Illegal wire type for field "+this.toString(!0)+": "+t+" ("+this.type.wireType+" expected)");if(t==e.WIRE_TYPES.LDELIM&&this.repeated&&this.options.packed&&e.PACKABLE_WIRE_TYPES.indexOf(this.type.wireType)>=0&&!r){o=n.readVarint32(),o=n.offset+o;for(var s=[];n.offset<o;)s.push(this.decode(this.type.wireType,n,!0));return s}if(this.map){var c=a.defaultFieldValue(this.keyType);if(i=a.defaultFieldValue(this.type),o=n.readVarint32(),n.remaining()<o)throw Error("Illegal number of bytes for "+this.toString(!0)+": "+o+" required but got only "+n.remaining());var l=n.clone();for(l.limit=l.offset+o,n.offset+=o;l.remaining()>0;){var u=l.readVarint32();t=7&u;var f=u>>>3;if(1===f)c=this.keyElement.decode(l,t,f);else{if(2!==f)throw Error("Unexpected tag in map field key/value submessage");i=this.element.decode(l,t,f)}}return[c,i]}return this.element.decode(n,t,this.id)},n.Message.Field=p;var g=function(e,t,n,r,i,o,s){p.call(this,e,t,n,null,r,i,o,s),this.extension};g.prototype=Object.create(p.prototype),n.Message.ExtensionField=g,n.Message.OneOf=function(e,t,n){r.call(this,e,t,n),this.fields=[]};var y=function(e,t,n,r,i){o.call(this,e,t,n,r,i),this.className="Enum",this.object=null};y.getName=function(e,t){for(var n,r=Object.keys(e),i=0;i<r.length;++i)if(e[n=r[i]]===t)return n;return null},(y.prototype=Object.create(o.prototype)).build=function(t){if(this.object&&!t)return this.object;for(var n=new e.Builder.Enum,r=this.getChildren(y.Value),i=0,o=r.length;i<o;++i)n[r[i].name]=r[i].id;return Object.defineProperty&&Object.defineProperty(n,"$options",{value:this.buildOpt(),enumerable:!1}),this.object=n},n.Enum=y;var v=function(e,t,n,i){r.call(this,e,t,n),this.className="Enum.Value",this.id=i};v.prototype=Object.create(r.prototype),n.Enum.Value=v;var m=function(e,t,n,i){r.call(this,e,t,n),this.field=i};m.prototype=Object.create(r.prototype),n.Extension=m;var _=function(e,t,n,r){o.call(this,e,t,n,r),this.className="Service",this.clazz=null};(_.prototype=Object.create(o.prototype)).build=function(n){return this.clazz&&!n?this.clazz:this.clazz=function(e,n){for(var r=function(t){e.Builder.Service.call(this),this.rpcImpl=t||function(e,t,n){setTimeout(n.bind(this,Error("Not implemented, see: https://github.com/dcodeIO/ProtoBuf.js/wiki/Services")),0)}},i=r.prototype=Object.create(e.Builder.Service.prototype),o=n.getChildren(e.Reflect.Service.RPCMethod),s=0;s<o.length;s++)(function(e){i[e.name]=function(r,i){try{try{r=e.resolvedRequestType.clazz.decode(t.wrap(r))}catch(o){if(!(o instanceof TypeError))throw o}if(null===r||"object"!=typeof r)throw Error("Illegal arguments");r instanceof e.resolvedRequestType.clazz||(r=new e.resolvedRequestType.clazz(r)),this.rpcImpl(e.fqn(),r,function(t,r){if(t)i(t);else{null===r&&(r="");try{r=e.resolvedResponseType.clazz.decode(r)}catch(o){}r&&r instanceof e.resolvedResponseType.clazz?i(null,r):i(Error("Illegal response type received in service method "+n.name+"#"+e.name))}})}catch(o){setTimeout(i.bind(this,o),0)}},r[e.name]=function(t,n,i){new r(t)[e.name](n,i)},Object.defineProperty&&(Object.defineProperty(r[e.name],"$options",{value:e.buildOpt()}),Object.defineProperty(i[e.name],"$options",{value:r[e.name].$options}))})(o[s]);return Object.defineProperty&&(Object.defineProperty(r,"$options",{value:n.buildOpt()}),Object.defineProperty(i,"$options",{value:r.$options}),Object.defineProperty(r,"$type",{value:n}),Object.defineProperty(i,"$type",{value:n})),r}(e,this)},n.Service=_;var b=function(e,t,n,i){r.call(this,e,t,n),this.className="Service.Method",this.options=i||{}};(b.prototype=Object.create(r.prototype)).buildOpt=s.buildOpt,n.Service.Method=b;var w=function(e,t,n,r,i,o,s,a){b.call(this,e,t,n,a),this.className="Service.RPCMethod",this.requestName=r,this.responseName=i,this.requestStream=o,this.responseStream=s,this.resolvedRequestType=null,this.resolvedResponseType=null};return w.prototype=Object.create(b.prototype),n.Service.RPCMethod=w,n}(ProtoBuf),ProtoBuf.Builder=function(t,n,r){var i=function(e){this.ns=new r.Namespace(this,null,""),this.ptr=this.ns,this.resolved=!1,this.result=null,this.files={},this.importRoot=null,this.options=e||{}},o=i.prototype;function s(e){e.messages&&e.messages.forEach(function(t){t.syntax=e.syntax,s(t)}),e.enums&&e.enums.forEach(function(t){t.syntax=e.syntax})}return i.isMessage=function(e){return"string"==typeof e.name&&void 0===e.values&&void 0===e.rpc},i.isMessageField=function(e){return"string"==typeof e.rule&&"string"==typeof e.name&&"string"==typeof e.type&&void 0!==e.id},i.isEnum=function(e){return"string"==typeof e.name&&!(void 0===e.values||!Array.isArray(e.values)||0===e.values.length)},i.isService=function(e){return!("string"!=typeof e.name||"object"!=typeof e.rpc||!e.rpc)},i.isExtend=function(e){return"string"==typeof e.ref},o.reset=function(){return this.ptr=this.ns,this},o.define=function(e){if("string"!=typeof e||!n.TYPEREF.test(e))throw Error("illegal namespace: "+e);return e.split(".").forEach(function(e){var t=this.ptr.getChild(e);null===t&&this.ptr.addChild(t=new r.Namespace(this,this.ptr,e)),this.ptr=t},this),this},o.create=function(e){if(!e)return this;if(Array.isArray(e)){if(0===e.length)return this;e=e.slice()}else e=[e];for(var n=[e];n.length>0;){if(e=n.pop(),!Array.isArray(e))throw Error("not a valid namespace: "+JSON.stringify(e));for(;e.length>0;){var o=e.shift();if(i.isMessage(o)){var s=new r.Message(this,this.ptr,o.name,o.options,o.isGroup,o.syntax),a={};o.oneofs&&Object.keys(o.oneofs).forEach(function(e){s.addChild(a[e]=new r.Message.OneOf(this,s,e))},this),o.fields&&o.fields.forEach(function(e){if(null!==s.getChild(0|e.id))throw Error("duplicate or invalid field id in "+s.name+": "+e.id);if(e.options&&"object"!=typeof e.options)throw Error("illegal field options in "+s.name+"#"+e.name);var t=null;if("string"==typeof e.oneof&&!(t=a[e.oneof]))throw Error("illegal oneof in "+s.name+"#"+e.name+": "+e.oneof);e=new r.Message.Field(this,s,e.rule,e.keytype,e.type,e.name,e.id,e.options,t,o.syntax),t&&t.fields.push(e),s.addChild(e)},this);var c=[];if(o.enums&&o.enums.forEach(function(e){c.push(e)}),o.messages&&o.messages.forEach(function(e){c.push(e)}),o.services&&o.services.forEach(function(e){c.push(e)}),o.extensions&&("number"==typeof o.extensions[0]?s.extensions=[o.extensions]:s.extensions=o.extensions),this.ptr.addChild(s),c.length>0){n.push(e),e=c,c=null,this.ptr=s,s=null;continue}c=null}else if(i.isEnum(o))s=new r.Enum(this,this.ptr,o.name,o.options,o.syntax),o.values.forEach(function(e){s.addChild(new r.Enum.Value(this,s,e.name,e.id))},this),this.ptr.addChild(s);else if(i.isService(o))s=new r.Service(this,this.ptr,o.name,o.options),Object.keys(o.rpc).forEach(function(e){var t=o.rpc[e];s.addChild(new r.Service.RPCMethod(this,s,e,t.request,t.response,!!t.request_stream,!!t.response_stream,t.options))},this),this.ptr.addChild(s);else{if(!i.isExtend(o))throw Error("not a valid definition: "+JSON.stringify(o));if(s=this.ptr.resolve(o.ref,!0))o.fields.forEach(function(e){if(null!==s.getChild(0|e.id))throw Error("duplicate extended field id in "+s.name+": "+e.id);if(s.extensions){var n=!1;if(s.extensions.forEach(function(t){e.id>=t[0]&&e.id<=t[1]&&(n=!0)}),!n)throw Error("illegal extended field id in "+s.name+": "+e.id+" (not within valid ranges)")}var i=e.name;this.options.convertFieldsToCamelCase&&(i=t.Util.toCamelCase(i));var o=new r.Message.ExtensionField(this,s,e.rule,e.type,this.ptr.fqn()+"."+i,e.id,e.options),a=new r.Extension(this,this.ptr,e.name,o);o.extension=a,this.ptr.addChild(a),s.addChild(o)},this);else if(!/\.?google\.protobuf\./.test(o.ref))throw Error("extended message "+o.ref+" is not defined")}o=null,s=null}e=null,this.ptr=this.ptr.parent}return this.resolved=!1,this.result=null,this},o.import=function(n,r){var i="/";if("string"==typeof r){if(t.Util.IS_NODE&&(r=e("path").resolve(r)),!0===this.files[r])return this.reset();this.files[r]=!0}else if("object"==typeof r){var o,a=r.root;if(t.Util.IS_NODE&&(a=e("path").resolve(a)),(a.indexOf("\\")>=0||r.file.indexOf("\\")>=0)&&(i="\\"),o=t.Util.IS_NODE?e("path").join(a,r.file):a+i+r.file,!0===this.files[o])return this.reset();this.files[o]=!0}if(n.imports&&n.imports.length>0){var c,l=!1;"object"==typeof r?(this.importRoot=r.root,l=!0,c=this.importRoot,r=r.file,(c.indexOf("\\")>=0||r.indexOf("\\")>=0)&&(i="\\")):"string"==typeof r?this.importRoot?c=this.importRoot:r.indexOf("/")>=0?""===(c=r.replace(/\/[^\/]*$/,""))&&(c="/"):r.indexOf("\\")>=0?(c=r.replace(/\\[^\\]*$/,""),i="\\"):c=".":c=null;for(var u=0;u<n.imports.length;u++)if("string"==typeof n.imports[u]){if(!c)throw Error("cannot determine import root");var f=n.imports[u];if("google/protobuf/descriptor.proto"===f)continue;if(f=t.Util.IS_NODE?e("path").join(c,f):c+i+f,!0===this.files[f])continue;/\.proto$/i.test(f)&&!t.DotProto&&(f=f.replace(/\.proto$/,".json"));var h=t.Util.fetch(f);if(null===h)throw Error("failed to import '"+f+"' in '"+r+"': file not found");/\.json$/i.test(f)?this.import(JSON.parse(h+""),f):this.import(t.DotProto.Parser.parse(h),f)}else r?/\.(\w+)$/.test(r)?this.import(n.imports[u],r.replace(/^(.+)\.(\w+)$/,function(e,t,n){return t+"_import"+u+"."+n})):this.import(n.imports[u],r+"_import"+u):this.import(n.imports[u]);l&&(this.importRoot=null)}n.package&&this.define(n.package),n.syntax&&s(n);var p=this.ptr;return n.options&&Object.keys(n.options).forEach(function(e){p.options[e]=n.options[e]}),n.messages&&(this.create(n.messages),this.ptr=p),n.enums&&(this.create(n.enums),this.ptr=p),n.services&&(this.create(n.services),this.ptr=p),n.extends&&this.create(n.extends),this.reset()},o.resolveAll=function(){var e;if(null==this.ptr||"object"==typeof this.ptr.type)return this;if(this.ptr instanceof r.Namespace)this.ptr.children.forEach(function(e){this.ptr=e,this.resolveAll()},this);else if(this.ptr instanceof r.Message.Field){if(n.TYPE.test(this.ptr.type))this.ptr.type=t.TYPES[this.ptr.type];else{if(!n.TYPEREF.test(this.ptr.type))throw Error("illegal type reference in "+this.ptr.toString(!0)+": "+this.ptr.type);if(!(e=(this.ptr instanceof r.Message.ExtensionField?this.ptr.extension.parent:this.ptr.parent).resolve(this.ptr.type,!0)))throw Error("unresolvable type reference in "+this.ptr.toString(!0)+": "+this.ptr.type);if(this.ptr.resolvedType=e,e instanceof r.Enum){if(this.ptr.type=t.TYPES.enum,"proto3"===this.ptr.syntax&&"proto3"!==e.syntax)throw Error("proto3 message cannot reference proto2 enum")}else{if(!(e instanceof r.Message))throw Error("illegal type reference in "+this.ptr.toString(!0)+": "+this.ptr.type);this.ptr.type=e.isGroup?t.TYPES.group:t.TYPES.message}}if(this.ptr.map){if(!n.TYPE.test(this.ptr.keyType))throw Error("illegal key type for map field in "+this.ptr.toString(!0)+": "+this.ptr.keyType);this.ptr.keyType=t.TYPES[this.ptr.keyType]}"proto3"===this.ptr.syntax&&this.ptr.repeated&&void 0===this.ptr.options.packed&&-1!==t.PACKABLE_WIRE_TYPES.indexOf(this.ptr.type.wireType)&&(this.ptr.options.packed=!0)}else if(this.ptr instanceof t.Reflect.Service.Method){if(!(this.ptr instanceof t.Reflect.Service.RPCMethod))throw Error("illegal service type in "+this.ptr.toString(!0));if(!((e=this.ptr.parent.resolve(this.ptr.requestName,!0))&&e instanceof t.Reflect.Message))throw Error("Illegal type reference in "+this.ptr.toString(!0)+": "+this.ptr.requestName);if(this.ptr.resolvedRequestType=e,!((e=this.ptr.parent.resolve(this.ptr.responseName,!0))&&e instanceof t.Reflect.Message))throw Error("Illegal type reference in "+this.ptr.toString(!0)+": "+this.ptr.responseName);this.ptr.resolvedResponseType=e}else if(!(this.ptr instanceof t.Reflect.Message.OneOf||this.ptr instanceof t.Reflect.Extension||this.ptr instanceof t.Reflect.Enum.Value))throw Error("illegal object in namespace: "+typeof this.ptr+": "+this.ptr);return this.reset()},o.build=function(e){if(this.reset(),this.resolved||(this.resolveAll(),this.resolved=!0,this.result=null),null===this.result&&(this.result=this.ns.build()),!e)return this.result;for(var t="string"==typeof e?e.split("."):e,n=this.result,r=0;r<t.length;r++){if(!n[t[r]]){n=null;break}n=n[t[r]]}return n},o.lookup=function(e,t){return e?this.ns.resolve(e,t):this.ns},o.toString=function(){return"Builder"},i.Message=function(){},i.Enum=function(){},i.Service=function(){},i}(ProtoBuf,ProtoBuf.Lang,ProtoBuf.Reflect),ProtoBuf.Map=function(e,t){var n=function(e,n){if(!e.map)throw Error("field is not a map");if(this.field=e,this.keyElem=new t.Element(e.keyType,null,!0,e.syntax),this.valueElem=new t.Element(e.type,e.resolvedType,!1,e.syntax),this.map={},Object.defineProperty(this,"size",{get:function(){return Object.keys(this.map).length}}),n)for(var r=Object.keys(n),i=0;i<r.length;i++){var o=this.keyElem.valueFromString(r[i]),s=this.valueElem.verifyValue(n[r[i]]);this.map[this.keyElem.valueToString(o)]={key:o,value:s}}},r=n.prototype;function i(e){var t=0;return{next:function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}}}return r.clear=function(){this.map={}},r.delete=function(e){var t=this.keyElem.valueToString(this.keyElem.verifyValue(e)),n=t in this.map;return delete this.map[t],n},r.entries=function(){for(var e,t=[],n=Object.keys(this.map),r=0;r<n.length;r++)t.push([(e=this.map[n[r]]).key,e.value]);return i(t)},r.keys=function(){for(var e=[],t=Object.keys(this.map),n=0;n<t.length;n++)e.push(this.map[t[n]].key);return i(e)},r.values=function(){for(var e=[],t=Object.keys(this.map),n=0;n<t.length;n++)e.push(this.map[t[n]].value);return i(e)},r.forEach=function(e,t){for(var n,r=Object.keys(this.map),i=0;i<r.length;i++)e.call(t,(n=this.map[r[i]]).value,n.key,this)},r.set=function(e,t){var n=this.keyElem.verifyValue(e),r=this.valueElem.verifyValue(t);return this.map[this.keyElem.valueToString(n)]={key:n,value:r},this},r.get=function(e){var t=this.keyElem.valueToString(this.keyElem.verifyValue(e));if(t in this.map)return this.map[t].value},r.has=function(e){return this.keyElem.valueToString(this.keyElem.verifyValue(e))in this.map},n}(ProtoBuf,ProtoBuf.Reflect),ProtoBuf.loadProto=function(e,t,n){return("string"==typeof t||t&&"string"==typeof t.file&&"string"==typeof t.root)&&(n=t,t=void 0),ProtoBuf.loadJson(ProtoBuf.DotProto.Parser.parse(e),t,n)},ProtoBuf.protoFromString=ProtoBuf.loadProto,ProtoBuf.Util.IS_NODE=cc.sys.isNative,ProtoBuf.loadProtoFile=function(e,t,n){if(t&&"object"==typeof t?(n=t,t=null):t&&"function"==typeof t||(t=null),t)return cc.resources.load(e,function(r,i){if(null!==i)try{t(r,ProtoBuf.loadProto(i.text,n,e))}catch(o){t(o)}else t(Error("Failed to fetch file"))})},ProtoBuf.protoFromFile=ProtoBuf.loadProtoFile,ProtoBuf.newBuilder=function(e){return void 0===(e=e||{}).convertFieldsToCamelCase&&(e.convertFieldsToCamelCase=ProtoBuf.convertFieldsToCamelCase),void 0===e.populateAccessors&&(e.populateAccessors=ProtoBuf.populateAccessors),new ProtoBuf.Builder(e)},ProtoBuf.loadJson=function(e,t,n){return("string"==typeof t||t&&"string"==typeof t.file&&"string"==typeof t.root)&&(n=t,t=null),t&&"object"==typeof t||(t=ProtoBuf.newBuilder()),"string"==typeof e&&(e=JSON.parse(e)),t.import(e,n),t.resolveAll(),t},ProtoBuf.loadJsonFile=function(e,t,n){if(t&&"object"==typeof t?(n=t,t=null):t&&"function"==typeof t||(t=null),t)return ProtoBuf.Util.fetch("string"==typeof e?e:e.root+"/"+e.file,function(r){if(null!==r)try{t(null,ProtoBuf.loadJson(JSON.parse(r),n,e))}catch(i){t(i)}else t(Error("Failed to fetch file"))});var r=ProtoBuf.Util.fetch("object"==typeof e?e.root+"/"+e.file:e);return null===r?null:ProtoBuf.loadJson(JSON.parse(r),n,e)},ProtoBuf},"function"==typeof define&&define.amd?define(["bytebuffer"],r):"function"==typeof e&&"object"==typeof t&&t&&t.exports?t.exports=r(e("bytebuffer")):((void 0).dcodeIO=(void 0).dcodeIO||{}).ProtoBuf=r((void 0).dcodeIO.ByteBuffer),cc._RF.pop()}).call(this,e("_process"))},{_process:2,bytebuffer:"bytebuffer",fs:void 0,path:1}],tsButtonItem:[function(e,t,n){"use strict";cc._RF.push(t,"9372dSNb6RDrb+65vpv80tY","tsButtonItem");var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=cc._decorator,a=s.ccclass,c=(s.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.onButtonRemoveSelf=function(){this.node.removeFromParent()},o([a],t)}(cc.Component));n.default=c,cc._RF.pop()},{}],tsChipChoose:[function(e,t,n){"use strict";cc._RF.push(t,"cce99s3ZSlEEp2t+ntzESRN","tsChipChoose");var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=cc._decorator,a=s.ccclass,c=s.property,l=e("../common/UIHelp"),u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.listChangeBtn=[],t.nodeUserChip=null,t._curChipIndex=0,t.listChipData=[],t}return i(t,e),t.prototype.init=function(e){this.listChipData=e,this.setChipValue()},t.prototype.setChipValue=function(){var e=this.listChipData[this._curChipIndex]+"",t=this.nodeUserChip.getComponent("GameChip");t.setGold(e),t.setSpriteFrame(this._curChipIndex),this.setBtnChangeStatus()},t.prototype.getCurChipIndex=function(){return this._curChipIndex},t.prototype.onButtonChangeChip=function(e,t){"add"!=t?this._curChipIndex>0&&(this.setCurChipIndex(--this._curChipIndex),this.setBtnChangeStatus()):this._curChipIndex<this.listChipData.length-1&&(this.setCurChipIndex(++this._curChipIndex),this.setBtnChangeStatus())},t.prototype.setCurChipIndex=function(e){this._curChipIndex=e,this.setChipValue()},t.prototype.setBtnChangeStatus=function(){var e=!0;0==this._curChipIndex&&(l.UIHelp.setNodeButtonInteractable(this.listChangeBtn[1],!1),e=!1),this._curChipIndex==this.listChipData.length-1&&(l.UIHelp.setNodeButtonInteractable(this.listChangeBtn[0],!1),e=!1),e&&(l.UIHelp.setNodeButtonInteractable(this.listChangeBtn[0],!0),l.UIHelp.setNodeButtonInteractable(this.listChangeBtn[1],!0))},o([c(cc.Node)],t.prototype,"listChangeBtn",void 0),o([c(cc.Node)],t.prototype,"nodeUserChip",void 0),o([a],t)}(cc.Component);n.default=u,cc._RF.pop()},{"../common/UIHelp":"UIHelp"}],tsFeedback:[function(e,t,n){"use strict";cc._RF.push(t,"f9ec0xvBoVEQJTscbYeeb/D","tsFeedback");var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=cc._decorator,a=s.ccclass,c=s.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.label=null,t.text="hello",t}return i(t,e),t.prototype.start=function(){},o([c(cc.Label)],t.prototype,"label",void 0),o([c],t.prototype,"text",void 0),o([a],t)}(cc.Component);n.default=l,cc._RF.pop()},{}],tsGameAlert:[function(e,t,n){"use strict";cc._RF.push(t,"5f041ML8VZOzq6ZTkx7Drhe","tsGameAlert");var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=cc._decorator,a=s.ccclass,c=s.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.label=null,t.nodeCancel=null,t.nodeSure=null,t.callback=null,t}return i(t,e),t.prototype.init=function(e,t){return this.label.string=e,this.callback=t,this},t.prototype.setLabelColor=function(e){return this.label.node.color=e,this},t.prototype.setLabelSize=function(e){return this.label.fontSize=e,this},t.prototype.showButtonCancel=function(){this.nodeCancel.active=!0},t.prototype.onButtonSure=function(){this.callback&&this.callback(1),this.node.removeFromParent()},t.prototype.onButtonCancel=function(){this.callback&&this.callback(0),this.node.removeFromParent()},o([c(cc.Label)],t.prototype,"label",void 0),o([c(cc.Node)],t.prototype,"nodeCancel",void 0),o([c(cc.Node)],t.prototype,"nodeSure",void 0),o([a],t)}(cc.Component);n.default=l,cc._RF.pop()},{}],tsGameHelp:[function(e,t,n){"use strict";cc._RF.push(t,"e3d99Jl6+1GDavhrmx0fesM","tsGameHelp");var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=cc._decorator,a=s.ccclass,c=(s.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),o([a],t)}(cc.Component));n.default=c,cc._RF.pop()},{}],tsGameRecordItem:[function(e,t,n){"use strict";cc._RF.push(t,"f3857xEMtRCGZYBiHly1p23","tsGameRecordItem");var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=cc._decorator,a=s.ccclass,c=s.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.labelGameNum=null,t.labelScore=null,t.labelEndTime=null,t}return i(t,e),t.prototype.init=function(e,t,n){this.labelGameNum.string=e,this.labelScore.string=t,this.labelEndTime.string=n},o([c(cc.Label)],t.prototype,"labelGameNum",void 0),o([c(cc.Label)],t.prototype,"labelScore",void 0),o([c(cc.Label)],t.prototype,"labelEndTime",void 0),o([a],t)}(cc.Component);n.default=l,cc._RF.pop()},{}],tsGameRecord:[function(e,t,n){"use strict";cc._RF.push(t,"9c14f1okixKdpwSCeFpWP3u","tsGameRecord");var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=e("../app/Utils"),a=cc._decorator,c=a.ccclass,l=a.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.labelNoneRecord=null,t.nodeContent=null,t.pfItem=null,t}return i(t,e),t.prototype.showRecord=function(e){if(e.length){this.labelNoneRecord.node.active=!1;for(var t=e.length-1;t>=0;t--){var n=cc.instantiate(this.pfItem);n.getComponent("tsGameRecordItem").init(e[t].per_round_number,Math.floor(e[t].win/1e4).toString(),s.default.dateFormat("YYYY-mm-dd HH:MM:SS",new Date(1e3*e[t].end_time))),n.parent=this.nodeContent}}else this.labelNoneRecord.node.active=!0},o([l(cc.Label)],t.prototype,"labelNoneRecord",void 0),o([l(cc.Node)],t.prototype,"nodeContent",void 0),o([l(cc.Prefab)],t.prototype,"pfItem",void 0),o([c],t)}(cc.Component);n.default=u,cc._RF.pop()},{"../app/Utils":"Utils"}],tsGameSet:[function(e,t,n){"use strict";cc._RF.push(t,"9e880OTaHNP7aHItuXcvUqD","tsGameSet");var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=e("../common/AudioMgr"),a=cc._decorator,c=a.ccclass,l=a.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.tgMusic=null,t.tgSound=null,t.fMusicValue=0,t.fSoundVlaue=0,t}return i(t,e),t.prototype.start=function(){this.fMusicValue=~~(cc.sys.localStorage.getItem("fMusicVoice")||1),this.fSoundVlaue=~~(cc.sys.localStorage.getItem("fSoundVoice")||1),this.tgMusic.isChecked=!!this.fMusicValue,this.tgSound.isChecked=!!this.fSoundVlaue},t.prototype.onToogleMusicEvent=function(){this.fMusicValue=this.tgMusic.isChecked?1:0,s.default.setMusicValue(this.fMusicValue),s.default.chanageVolume()},t.prototype.onToogleSoundEvent=function(){this.fSoundVlaue=this.tgSound.isChecked?1:0,s.default.setSoundValue(this.fSoundVlaue),s.default.chanageVolume()},t.prototype.onDisable=function(){cc.sys.localStorage.setItem("fMusicVoice",this.fMusicValue),cc.sys.localStorage.setItem("fSoundVoice",this.fSoundVlaue)},o([l(cc.Toggle)],t.prototype,"tgMusic",void 0),o([l(cc.Toggle)],t.prototype,"tgSound",void 0),o([c],t)}(cc.Component);n.default=u,cc._RF.pop()},{"../common/AudioMgr":"AudioMgr"}],tsLanguage:[function(e,t,n){"use strict";cc._RF.push(t,"e12afowq25MEruSL4/TDvxs","tsLanguage");var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=e("../common/Data"),a=e("../i18n/I18nMgr"),c=cc._decorator,l=c.ccclass,u=c.property,f={en:0,zh:1,vi:2},h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.listTgItem=[],t}return i(t,e),t.prototype.start=function(){var e=f[s.default.language];this.listTgItem[e].check()},t.prototype.onButtonChangeLg=function(e,t){localStorage.setItem("client_language",t),s.default.language=t,a.default.setLanguage()},o([u([cc.Toggle])],t.prototype,"listTgItem",void 0),o([l],t)}(cc.Component);n.default=h,cc._RF.pop()},{"../common/Data":"Data","../i18n/I18nMgr":"I18nMgr"}],tsLoding:[function(e,t,n){"use strict";cc._RF.push(t,"9add5A2SjFM2bK4brj3cl8t","tsLoding");var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=cc._decorator,a=s.ccclass,c=s.property,l=e("../common/SceneMgr"),u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.lodingBar=null,t.callback=null,t.currentProgress=0,t}return i(t,e),t.prototype.init=function(e,t){this.callback=t,this.loadScene(e),l.default.setCurrentSceneName(e)},t.prototype.loadScene=function(e){var t=this;cc.director.preloadScene(e,this.onPreloadProgress.bind(this),function(){t.callback&&t.callback()})},t.prototype.onPreloadProgress=function(e,t){var n=e/t;n<this.currentProgress||(this.lodingBar.progress=n,this.currentProgress=n,console.warn("\u8fdb\u5ea6====>>>:",n))},o([c(cc.ProgressBar)],t.prototype,"lodingBar",void 0),o([a],t)}(cc.Component);n.default=u,cc._RF.pop()},{"../common/SceneMgr":"SceneMgr"}],tsMenuNode:[function(e,t,n){"use strict";cc._RF.push(t,"2d833vYem9El7JVpYe4tg/U","tsMenuNode");var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=e("../common/CFrame"),a=cc._decorator,c=a.ccclass,l=a.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.nodeMenuList=null,t.bMenuOpen=!1,t}return i(t,e),t.prototype.onBtnMenu=function(){this.bMenuOpen?(this.nodeMenuList.active=!1,this.bMenuOpen=!1):(this.nodeMenuList.active=!0,this.bMenuOpen=!0)},t.prototype.onBtnRecord=function(){s.default.showGameRecord()},t.prototype.onBtnAudio=function(){s.default.showGameSet()},t.prototype.onBtnHelp=function(){s.default.showGameHelp()},t.prototype.onBtnLanguage=function(){s.default.showLanguageSet()},o([l(cc.Node)],t.prototype,"nodeMenuList",void 0),o([c],t)}(cc.Component);n.default=u,cc._RF.pop()},{"../common/CFrame":"CFrame"}],tsOnlineUser:[function(e,t,n){"use strict";cc._RF.push(t,"71142ccyG5JdpZugZnzadQn","tsOnlineUser");var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=e("../app/Utils"),a=e("../common/UIHelp"),c=cc._decorator,l=c.ccclass,u=c.property,f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.nodeContent=null,t.pfItem=null,t.listOnlineUser=[],t}return i(t,e),t.prototype.init=function(e,t,n){(n||0==this.listOnlineUser.length)&&(this.generate(e),this.listOnlineUser.unshift(t));for(var r=0;r<this.listOnlineUser.length;r++){var i=cc.instantiate(this.pfItem),o=this.listOnlineUser[r];this.nodeContent.addChild(i),a.UIHelp.setNodeChildLabelString(i,"label_nickname",o.nickname),a.UIHelp.setNodeChildLabelString(i,"label_gold",o.gold)}},t.prototype.generate=function(e){this.listOnlineUser.length=0;for(var t=0;t<e;t++)this.listOnlineUser.push({nickname:"nickname"+t,gold:s.default.getRandomInt(0,200)})},o([u(cc.Node)],t.prototype,"nodeContent",void 0),o([u(cc.Prefab)],t.prototype,"pfItem",void 0),o([l],t)}(cc.Component);n.default=f,cc._RF.pop()},{"../app/Utils":"Utils","../common/UIHelp":"UIHelp"}],tsTextHint:[function(e,t,n){"use strict";cc._RF.push(t,"26969elPVBJgpaIQfpynCNh","tsTextHint");var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=cc._decorator,a=s.ccclass,c=s.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.label=null,t}return i(t,e),t.prototype.init=function(e){return this.label.string=e,this},t.prototype.start=function(){var e=this;cc.tween(this.node).delay(1).to(1,{position:cc.v3(0,200),opacity:0}).call(function(){e.node.removeFromParent()}).start()},t.prototype.setLabelColor=function(e){return this.label.node.color=e,this},t.prototype.setLabelSize=function(e){return this.label.fontSize=e,this},o([c(cc.Label)],t.prototype,"label",void 0),o([a],t)}(cc.Component);n.default=l,cc._RF.pop()},{}],tsUserInfo:[function(e,t,n){"use strict";cc._RF.push(t,"da883/MWARMUJzlZsSfoBKH","tsUserInfo");var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=e("../app/Utils"),a=cc._decorator,c=a.ccclass,l=a.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.labelNickName=null,t.labelGameID=null,t.labelUserGold=null,t.spUserHead=null,t.spFaceFrame=null,t.nodeBanker=null,t.strGameID="",t.strNickName="",t.nUserGold=0,t.nUChairID=0,t.bIsLobbyUser=!1,t}return i(t,e),t.prototype.setUserDataItem=function(e){this.setUserNickName(e.nickName),this.setUserHead(e.faceID),this.setUserGold(e.score),e.chairID&&(this.nUChairID=e.chairID)},t.prototype.getUserChairID=function(){return this.nUChairID},t.prototype.getUserNickName=function(){return this.strNickName},t.prototype.getUserGameID=function(){return this.strGameID},t.prototype.getUserGold=function(){return this.nUserGold},t.prototype.setUserGold=function(e){this.labelUserGold&&(this.labelUserGold.string=e/1e4+""),this.nUserGold=e},t.prototype.setGoldRollEffect=function(e){var t=this,n=5,r=(e-this.nUserGold)/n|0,i=function(){n>0?(n--,t.labelUserGold.string=s.default.converScore(t.nUserGold+=r),t.scheduleOnce(function(){i()},.1)):(t.labelUserGold.string=s.default.converScore(e),t.nUserGold=e,i=null)};i()},t.prototype.initUserGold=function(){this.labelUserGold.string=""},t.prototype.setUserNickName=function(e){this.labelNickName&&(this.bIsLobbyUser?this.labelNickName.string=s.default.converNickName(e,8):this.labelNickName.string=s.default.converNickName(e)),this.strNickName=e},t.prototype.setUserGameID=function(e){this.labelGameID&&(this.labelGameID.string="ID: "+e),this.strGameID=e},t.prototype.setUserHead=function(){},t.prototype.setUserHeadColor=function(e){this.spUserHead&&(this.spUserHead.node.color=e?cc.color(255,255,255):cc.color(87,87,87))},t.prototype.setUserFaceFrame=function(e){var t=this;cc.resources.load(e,cc.SpriteFrame,function(e,n){!e&&t.spFaceFrame&&(t.spFaceFrame.spriteFrame=n)})},t.prototype.setNodeBankerActive=function(e){this.nodeBanker&&(this.nodeBanker.active=e)},t.prototype.setReadyActive=function(){},t.prototype.onDestroy=function(){this.unscheduleAllCallbacks()},o([l(cc.Label)],t.prototype,"labelNickName",void 0),o([l(cc.Label)],t.prototype,"labelGameID",void 0),o([l(cc.Label)],t.prototype,"labelUserGold",void 0),o([l(cc.Sprite)],t.prototype,"spUserHead",void 0),o([l(cc.Sprite)],t.prototype,"spFaceFrame",void 0),o([l(cc.Node)],t.prototype,"nodeBanker",void 0),o([l],t.prototype,"bIsLobbyUser",void 0),o([c],t)}(cc.Component);n.default=u,cc._RF.pop()},{"../app/Utils":"Utils"}],"use_v2.1-2.2.1_cc.Toggle_event":[function(e,t){"use strict";cc._RF.push(t,"edc3eDG1xNLoLTt1WPOOIZE","use_v2.1-2.2.1_cc.Toggle_event"),cc.Toggle&&(cc.Toggle._triggerEventInScript_isChecked=!0),cc._RF.pop()},{}]},{},["Main","CBase","Client","Define","IosEvent","SDK","Utils","CNodePool","ChipControl","GameChip","GamePoker","AudioMgr","CFrame","Data","EventMgr","GameHelp","PlayerMgr","Robot","SceneMgr","UIHelp","tsButtonItem","tsChipChoose","tsFeedback","tsGameAlert","tsGameHelp","tsGameRecord","tsGameRecordItem","tsGameSet","tsLanguage","tsLoding","tsMenuNode","tsOnlineUser","tsTextHint","tsUserInfo","Consts","HttpUrl","ServerInfo","GameService","GateService","GameFrameEngine","GameFrameVIew","I18nLabel","I18nMgr","I18nSprite","LabelList","SpriteList","CMD","CRC16","Dispatch","GameSocket","Http","PBHelper","PDAdapter","Serializer","SocketDelegate","bytebuffer","long","protobuf","AES","GameKind","LHD_GameEngine","LHD_GameLogic","LHD_GameView","LHD_LuDanItem","LHD_Spine","HHDZ_GameScene","HHDZ_ChipBase","HHDZ_ChipChooseBase","HHDZ_PokerBase","HHDZ_ChipManager","HHDZ_Global","use_v2.1-2.2.1_cc.Toggle_event"]);